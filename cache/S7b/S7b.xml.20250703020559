<?xml version="1.0"?>
<TriggernometryExport PluginVersion="1.2.0.747">
<ExportedFolder Id="a6e66db4-b8ac-482b-a6ef-da33393c5ccc" Name="M5-8 宝宝椅" Enabled="true" RawEnvironmentVariables="prefix = S7b">
<Folders>
<Folder Id="f596c40f-ebc5-49c8-b24e-1b9bd3b481be" Name=".总体控制" Enabled="true">
<Folders>
<Folder Id="28a68389-b54b-468c-ba70-137edd3f35d3" Name="用户配置" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Sequential="True" Name="记录用户配置（副本内手动 /e cfg)" Id="1e3dc9f2-cbb6-4051-9deb-32f7570df771" RegularExpression="^.{15}\S+ 00:0038:: *(?i)cfg *$">
<Actions>
<Action OrderNumber="1" LogMessageText="${env:prefix}_cfg" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1257" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1259" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1263" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1261" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="[F] 注册并打开配置" Id="09b4e945-c0c1-429a-b238-9d48cac20555" RegularExpression="^(?&lt;prefix&gt;[^[:_]+)_cfg$" PeriodRefire="Deny" RefirePeriodExpression="5000">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="正在开启配置" ActionType="UseTTS" />
<Action OrderNumber="2" ExecScriptExpression="using System;&#xD;&#xA;using System.Collections;&#xD;&#xA;using System.Collections.Generic;&#xD;&#xA;using System.Drawing;&#xD;&#xA;using System.Linq;&#xD;&#xA;using System.Threading;&#xD;&#xA;using System.Windows.Forms;&#xD;&#xA;using Triggernometry;&#xD;&#xA;using Triggernometry.Forms;&#xD;&#xA;using static Triggernometry.Forms.GameConfigForm;&#xD;&#xA;&#xD;&#xA;RealPlugin.plug.RegisterNamedCallback(S7bEntry.Info.ConfigName, new Action&lt;object, string&gt;((_, __) =&gt; S7bEntry.Start()), null);&#xD;&#xA;&#xD;&#xA;public static class S7bEntry&#xD;&#xA;{&#xD;&#xA;    public static ConfigInfo Info = new ConfigInfo(&quot;阿卡狄亚中量级 M5-8 宝宝椅&quot;, null, null/*&quot;阿洛 MnFeN&quot;*/, &quot;${env:prefix}_cfg&quot;);&#xD;&#xA;    static Color Blue = Color.FromArgb(0x22, 0x66, 0xff);&#xD;&#xA;    public static void RunConfigForm()&#xD;&#xA;    {&#xD;&#xA;        try { _RunConfigForm(); }&#xD;&#xA;        catch (Exception ex)&#xD;&#xA;        {&#xD;&#xA;            MessageBox.Show(&quot;配置界面运行时遇到问题：\n\n&quot; + ex, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Error);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private static void _RunConfigForm()&#xD;&#xA;    {&#xD;&#xA;        GameConfigForm form = new GameConfigForm(Info);&#xD;&#xA;        form.Shown += (sender, e) =&gt; RealPlugin.plug.InvokeNamedCallback(&quot;command&quot;, &quot;/e &lt;se.9&gt;&quot;);&#xD;&#xA;&#xD;&#xA;        BijectDictionary&lt;string, string&gt; cbxItems;&#xD;&#xA;        Option optionCtrl;&#xD;&#xA;        Label label;&#xD;&#xA;        string hint = &quot;&quot;;&#xD;&#xA;        // 在下面倒序添加各个选项组（组内的选项正序）&#xD;&#xA;&#xD;&#xA;        OptionsTableLayoutPanel tableM8s = form.AddOptionGroup(&quot; M8s 剑嚎 &quot;);&#xD;&#xA;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#xD;&#xA;            (&quot;国&quot;, &quot; [国服] 斜八方固定位置&quot;),&#xD;&#xA;            (&quot;美&quot;, &quot; [美服] 浮游炮安全区方向 TH 顺 D 逆&quot;)&#xD;&#xA;        );&#xD;&#xA;        optionCtrl = new OptionCbx(&quot;　钢铁浮游炮时的分散站位&quot;, &quot;M8s_钢铁站位&quot;, cbxItems, &quot;国&quot;);&#xD;&#xA;        form.AddOption(optionCtrl, tableM8s);&#xD;&#xA;        /*&#xD;&#xA;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#xD;&#xA;            (&quot;顺次&quot;, &quot; 连线顺次经过四个平台&quot;),&#xD;&#xA;            (&quot;半场&quot;, &quot; 分左右半场处理接线风圈和直线分摊&quot;)&#xD;&#xA;        );&#xD;&#xA;        optionCtrl = new OptionCbx(&quot;　[未适配] 本体传线解法&quot;, &quot;M8s_传线&quot;, cbxItems, &quot;顺次&quot;);&#xD;&#xA;        form.AddOption(optionCtrl, tableM8s);&#xD;&#xA;        */&#xD;&#xA;        OptionsTableLayoutPanel tableM7s = form.AddOptionGroup(&quot; M7s 野蛮恨心 &quot;);&#xD;&#xA;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#xD;&#xA;            (&quot;1&quot;, &quot; [国服] 相对面向基准&quot;),&#xD;&#xA;            (&quot;0&quot;, &quot; [美服] 绝对方向基准&quot;)&#xD;&#xA;        );&#xD;&#xA;        optionCtrl = new OptionCbx(&quot;　八方分散的方位基准&quot;, &quot;M7s_b面基&quot;, cbxItems, &quot;1&quot;);&#xD;&#xA;        form.AddOption(optionCtrl, tableM7s);&#xD;&#xA;&#xD;&#xA;        OptionsTableLayoutPanel tableM6s = form.AddOptionGroup(&quot; M6s 狂热糖潮 &quot;);&#xD;&#xA;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#xD;&#xA;            (&quot;国&quot;, &quot; [国服] 危险仙人掌为北，左至右 H1-人群-H2&quot;),&#xD;&#xA;            (&quot;美&quot;, &quot; [美服] 危险仙人掌为南，左至右 H1-人群-H2&quot;),&#xD;&#xA;            (&quot;日&quot;, &quot; [日服] 绝对方向基准&quot;)&#xD;&#xA;        );&#xD;&#xA;        optionCtrl = new OptionCbx(&quot;　沙坑+仙人掌阶段的方位基准&quot;, &quot;M6s_沙坑基准&quot;, cbxItems, &quot;1&quot;);&#xD;&#xA;        form.AddOption(optionCtrl, tableM6s);&#xD;&#xA;        hint = &quot;第一次飞行时的圆弧内为危险区域；\n第二次飞行时的橙色多边形区域为危险区域。\n只要不在危险区域内，即可纠正至正确方向。&quot;;&#xD;&#xA;        optionCtrl = new OptionChk(&quot;  强制飞行前自动纠正面向，防止飞进电网或熔岩&quot;, &quot;M6s_AutoFly&quot;, true, hint);&#xD;&#xA;        form.AddOption(optionCtrl, tableM6s);&#xD;&#xA;&#xD;&#xA;        OptionsTableLayoutPanel tableM5s = form.AddOptionGroup(&quot; M5s 热舞绿光 &quot;);&#xD;&#xA;        form.AddLabel(&quot;  &quot;, tableM5s);&#xD;&#xA;&#xD;&#xA;        #region 使用须知&#xD;&#xA;&#xD;&#xA;        OptionsTableLayoutPanel tableInfo = form.AddOptionGroup(&quot; 使用须知 &quot;);&#xD;&#xA;&#xD;&#xA;        form.AddLabel(&quot;· 使用前必须查看使用说明，见绝伊甸触发器分组下的「使用说明」触发器。&quot;, tableInfo)&#xD;&#xA;            .ForeColor = Blue;&#xD;&#xA;&#xD;&#xA;        //label = form.AddLabel(&quot;· 下方部分选项上悬停鼠标可以显示详细说明。&quot;, tableInfo);&#xD;&#xA;        //label.ForeColor = Blue;&#xD;&#xA;&#xD;&#xA;        #endregion 使用须知&#xD;&#xA;&#xD;&#xA;        Application.OpenForms.OfType&lt;GameConfigForm&gt;().ToList().ForEach(f =&gt; f.Close());&#xD;&#xA;        form.Run();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    [STAThread]&#xD;&#xA;    public static void Start()&#xD;&#xA;    {&#xD;&#xA;        try&#xD;&#xA;        {&#xD;&#xA;            Application.OpenForms.OfType&lt;GameConfigForm&gt;().ToList().ForEach(f =&gt; f.Close());&#xD;&#xA;            Thread staThread = new Thread(new ThreadStart(RunConfigForm));&#xD;&#xA;            staThread.SetApartmentState(ApartmentState.STA);&#xD;&#xA;            staThread.Start();&#xD;&#xA;            staThread.Join();&#xD;&#xA;        }&#xD;&#xA;        catch (Exception ex)&#xD;&#xA;        {&#xD;&#xA;            MessageBox.Show(&quot;用户配置表单运行错误：\n&quot; + ex, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Error);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;" ActionType="ExecuteScript">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ecallback:${env:prefix}_cfg}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:${env:prefix}_cfg[version]}" ExpressionTypeL="String" ExpressionR="${env:version}" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="${env:prefix}_cfg" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${prefix}" ExpressionTypeL="String" ExpressionR="${env:prefix}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^(125[6-9]|126[0-3])$" Id="e048a227-7d8f-47fe-88e3-b6ef96322c2d" DisableRemoteExpand="True" DisableRemoteToggle="True" Name="区域" Enabled="true">
<Folders>
<Folder Id="ab36ad5a-41f3-4964-bbeb-2f99b25314c9" Name="标点" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="标点保存（有人标点）" Id="e8f76ac5-3248-4f45-9634-f8114f8d8de4" RegularExpression="^.{15}\S+ 1C:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="place" NamedCallbackParam="save" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="标点重载（重新挑战 / 进入战斗）" Id="a7f279b8-5a8f-4d1b-9fff-471f894008f4" RegularExpression="^.{15}\S+ (21:.{8}:40000006|104:.:1:.:1)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="place" NamedCallbackParam="load" ActionType="NamedCallback" />
<Action OrderNumber="2" NamedCallbackName="place" NamedCallbackParam="save" ActionType="NamedCallback" ExecutionDelayExpression="500" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="场地标点" Id="40c31e89-52e1-4047-9fb5-48eabbb28f6f" RegularExpression="^.{15}\S+ 21:.{8}:40000001">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 12.5&#xD;&#xA;R2: 12.5√2&#xD;&#xA;public: true" ActionType="NamedCallback" Description="M5" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1256" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: ADCB&#xD;&#xA;R: 10&#xD;&#xA;public: true&#xD;&#xA;---&#xD;&#xA;Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: _1_4_3_2&#xD;&#xA;ScaleX: 6.14&#xD;&#xA;ScaleY: 8.5&#xD;&#xA;R: √2&#xD;&#xA;public: true" ActionType="NamedCallback" Description="M6" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1258" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;Waymarks: ADCB&#xD;&#xA;R: 10&#xD;&#xA;public: true&#xD;&#xA;---&#xD;&#xA;Action: Circle&#xD;&#xA;O: 100, 5, -200&#xD;&#xA;Waymarks: 1432&#xD;&#xA;R: 10&#xD;&#xA;public: true" ActionType="NamedCallback" Description="M7" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1260" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="A: 100, 93&#xD;&#xA;C: 100, 107&#xD;&#xA;1: 100, 100&#xD;&#xA;B: 95.17, 111.31&#xD;&#xA;D: clear&#xD;&#xA;2: clear&#xD;&#xA;3: clear&#xD;&#xA;4: clear&#xD;&#xA;public: true" ActionType="NamedCallback" Description="M8" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1262" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="command" NamedCallbackParam="/e 提示：B 点为砍柱子绝对安全点" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1262" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 10&#xD;&#xA;R2: 12.5√2&#xD;&#xA;public: true" ActionType="NamedCallback" Description="M5s" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1257" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 10&#xD;&#xA;R2: 10√2&#xD;&#xA;public: true" ActionType="NamedCallback" Description="M6s" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1259" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="8" NamedCallbackName="AdvWm" NamedCallbackParam="// P2&#xD;&#xA;O: 100, 5&#xD;&#xA;Scale: 3.4&#xD;&#xA;B: -1, -1&#xD;&#xA;D:  1,  1&#xD;&#xA;public: true&#xD;&#xA;---&#xD;&#xA;// P3&#xD;&#xA;Action: Circle&#xD;&#xA;O: 100, 5, -200&#xD;&#xA;Waymarks: A1_4C3_2&#xD;&#xA;R: 10&#xD;&#xA;R2: 10√2&#xD;&#xA;public: true" ActionType="NamedCallback" Description="M7s" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1261" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="9" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 6√2&#xD;&#xA;public: true" ActionType="NamedCallback" Description="M8s" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1263" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="a1a98238-6164-4711-80eb-8f75d9e7efed" Name="用户配置" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="false" Sequential="True" Name="记录用户配置（进本自动）" Id="0f34cbb0-8577-4469-9c9e-fb6ae21b2630" RegularExpression="^.{15}\S+ 01:(?&lt;zoneId&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="${env:prefix}_cfg" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${zoneId}" ExpressionTypeL="Numeric" ExpressionR="1257" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0x${zoneId}" ExpressionTypeL="Numeric" ExpressionR="1259" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0x${zoneId}" ExpressionTypeL="Numeric" ExpressionR="1261" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0x${zoneId}" ExpressionTypeL="Numeric" ExpressionR="1263" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="记录用户配置（副本外手动 /e cfg U7b/m5-8）" Id="c13bd8ff-3dcf-4986-95aa-9636d9418656" RegularExpression="^.{15}\S+ 00:0038:: *(?i)cfg +(m5-8|U7b) *$">
<Actions>
<Action OrderNumber="1" LogMessageText="${env:prefix}_cfg" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="进战清空变量" Id="4b580746-3709-4fed-8bea-76e83f2046fd" RegularExpression="^.{15}\S+ 104:.:1:.:1">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M[5678][sn]" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="团灭中断动作" Id="ee20e8a7-f0c1-4718-9967-1f9faaece37e" RegularExpression="^.{15}\S+ 21:.{8}:400000(03|05)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Regex: ^M[5678]s" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" FolderOp="CancelFolder" FolderId="f667aded-4c3e-4feb-a693-07bd02906d2c" TriggerOp="CancelAllTrigger" ActionType="Trigger" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="false" Name="导入提示" Id="c6155872-cd8f-41b5-ace4-4d658b9e9770" RegularExpression="^." PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="30000">
<Actions>
<Action OrderNumber="1" MessageBoxIconType="Information" MessageBoxText="已添加 M1-4s 零式触发器。&#xD;&#xA;使用前请在远程触发器中查看说明。&#xD;&#xA;&#xD;&#xA;- 更新：&#xD;&#xA;&#xD;&#xA; · 四层已发布视频介绍，链接已复制到剪贴板。&#xD;&#xA;   你可以直接在浏览器粘贴查看，或在使用说明中查看。&#xD;&#xA;   如果对任何机制的标点有任何疑问，建议先看视频，&#xD;&#xA;   不要问我钢铁月环点歪了之类的问题。&#xD;&#xA; &#xD;&#xA;有任何问题请先尝试完整使用远程触发器中的自检。" ActionType="MessageBox" />
<Action OrderNumber="2" VariableOp="Clipboard" VariableExpression="${env:link}" ActionType="Variable" />
<Action OrderNumber="3" TriggerOp="DisableTrigger" TriggerId="c6155872-cd8f-41b5-ace4-4d658b9e9770" ActionType="Trigger" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="f667aded-4c3e-4feb-a693-07bd02906d2c" Name="M5-8s" Enabled="true">
<Folders>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1261$" Id="a624fe26-5ab7-4395-962b-1d9061b61a44" Name="M7s v1.0.2" Enabled="true" RawEnvironmentVariables="zone = 1261">
<Folders>
<Folder Id="ffd762a6-be50-4d6c-bf9a-8ca2a6318f4c" Name="杂项" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="石化" Id="0ed0b3a8-9719-4eb6-9da1-e8c6c07a4913" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A575):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="躲在小怪后" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="冰花" Id="9e0aedba-1c4a-4091-ad2c-9f2a0068a02f" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A59A|A59D|A570):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: er_general_x02t&#xD;&#xA;Tag: M7s_冰花&#xD;&#xA;t: 3.0&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 2, 60&#xD;&#xA;---&#xD;&#xA;Omen: er_general_x02t&#xD;&#xA;Tag: M7s_冰花&#xD;&#xA;t: 3.0&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} + π/2&#xD;&#xA;Scale: 2, 60" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="孢子安全区" Id="cded0cd0-0f04-4d7d-a0e4-5b2a54186039" RegularExpression="^.{15}\S+ 101:[^:]*:0002.{4}:(?&lt;loc&gt;08|0C|10|14|18|1C|20|24)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="0x${loc} &amp; 0x8 : 内圈左上右下 / 外圈左下右上" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_内1&#xD;&#xA;t: 10&#xD;&#xA;Pos: -5.5, -2.5&#xD;&#xA;Scale: 3, 6&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_内2&#xD;&#xA;t: 10&#xD;&#xA;Pos: 5.5, 8.5&#xD;&#xA;Scale: 3, 6&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_外1&#xD;&#xA;t: 10&#xD;&#xA;Pos: -16.75, 20&#xD;&#xA;Scale: 3.25, 6.5&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_外2&#xD;&#xA;t: 10&#xD;&#xA;Pos: 16.75, -13.5&#xD;&#xA;Scale: 3.25, 6.5&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M7s_孢子安全区&#xD;&#xA;Color: 0.1, 1.5, 20, 1&#xD;&#xA;+X: 0x${loc} &amp; 0x8&#xD;&#xA;O: ${if: 0x${loc} &gt;= 0x18 ? 100, 5, -200 : 100, 100, 0 }" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 脚下冰花" Id="7e66b3f6-3fdc-4065-a2f6-75c2683d4cba" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:52:17.106] 263 107:4001649A:A570:${_me.x}:${_me.y}:${_me.z}:${_me.h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="花点名 粉圈（开场/P3 +4黄aoe）" Id="6892fa74-eb6a-434d-8607-c1374a95544a" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0177:">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M7s_粉圈_tid" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M7s_粉圈点名:${if: ${v:M7s_phase} == P3 ? P3 : P1 }:${l:M7s_粉圈_tid.contain(${_me.id})}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_粉圈_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" UseTTSTextExpression="${if: ${l:M7s_粉圈_tid.contain(${_me.id})} ? 放种子 : 躲黄圈 }" ActionType="UseTTS" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_粉圈_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" LogMessageText="cd5:7" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_粉圈_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" ListVariableName="M7s_粉圈_tid" ActionType="ListVariable" ExecutionDelayExpression="1000" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="花点名 橙圈（P2 * 2 / P3 * 4）" Id="070f0058-2a8c-4e0f-b425-deff88642b83" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:01D2:">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M7s_橙圈_tid" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M7s_橙圈点名:${if: ${v:M7s_phase} == P3 ? P3 : P2 }:${l:M7s_橙圈_tid.contain(${_me.id})}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_橙圈_tid.size}" ExpressionTypeL="String" ExpressionR="${v:M7s_phase} == P3 ? 4 : 2" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" LogMessageText="cd5:5" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_橙圈_tid.size}" ExpressionTypeL="String" ExpressionR="${v:M7s_phase} == P3 ? 4 : 2" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ListVariableName="M7s_橙圈_tid" ActionType="ListVariable" ExecutionDelayExpression="1000" Asynchronous="False" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="0a811328-60dd-45f2-aed3-2c0d6fbf1bc8" Name="P1" Enabled="true" RawEnvironmentVariables="phase = P1">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="P1 时间轴" Id="b273dfce-7f4c-44cf-bfd0-944b2d79d42b" RegularExpression="^.{15}\S+ 104:.:1:.:1">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:3.17:六连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:18.92:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:35.92:种子站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:60.80:双分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:104.58:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:120.76:分摊，八方分散" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:126.84:分散" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="beep:126.94" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:131.08:北侧击飞" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" NamedCallbackName="PictoACT" NamedCallbackParam="Action: △&#xD;&#xA;Tag: M7s&#xD;&#xA;Delay: 131.08&#xD;&#xA;t: 15&#xD;&#xA;O: 100, 100&#xD;&#xA;Points: 0.001, -12; 1.22, -12.284; 2.304, -12.903; 3.236, -20; -3.236, -20; -2.304, -12.903; -1.22, -12.284; -0.001, -12; 0, -16&#xD;&#xA;Color: 0, 1.2, 6, 1.5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="11" NamedCallbackName="SetObjectScale" NamedCallbackParam="${_entity[bnpcid = 18307].address}, 0.3" ActionType="NamedCallback" DescTextColor="26f" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="核爆 2. 播报" Id="62b957a0-fad5-4770-a621-a9e1b4842cc2" RegularExpression="^M7s_核爆:2:dir6:(?&lt;dir6&gt;[0-5]):bCW:(?&lt;bCW&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="A 点开始" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_θ2" VariableExpression="dir2rad(${dir6}, 6) + (${bCW} ? -2*π/3 : 2*π/3)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Arc&#xD;&#xA;O: 100, 100 polar 16, ${v:tmp_θ2}&#xD;&#xA;R: 23.5 + 1.25&#xD;&#xA;θ: ${v:tmp_θ2} + π&#xD;&#xA;dθ: 50.32°&#xD;&#xA;ScaleX: ${bCW} ? 1 : -1&#xD;&#xA;Waymarks: 4321DCBA&#xD;&#xA;" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="4" VariableName="tmp_θ2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="11600" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="核爆 1. 获取 =&gt; 2" Id="8b389279-b3d0-4cca-b452-fe7988db6dc7" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A576:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="23.5 外伤害恒定 n （对 dps 7w，对 t 4.1w）；0.5 - 23.5 线性衰减，每米衰减 0.78n；0.5 内恒定 18.9n" DescriptionOverride="True" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="M7s_核爆_dir6" ListVariableExpression="roundvec(${x} - 100, ${y} - 100, 6)" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M7s_核爆:1:dir6:${l:M7s_核爆_dir6[1]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_核爆_dir6.size}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" LogMessageText="M7s_核爆:2:dir6:${l:M7s_核爆_dir6[1]}:bCW:${n: (${l:M7s_核爆_dir6[2]} - ${l:M7s_核爆_dir6[1]}) %% 6 = 4 }" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_核爆_dir6.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 核爆" Id="163a6f59-4382-4d6e-81c2-ae667a7f72c1" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:52:51.191] 263 107:400164A8:A576:86.154:108.005:0.000:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.54 * 1000" />
<Action OrderNumber="3" LogMessageText="[12:52:53.732] 263 107:400164A9:A576:100.009:83.987:0.000:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="2.50 * 1000" />
<Action OrderNumber="5" LogMessageText="[12:52:56.228] 263 107:400164A7:A576:113.865:108.005:0.000:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="fd778047-8096-4dea-b785-60d3a579b468" Name="P2" Enabled="true" RawEnvironmentVariables="phase = P2">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="核爆仇恨" Id="190ca5af-5a9e-4cb7-ad00-73a58f3bc056" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0147:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${_entity[bnpcid = 18307].targetid} == ${_me.id} &#xD;&#xA;  ? ${if: ${tid} == ${_me.id} ? 死刑远离，退避 : 保持一仇 } &#xD;&#xA;  : ${if: ${tid} == ${_me.id} ? 死刑远离 : 挑衅 } &#xD;&#xA;}" Enabled="False" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 击飞" Id="6d915b64-e68d-4236-813c-2ffb1e2d241a" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A57C):">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M7s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="P2 时间轴" Id="d0658d11-4f01-40c6-b8d2-c5f7706bafe4" RegularExpression="^.{15}\S+ 101:.{8}:00020001:00">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:14.04" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:62.89:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:74.39:地火" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:109.85:种子站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:121.54:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:164.85:双分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:192.82:碎地板" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="地火判定" Id="b6d247f3-5a77-4486-bb6d-7a29372eac80" RegularExpression="^.{15}\S+ 108:4.{7}:A58B:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" SystemBeepFreqExpression="" SystemBeepLengthExpression="" LogMessageText="beep:0" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="花点名（P2 橙圈）" Id="eb8b8af0-a969-4c44-83e2-319fb272ae18" RegularExpression="M7s_橙圈点名:P2:(?&lt;b点名&gt;[01])">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M7s_P2种子_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${b点名} ? 放种子 : 躲开 }，${v:M7s_P2种子_n}" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="4d4978ed-325b-4b79-9eb7-9784d9357042" Name="P3" Enabled="true" RawEnvironmentVariables="phase = P3">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 碎地板" Id="f59ead91-830e-433b-970c-5082168eb587" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A59E):">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M7s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="P3 时间轴" Id="5b2ee54e-da32-4f4c-93bd-691aae297029" RegularExpression="^.{15}\S+ 101:.{8}:00020001:01">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:16.35" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:23.47:七连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:81.77:八连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:97.55:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:114.86:种子站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:163.62:${if: ${v:myIdx_isTM} ? 近战集合站位 : 远程放黄圈站位 }" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:179.45:躲开黄圈，分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:187.27:准备八方分散" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:189.05:分散" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="beep:189.15" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="tts:191.57:八连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="tts:214.00:钢铁月环2，种子站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="tts:261.78:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="tts:280.90:八连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="15" ActionType="Placeholder" Asynchronous="False" Description="开场落地和两次分摊塔落地" DescriptionOverride="True" />
<Action OrderNumber="16" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[bnpcid = 18307].address}, 0.3" ActionType="NamedCallback" ExecutionDelayExpression="14000" DescTextColor="26f" />
<Action OrderNumber="17" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[bnpcid = 18307].address}, 0.3" ActionType="NamedCallback" ExecutionDelayExpression="66400" DescTextColor="26f" />
<Action OrderNumber="18" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[bnpcid = 18307].address}, 0.3" ActionType="NamedCallback" ExecutionDelayExpression="180000" DescTextColor="26f" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="1c406f90-1d2c-43b3-affb-ca2310dd07a0" Name="钢铁月环组合技" Enabled="true" RawEnvironmentVariables="color钢铁 = 1.5, 0.5, 1, 0.8&#xD;&#xA;color月环 = 0, 1, 8, 0.8&#xD;&#xA;color钢铁箭头 = 5, 1, 1, 0.8&#xD;&#xA;color月环箭头 = 0, 2, 15, 1.5">
<Folders>
<Folder Id="68c1289d-a98c-4194-89d4-96970ec5bf27" Name="钢铁月环2 P2" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 储存钢铁月环" Id="c5d6b853-5770-4f97-be1e-a4d0cfa51ff6" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A5(?&lt;type&gt;7F|80):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M7s_钢月2_is钢" VariableExpression="${type} == 7F" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="储存${if: ${v:M7s_钢月2_is钢} ? 钢铁 : 月环 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 跳跃" Id="a99bec49-36f2-48e4-80e4-e80a5b12a50e" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A5(?&lt;type&gt;8[CDEF]|9[01]):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d: 8C = 跳右侧, 8D = 跳左后, 8E = 跳左侧短边, 8F = 跳对角, 90 = 跳右侧短边, 91 = 跳对角 [${type}]}，${if: ${v:M7s_钢月2_is钢} ? 钢铁 : 月环 }，${if: ${type} == 90 &amp;&amp; !${v:M7s_钢月2_is钢} ? 准备快跑 : &quot;&quot; }" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="tmp_startXY" VariableExpression="${?d: &#xD;&#xA;  &quot;8C = 100, -20&quot;, &#xD;&#xA;  &quot;8D = 100, -20&quot;, &#xD;&#xA;  &quot;8E = 112.5, -7.5&quot;, &#xD;&#xA;  &quot;8F = 112.5, -7.5&quot;, &#xD;&#xA;  &quot;90 = 87.5, 17.5&quot;, &#xD;&#xA;  &quot;91 = 87.5, 17.5&quot; &#xD;&#xA;[${type}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="tmp_endXY" VariableExpression="${?d: &#xD;&#xA;  &quot;8C = 112.5, -7.5&quot;, &#xD;&#xA;  &quot;8D = 87.5, 17.5&quot;, &#xD;&#xA;  &quot;8E = 100, -20&quot;, &#xD;&#xA;  &quot;8F = 87.5, 17.5&quot;, &#xD;&#xA;  &quot;90 = 100, -20&quot;, &#xD;&#xA;  &quot;91 = 112.5, -7.5&quot; &#xD;&#xA;[${type}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="// 箭头&#xD;&#xA;Delay: 0.01&#xD;&#xA;Tag: M7s&#xD;&#xA;Omen: e5d1_b1_kblaser_t1&#xD;&#xA;t: 7.5&#xD;&#xA;Pos: ${v:tmp_startXY}, 0&#xD;&#xA;Angle: θ(${v:tmp_startXY}, ${v:tmp_endXY})&#xD;&#xA;Scale: 0.5, ${n: distance(${v:tmp_startXY}, ${v:tmp_endXY})}&#xD;&#xA;Color: ${if: ${v:M7s_钢月2_is钢} ? ${env:color钢铁箭头} : ${env:color月环箭头} }" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd" />
<Action OrderNumber="5" VariableName="tmp_startXY" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" VariableName="tmp_endXY" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-26 17:13" Id="cf107ee7-4c39-45ea-be31-1b3615fa9a34" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:54:02.870] 263 107:40016488:A57F:100.009:-34.486:0.183:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="3" LogMessageText="[12:54:10.711] StartsCasting 14:40016488:Brute Abombinator:A58C:Brutish Swing:E0000000::3.700:99.99:-34.50:0.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[12:54:10.711] 263 107:400164A9:A592:126.988:-7.508:0.000:-1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="15000" />
<Action OrderNumber="6" LogMessageText="[12:54:42.819] 263 107:40016488:A580:126.988:-7.508:0.183:-1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="8" LogMessageText="[12:55:13.207] StartsCasting 14:40016488:Brute Abombinator:A58F:Brutish Swing:E0000000::3.700:126.97:-7.52:0.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[12:55:13.207] 263 107:40016497:A593:73.000:17.487:0.000:1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="15000" />
<Action OrderNumber="11" LogMessageText="[12:56:07.883] 263 107:40016488:A57F:73.000:17.487:0.183:1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="13" LogMessageText="[12:56:35.777] StartsCasting 14:40016488:Brute Abombinator:A590:Brutish Swing:E0000000::3.700:72.98:17.47:0.00:1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[12:56:35.777] 263 107:4001649D:A592:100.009:-34.486:0.000:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 钢铁月环" Id="d7d778e5-ecab-4d61-a46d-fd076aafbd91" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A59(?&lt;type&gt;2|3):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:7.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;t: 7.3&#xD;&#xA;Tag: M7s_钢月2&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Scale: 0${v:M7s_钢月2_is钢} ? 25 : 22&#xD;&#xA;Color: ${if: ${v:M7s_钢月2_is钢} ? ${env:color钢铁} : ${env:color月环} }" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="7500" />
<Action OrderNumber="4" UseTTSTextExpression="${if: ${v:myIdx_isG1} ? 左 : 右 }侧分散。准备 AoE" ActionType="UseTTS" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: M7s&#xD;&#xA;t: 5.1&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 7, 70&#xD;&#xA;Color: 1,1,1,1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="9e2c9e2b-76a3-485a-8fe9-3f7678f5201b" Name="钢铁月环1 死刑" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 播报钢铁月环" Id="7f65166a-6da2-48fb-94ed-8d057cf64548" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A5(?&lt;type&gt;5F|60):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M7s_钢月1_is打远" VariableExpression="${type} == 60" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="然后${if: ${v:M7s_钢月1_is打远} ? 远死刑 : 近死刑 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" UseTTSTextExpression="然后${if: ${v:M7s_钢月1_is打远} ? 人群靠近 : 人群远离 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="3700" />
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="load" Enabled="False" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Tag: M7s_钢月1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 储存钢铁月环" Id="d2cf5b31-920c-4134-bbd0-fadc9d0a84eb" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A55(?&lt;type&gt;D|E):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M7s_钢月1_is钢" VariableExpression="${type} == D" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${v:M7s_钢月1_is钢} ? 钢铁 : 月环 }" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: ${x}, ${y}, ${z}&#xD;&#xA;R: ${v:M7s_钢月1_is钢} ? 13.25 : 7.75&#xD;&#xA;Waymarks: A1D4C3B2" Enabled="False" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: M7s_钢月1&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 0${v:M7s_钢月1_is钢} ? 12 : 9&#xD;&#xA;Color: ${if: ${v:M7s_钢月1_is钢} ? ${env:color钢铁} : ${env:color月环} }" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="fd869404-6094-4502-860f-390231900877" Name="钢铁月环3 P3" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 储存钢铁月环" Id="1e21ae21-0cfa-4937-a5ca-6c13403f035d" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A5A(?&lt;type&gt;0|1):">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M7s_钢月3_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M7s_钢月3_is左钢" VariableExpression="${type} == 1" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4.1 结尾（第一次）" Id="4bdfdaa7-06b7-47e7-88c9-390b047da117" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A5A(?&lt;type&gt;B|C):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="6600" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${v:myIdx_isG1} ? 左侧 : 右侧 }分散" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: M7s&#xD;&#xA;t: 3&#xD;&#xA;Pos: ${x}, ${y}, -200&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 7, 60&#xD;&#xA;Color: 1,1,1,1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="3000" />
<Action OrderNumber="5" UseTTSTextExpression="踩塔" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M7s_钢月3_n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 第一次钢铁月环" Id="7453606a-70fa-4be8-a621-367127078ae9" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A5A(?&lt;type&gt;3|5):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="20000">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M7s_钢月3_is先钢" VariableExpression="${type} == 3" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M7s_钢月3_is右安全" VariableExpression="${v:M7s_钢月3_is先钢} != ${v:M7s_钢月3_is左钢}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" UseTTSTextExpression="${if: ${v:M7s_钢月3_is先钢} ? 钢铁 : 月环 }，${if: ${v:M7s_钢月3_n} = 1 ? AoE : &quot;&quot; }，然后去${if: ${v:M7s_钢月3_is右安全} ? 右 : 左 }" ActionType="UseTTS" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;t: 6.3&#xD;&#xA;Tag: M7s_钢月3&#xD;&#xA;Pos: ${x}, ${y}, -200&#xD;&#xA;Scale: 0${v:M7s_钢月3_is先钢} ? 25 : 22&#xD;&#xA;Color: ${if: ${v:M7s_钢月3_is先钢} ? ${env:color钢铁} : ${env:color月环} }" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="// 箭头&#xD;&#xA;Omen: e5d1_b1_kblaser_t1&#xD;&#xA;Tag: M7s&#xD;&#xA;t: 6.3&#xD;&#xA;Pos: 100, 5, -200&#xD;&#xA;Angle: ${h} + π&#xD;&#xA;Scale: 0.5, 20&#xD;&#xA;Color: ${if: ${v:M7s_钢月3_is先钢} ? ${env:color钢铁箭头} : ${env:color月环箭头} }" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="6" LogMessageText="cd5:6.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="${v:M7s_钢月3_n} = 1 ? 6300 : 7200" />
<Action OrderNumber="8" UseTTSTextExpression="${if: ${v:M7s_钢月3_is右安全} ? 右右右 : 左左左 }" ActionType="UseTTS" />
<Action OrderNumber="9" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: M7s&#xD;&#xA;t: ${v:M7s_钢月3_n} = 1 ? 7.1 : 4.1&#xD;&#xA;O: 100, 5, -200&#xD;&#xA;θ: ${h} + pi&#xD;&#xA;+X: ${v:M7s_钢月3_is右安全}&#xD;&#xA;Pos: -6.5, -20&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 13.5, 40&#xD;&#xA;Color: 1,1,1,1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 第二次跳跃" Id="3fdff55d-3fb5-467e-9de2-7833cf2192e2" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A5A(?&lt;type&gt;B|C):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${type} == B ? 右侧 : 左侧 }${if: ${v:M7s_钢月3_is先钢} ? 月环 : 钢铁 }，${if: ${v:M7s_钢月3_n} = 1 ? 准备${if: ${v:myIdx_isG1} ? 左侧 : 右侧 }分散 : &quot;&quot; }" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:6.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;t: 6.3&#xD;&#xA;Tag: M7s_钢月3&#xD;&#xA;Pos: ${x}, ${y}, -200&#xD;&#xA;Scale: !0${v:M7s_钢月3_is先钢} ? 25 : 22&#xD;&#xA;Color: ${if: !${v:M7s_钢月3_is先钢} ? ${env:color钢铁} : ${env:color月环} }" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="// 箭头&#xD;&#xA;Omen: e5d1_b1_kblaser_t1&#xD;&#xA;Tag: M7s&#xD;&#xA;t: 6.3&#xD;&#xA;O: 100, 5, -200&#xD;&#xA;θ: θ(100, 5, ${x}, ${y})&#xD;&#xA;+X: ${type} == B&#xD;&#xA;Pos: -20, 0&#xD;&#xA;Angle: 3/4 * π&#xD;&#xA;Scale: 0.5, 20√2&#xD;&#xA;Color: ${if: !${v:M7s_钢月3_is先钢} ? ${env:color钢铁箭头} : ${env:color月环箭头} }" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4.2 结尾（第二次）" Id="90788dd9-e4de-4f75-9fad-c365190b8ea5" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A5A(?&lt;type&gt;B|C):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="6600" />
<Action OrderNumber="2" UseTTSTextExpression="踩塔" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M7s_钢月3_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-26 17:59" Id="fa73cf4b-abef-4cc1-a698-834ed0744c1a" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:57:48.190] StartsCasting 14:40016488:Brute Abombinator:A5A0:Stoneringer 2: Stoneringers:40016488:Brute Abombinator:1.700:99.99:4.99:-200.00:-0.36" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="3" LogMessageText="[12:57:56.342] 263 107:400164A9:A5A3:65.493:5.005:-199.988:1.570" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="15.51 * 1000" />
<Action OrderNumber="5" LogMessageText="[12:58:11.848] 263 107:40016488:A5AC:100.009:-29.511:-199.988:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[12:58:11.848] 263 107:400164A9:A5A5:100.009:-29.511:-199.988:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="5000" />
<Action OrderNumber="8" LogMessageText="[13:00:41.634] StartsCasting 14:40016488:Brute Abombinator:A5A0:Stoneringer 2: Stoneringers:40016488:Brute Abombinator:1.700:99.47:5.87:-200.00:-3.09" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="10" LogMessageText="[13:00:59.688] 263 107:400164A5:A5A5:134.495:5.005:-199.988:-1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="14.44 * 1000" />
<Action OrderNumber="12" LogMessageText="[13:01:14.134] 263 107:40016488:A5AC:100.009:39.491:-199.988:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[13:01:14.134] 263 107:400164A5:A5A3:100.009:39.491:-199.988:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="花点名（P3 橙圈）" Id="db5585f5-a4c4-422d-b5af-aee49076dfae" RegularExpression="M7s_橙圈点名:P3:(?&lt;b初始&gt;[01])" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="20000">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b初始} ? 放种子 : 二组 }" ActionType="UseTTS" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${b初始} ? &quot;&quot; : 准备放种子 }" ActionType="UseTTS" ExecutionDelayExpression="11200" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="242e53f4-2483-446f-a897-25d14a2ab269" Name="八方分散" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Sequential="True" Name="1. 分摊点名" Id="ecb289ed-f214-49d9-b252-2bb9413bdb4a" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:00A1:">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="_tmp_dθ" VariableExpression="dir2rad(${?l: 0, 4, 2, 6, 3, 5, 1, 7 [${v:myIdx}]}, 8) + π" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M7s_八方_线&#xD;&#xA;t: 7.2&#xD;&#xA;Scale: 0.05, 7.5, 0&#xD;&#xA;Color: 3, 3, 3, 1.5&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M7s_八方_环&#xD;&#xA;t: 7.2&#xD;&#xA;Pos: 0, -7.5&#xD;&#xA;ScaleCyl: 1.5, 0.3&#xD;&#xA;Color: 0.1, 1.6, 20, 2&#xD;&#xA;Update: false" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" LoopDelayExpression="10" ActionType="Loop">
<LoopCondition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_sincems}" ExpressionTypeL="String" ExpressionR="4300" ExpressionTypeR="String" ConditionType="NumericLess" />
</LoopCondition>
<LoopActions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Delay: 0.001&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M7s_八方&#xD;&#xA;// ↓ 奇技淫巧 后面三元表达式是判断 z 的&#xD;&#xA;O: ${_entity[${tid}].XYZ} &gt; -1 ? 0 : -200&#xD;&#xA;θ: θ(${_entity[bnpcid = 18307].XY}, ${_entity[${tid}].XY}) + ${v:_tmp_dθ}" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M7s_b面基]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Delay: 0.001&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M7s_八方&#xD;&#xA;O: ${_entity[${tid}].XYZ} &gt; -1 ? 0 : -200&#xD;&#xA;θ: π + ${v:_tmp_dθ}" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M7s_b面基]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</LoopActions>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-27 10:35" Id="b02fe2f2-2540-4dc2-858a-4a35695da799" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[13:00:12.221] TargetIcon 1B:${_me.id}:${_me}:0000:0000:00A1:${_me.id}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="2. 小钢铁读条" Id="9e928f7c-9978-4d86-a22d-55ea1baf1910" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A57A:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M7s_八方&#xD;&#xA;O: ${x}, ${y}, ${z}&#xD;&#xA;θ: ${_entity[${sid}].Heading} + ${v:_tmp_dθ}" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M7s_b面基]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M7s_八方&#xD;&#xA;O: ${x}, ${y}, ${z}&#xD;&#xA;θ: π + ${v:_tmp_dθ}" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M7s_b面基]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="注册小队：自身" Id="8c8fcf97-3998-44a9-85e7-16f51a73e390" RegularExpression="^.{15}\S+ 01:(?&lt;zoneid&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="PartyList:Register:${env:zone}:Self" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${zoneid}" ExpressionTypeL="Numeric" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1263$" Id="85f80df4-f314-4b6a-8506-53b2f0b12c0c" Name="M8s v0.6.0" Enabled="true" RawEnvironmentVariables="zone = 1263">
<Folders>
<Folder Id="cffc0242-5be5-43fa-9556-cd34b68ac733" Name="杂项" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="AoE Extraplanar Pursuit" Id="57b088cc-5d27-4853-96d8-920f014ae536" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A74F):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="分摊死刑 Great Divide" Id="f4658e7e-ad94-4dff-8bf3-97f65759cdc0" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3D8):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="分摊死刑" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="分摊 Heavensearth" Id="e32cfea8-d9fc-443b-88da-196f0bea617b" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3C0):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="分摊" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="多段分摊 Tracking Tremors" Id="ffa817ee-a971-437d-b99e-9792caf9e6e3" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3B9):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="多段分摊" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="临时" Id="0775ec60-c2a2-4d03-a0a7-41f25a9c4d38" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A45A|A4CD):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d:&#xD;&#xA;  A45A = 双分摊,&#xD;&#xA;  A4CD = 双死刑&#xD;&#xA;  [${aid}]&#xD;&#xA;}&#xD;&#xA;" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="狂暴碎平台" Id="de870a43-630b-4fd2-82fc-95e2f4b65431" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A74D:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="传送" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="distance(${_me.x, y}, ${x}, ${y})" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="1fd21a4b-cbf7-44a7-b00b-eeb1ee708a8b" Name="C. 千年风蚀 Millennial Decay" Enabled="true" RawEnvironmentVariables="phase = Millennial Decay">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始 AoE" Id="fd8aa50c-1f77-47ba-91aa-feea7f1af168" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3B2):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M8s_MD" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取龙头 =&gt; 2" Id="42d300fc-2dc6-4cc0-a9d4-e2e5b78b5010" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18218:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" LogProcess="True" ActionType="Placeholder" Description="phase " DescriptionOverride="True" />
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M8s_MD_头_h" ListVariableExpression="${id}${h}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="_M8s_MD_头" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_MD_头_h.size}" ExpressionTypeL="String" ExpressionR="9" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 处理龙头" Id="a7acf5be-42b5-4a15-8a06-cbc70f87cf91" RegularExpression="^_M8s_MD_头">
<Actions>
<Action OrderNumber="1" ListVariableOp="SortAlphaDesc" ListVariableName="M8s_MD_头_h" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" ListVariableOp="SetAll" ListVariableName="M8s_MD_头_h" ListVariableExpression="${f:substring(8):${_this}}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M8s_MD_is顺" VariableExpression="relθ(${l:M8s_MD_头_h[1]}, ${l:M8s_MD_头_h[2]}) &lt; 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M8s_MD_is线正" VariableExpression="roundir(${l:M8s_MD_头_h[-1]}, 8) % 2 = 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" LogMessageText="M8s_MD_头:is顺:${v:M8s_MD_is顺}:is线正:${v:M8s_MD_is线正}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" UseTTSTextExpression="${if: ${v:M8s_MD_is顺} ? 顺时针 : 逆时针 }" ActionType="UseTTS" />
<Action OrderNumber="7" UseTTSTextExpression="防击退" ActionType="UseTTS" ExecutionDelayExpression="4500" />
<Action OrderNumber="8" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[bnpcid = 18215].Address}, ${if: ${v:M8s_MD_is顺} ? m0515_turning_right01c : m0515_turning_left01c }" ActionType="NamedCallback" ExecutionDelayExpression="2500" />
<Action OrderNumber="9" UseTTSTextExpression="${if: ${v:M8s_MD_is顺} ? 左顺 : 右逆 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="5. 获取连线 =&gt; 6" Id="ed1d7b7e-5776-41ee-a4d2-fa165043da05" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;0039|0001)">
<Actions>
<Action OrderNumber="1" LogProcess="True" ActionType="Placeholder" Description="phase " DescriptionOverride="True" />
<Action OrderNumber="2" LogProcess="True" ActionType="Placeholder" Description="0039 近   0001 拉远" DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="tmp_recorded" VariableExpression="${l:M8s_MD_线_tid.contain(${tid})}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogProcess="True" ActionType="Placeholder" Description="是自身：输出" DescriptionOverride="True" />
<Action OrderNumber="5" LogMessageText="M8s_MD_自线:dir8:${n: roundir(${_entity[${sid}].Heading}, 8)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_recorded}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" LogProcess="True" ActionType="Placeholder" Description="四次均不是自身：输出" DescriptionOverride="True" />
<Action OrderNumber="7" ListVariableOp="Push" ListVariableName="M8s_MD_线_tid" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_recorded}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" LogMessageText="M8s_MD_线_自塔:is正:${n: !${v:M8s_MD_is线正}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_recorded}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_MD_线_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_MD_线_tid.contain(${_me.id})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="9" VariableName="tmp_recorded" ActionType="Variable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_MD_线_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="6.1 拉线" Id="99ff96da-bc38-44bb-aa93-3760c20d37ab" RegularExpression="^M8s_MD_自线:dir8:(?&lt;dir8&gt;[0-7])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="拉线，${f:pick(${dir8}):上北, 左上, 左西, 左下, 下南, 右下, 右东, 右上}" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="Action: linear&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dir8}, 8)&#xD;&#xA;Start: 0, -2.25&#xD;&#xA;End: 0, -10.75&#xD;&#xA;Waymarks: ABCD&#xD;&#xA;---&#xD;&#xA;1: fakeclear&#xD;&#xA;2: fakeclear&#xD;&#xA;3: fakeclear&#xD;&#xA;4: fakeclear" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="7200" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="6.2 踩塔" Id="2666ae92-b668-4890-a510-30478aa6583e" RegularExpression="^M8s_MD_线_自塔:is正:(?&lt;is正&gt;0|1)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${is正} ? 正点踩塔 : 斜点踩塔 }" ActionType="UseTTS" />
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="Action: linear&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${?l: 0, 6, 2, 4, 2, 4, 0, 6 [${v:myIdx}]} + (${is正} ? 0 : 1), 8)&#xD;&#xA;Start: 0, -2&#xD;&#xA;End: 0, -10&#xD;&#xA;Waymarks: ABCD&#xD;&#xA;---&#xD;&#xA;1: fakeclear&#xD;&#xA;2: fakeclear&#xD;&#xA;3: fakeclear&#xD;&#xA;4: fakeclear" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="7200" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-06 19:41" Id="b164b9b2-1c28-401f-b36d-09265122feea">
<Actions>
<Action OrderNumber="1" LogMessageText="[15:01:56.030] StartsCasting 14:40020188:Howling Blade:A3B2:_rsv_41906_-1_1_0_0_SE2DC5B04_EE2DC5B04:40020188:Howling Blade:4.700:99.99:99.99:0.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="5.00 * 1000" />
<Action OrderNumber="3" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:40020173:Wolf of Wind:13846:18218:100.0000:112.0000:0.0000:3.1414" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:40020172:Wolf of Wind:13846:18218:107.0534:109.7082:0.0000:-2.5133" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:40020171:Wolf of Wind:13846:18218:111.4127:103.7082:0.0000:-1.8850" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:4002016F:Wolf of Wind:13846:18218:107.0534:90.2918:0.0000:-0.6284" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:40020170:Wolf of Wind:13846:18218:111.4127:96.2918:0.0000:-1.2567" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:4002016E:Wolf of Wind:13846:18218:100.0000:92.0000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:4002016D:Wolf of Wind:13846:18218:108.0000:99.9972:0.0000:-1.5705" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:4002016C:Wolf of Wind:13846:18218:100.0000:108.0000:0.0000:3.1414" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:4002016B:Wolf of Wind:13846:18218:92.0000:99.9972:0.0000:1.5703" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="21.65 * 1000" />
<Action OrderNumber="13" LogMessageText="[15:02:22.683] Tether 23:4002016E:Wolf of Wind:${l:party[2]}:队员:0000:0000:0039:${l:party[2]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[15:02:22.683] Tether 23:4002016D:Wolf of Wind:${l:party[1]}:队员:0000:0000:0039:${l:party[1]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[15:02:22.683] Tether 23:4002016C:Wolf of Wind:${l:party[3]}:队员:0000:0000:0039:${l:party[3]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[15:02:22.683] Tether 23:4002016B:Wolf of Wind:${l:party[4]}:队员:0000:0000:0039:${l:party[4]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" ActionType="Placeholder" ExecutionDelayExpression="5.66 * 1000" />
<Action OrderNumber="18" LogMessageText="[15:02:28.338] Tether 23:4002016D:Wolf of Wind:${l:party[1]}:队员:0000:0000:0001:${l:party[1]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="[15:02:28.382] Tether 23:4002016E:Wolf of Wind:${l:party[2]}:队员:0000:0000:0001:${l:party[2]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" LogMessageText="[15:02:28.427] Tether 23:4002016C:Wolf of Wind:${l:party[3]}:队员:0000:0000:0001:${l:party[3]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" ActionType="Placeholder" ExecutionDelayExpression="0.22 * 1000" />
<Action OrderNumber="22" LogMessageText="[15:02:28.560] Tether 23:4002016B:Wolf of Wind:${l:party[4]}:队员:0000:0000:0001:${l:party[4]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="24" LogMessageText="[15:02:29.006] Tether 23:4002016E:Wolf of Wind:${l:party[5]}:队员:0000:0000:0039:${l:party[5]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="取消特效" Id="1316810d-b107-4845-8be7-2479a26e29c0" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:A3B3:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Redraw" NamedCallbackParam="${_entity[${tid}].Address}" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="龙头范围" Id="ff5e41e8-7f25-47e6-93de-370596aa0a9d" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A3B4:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M8s_MD_直线读条_n" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: M8s&#xD;&#xA;Delay: ${v:M8s_MD_直线读条_n} = 1 ? 0 : 5.5&#xD;&#xA;t: ${v:M8s_MD_直线读条_n} = 1 ? 7.6 : 2.1&#xD;&#xA;Scale: 4, 40&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Angle: ${h}" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 龙头" Id="e5b5ecc6-9739-4fbd-9bc7-06847f14740e" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[23:59:30.614] 263 107:40020AAC:A3B4:100.009:88.015:0.000:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.01 * 1000" />
<Action OrderNumber="3" LogMessageText="[23:59:32.624] 263 107:40020AAB:A3B4:107.059:90.304:0.000:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="2.01 * 1000" />
<Action OrderNumber="5" LogMessageText="[23:59:34.633] 263 107:40020AAA:A3B4:111.423:96.286:0.000:-1.257" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="2.01 * 1000" />
<Action OrderNumber="7" LogMessageText="[23:59:36.642] 263 107:40020AA9:A3B4:111.423:103.702:0.000:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="9" LogMessageText="[23:59:38.648] 263 107:40020AA8:A3B4:107.059:109.714:0.000:-2.513" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4. 播报风圈点名" Id="c2bc6d15-7b21-4f74-bc50-a5ddd660df68" RegularExpression="^M8s_MD_点名:(?&lt;b点名&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b点名} ? 风圈点名 : 躲开风圈 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 风圈点名 =&gt; 4" Id="b80992e3-1e80-4900-ba5a-95c46d2bd706" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0178:">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M8s_MD_点名" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M8s_MD_点名:${l:M8s_MD_点名.contain(${_me.id})}" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_MD_点名.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ListVariableName="M8s_MD_点名" ActionType="ListVariable" ExecutionDelayExpression="1000" Asynchronous="False" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="7c229ed0-5a81-4a70-b9d6-eab2f659524f" Name="D. 柱子" Enabled="true" RawEnvironmentVariables="phase = Terrestrial Titans">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 获取柱子" Id="717fc374-2d0d-4154-9544-63c81f513dd6" RegularExpression="^.{15}\S+ 101:[^:]*:(?&lt;facing&gt;0002|0080).{4}:(?&lt;loc&gt;1[02])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="0002：面向中心偏右倒  0080：偏左倒     10-13：右左上下柱子" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M8s_柱_is沿主斜" VariableExpression="(0x${facing} = 0x2) = (0x${loc} = 0x10)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" UseTTSTextExpression="${if: ${v:M8s_柱_is沿主斜} ? 右上左下 : 左上右下 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="播报" Id="87dda488-9724-40b0-809f-2b342863a8e2" RegularExpression="^M8s_柱:dir4:(?&lt;dir4&gt;[0-3]):is相对主斜:(?&lt;is相对主斜&gt;0|1)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${n: (${dir4} - ${is相对主斜}) %% 4 }): 左上, 左下, 右下, 右上 }" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:5.95" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#xD;&#xA;θ: dir2rad(${dir4}, 4)&#xD;&#xA;ScaleX: ${is相对主斜} ? 1 : -1&#xD;&#xA;1: 0, 0&#xD;&#xA;2: 2, -2&#xD;&#xA;3: 4, -4&#xD;&#xA;4: fakeclear&#xD;&#xA;A: 7.28, -8.56&#xD;&#xA;B: 8.68, -7.16&#xD;&#xA;C: 10.09, -5.75&#xD;&#xA;D: 11.49, -4.35" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="5950" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 获取激光" Id="d036ed18-8e4f-41a1-bbc5-c966c76ac37a" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18221:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):-?(0.7|2.3)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_柱_X_dir4" VariableExpression="roundvec(${x} - 100, ${y} - 100, 4)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M8s_柱_is相对X沿主斜" VariableExpression="(${v:M8s_柱_X_dir4} % 2 = 0) = ${v:M8s_柱_is沿主斜}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M8s_柱:dir4:${v:M8s_柱_X_dir4}:is相对主斜:${v:M8s_柱_is相对X沿主斜}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-06 23:51" Id="cc8ba63f-86fa-4f25-8cbe-94bec0a2d80e">
<Actions>
<Action OrderNumber="1" LogMessageText="[21:20:58.322] 257 101:800375C8:00020001:12::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.91 * 1000" />
<Action OrderNumber="3" LogMessageText="[21:21:07.051] _ActorSetPos AAA:10F:40021A73:Gleaming Fang:13850:18221:108.0000:100.0000:0.0000:-0.7855" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 柱子 Terrestrial Titans" Id="a0683e9a-02a4-4f06-94bf-287abe0e877f" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3C4):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="柱子" ActionType="UseTTS" />
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M8s_柱子" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="2839b9a8-d95b-49ce-9fac-3ad84d360072" Name="E. 小怪" Enabled="true" RawEnvironmentVariables="phase = add">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 获取连线" Id="bd07986f-00c9-4a03-b918-4d15ea5eb2ce" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;014F|0150)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_add_is自土线" VariableExpression="0x${type} = 0x14F" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="去${if: ${v:M8s_add_is自土线} ? 左侧绿色 : 右侧黄色 }" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100&#xD;&#xA;ScaleX: 0${v:M8s_add_is自土线} ? -1 : 1&#xD;&#xA;Start: 1, 0&#xD;&#xA;End: 10.75, 0&#xD;&#xA;Waymarks: ABCD" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${sid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 获取风球 =&gt; 顺逆" Id="e544d318-4a9b-4482-8e48-b6f69376c9b8" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18261:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="左风头 右土头" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${y} &lt; 100 ? 逆时针 : 顺时针 }" ActionType="UseTTS" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="318/319：指向北/南侧的箭头（P2s）" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[bnpcid = 18219].Address}, ${y} &lt; 100 ? 319 : 318" ActionType="NamedCallback" />
<Action OrderNumber="5" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[bnpcid = 18225].Address}, ${y} &lt; 100 ? 318 : 319" ActionType="NamedCallback" />
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="clear" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="12000" />
<Action OrderNumber="8" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[bnpcid = 18219].Address}, 0" ActionType="NamedCallback" />
<Action OrderNumber="9" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[bnpcid = 18225].Address}, 0" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="6fabedc9-421d-40ec-bf65-cfc66a6e9742" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A3C8:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="clear" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M8s_add" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取风头" Id="b2a27642-3ff7-4a51-bb40-432e6b2f71d4" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}18219:([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M8s_add_风头_id" VariableExpression="${id}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4.1 消绿毒" Id="aabf35d1-12c2-48f6-bf81-f81c83fc78ef" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A3CC:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="狼头读条死刑时 &lt;= 24 s 的绿 debuff" DescriptionOverride="True" />
<Action OrderNumber="2" LogMessageText="cd5:6.6" LogProcess="True" UseTTSTextExpression="准备撞风球" ActionType="LogMessage" />
<Action OrderNumber="3" UseTTSTextExpression="准备撞风球" ActionType="UseTTS" ExecutionDelayExpression="2600" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="abs(${_me.StatusTimer(0x1128)} - 12)" ExpressionTypeL="Numeric" ExpressionR="12" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="4.2 消黄毒" Id="39a12f2b-1e1e-4c39-960e-893fedbad5e5" RegularExpression="^.{15}\S+ 1A:B7D:[^:]+:3\.9[^:]*:.{8}:[^:]*:(?&lt;tid&gt;1.{7}):" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="10000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="获得 3.96 s 易伤时 &lt;= 13 s 的黄 debuff" DescriptionOverride="True" />
<Action OrderNumber="2" LogMessageText="cd5:4.46" LogProcess="True" UseTTSTextExpression="准备撞风球" ActionType="LogMessage" />
<Action OrderNumber="3" UseTTSTextExpression="准备撞风球" ActionType="UseTTS" ExecutionDelayExpression="460" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="abs(${_me.StatusTimer(0x1127)} - 6.5)" ExpressionTypeL="Numeric" ExpressionR="6.5" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="Numeric" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="本体半透明" Id="97f059a9-1c1a-49ab-bc9a-c941be9015e5" RegularExpression="^.{15}\S+ 1A:808:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:385:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="SetOpacity" NamedCallbackParam="${_entity[${tid}].Address}, 0.3" ActionType="NamedCallback" />
<Action OrderNumber="2" NamedCallbackName="SetOpacity" NamedCallbackParam="${_entity[${tid}].Address}, 1" ActionType="NamedCallback" ExecutionDelayExpression="50000" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="24c27b11-ee18-41a6-9338-439118a99c56" Name="F. Terrestrial Rage" Enabled="true" RawEnvironmentVariables="phase = Terrestrial Rage">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="五分身安全区" Id="8d67e691-8e62-41ff-a6ad-14c3acf4a67a" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18216:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="计算 “dir5”：正北安全区时即为 dir5；倒五边形安全区时逆时针旋转 π/10 （相当于 dirN5 - 1 取余），为了与攻略一致" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_dir5" VariableExpression="roundir(${h} + π + π/10, 5)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_b自己" VariableExpression="(${v:tmp_dir5} = 0 &amp;&amp; !${v:M8s_TR_b自散}) || (${v:tmp_dir5} = ${?l: 1,4,2,3,2,3,1,4 [${v:myIdx}]} &amp;&amp; ${v:M8s_TR_b自散})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="delay: 0.01&#xD;&#xA;Tag: M8s&#xD;&#xA;Action: Triangulate&#xD;&#xA;t: 2.8&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: ${h} + π&#xD;&#xA;Points: -0.5,-7.5; 0.5,-7.5; 3.77,-12; 0,-12; -3.77,-12&#xD;&#xA;Color: ${if: 0${v:tmp_b自己} ? &quot;0, 1, 6, 2&quot; : &quot;0.5, 1, 2, 2&quot; }" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd" />
<Action OrderNumber="5" VariableName="tmp_dir5" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" VariableName="tmp_b自己" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Triangulate&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 4.1&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: ${h}&#xD;&#xA;Points: -1.05,-8.25; 1.05,-8.25; 3.77,-12; 0,-12; -3.77,-12&#xD;&#xA;Color: 0, 1, 6, 2" ActionType="NamedCallback" ExecutionDelayExpression="3000" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="abs( relθ( ${h}, θ(100, 100, ${_me.xy}) ) )" ExpressionTypeL="Numeric" ExpressionR="π/2" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(distance(100, 100, 0, ${x}, ${y}, ${z}), 1)" ExpressionTypeL="Numeric" ExpressionR="7.5" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="激光器矩形" Id="ac90210d-fcf0-475c-aba1-6d3df5bdfa56" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18220:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="两次实体必然镜像对称，为了控制显示时长，只用前两个触发 ，结束后镜像显示第二组对应的" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="Omen" NamedCallbackParam="general_x02f, 5.8, ${x}, ${y}, ${z}, ${h}, 3, 30" ActionType="NamedCallback" />
<Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="4" VariableOp="SetString" VariableName="M8s_双向激光_lock" VariableExpression="1" ActionType="Variable" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="4800" />
<Action OrderNumber="6" NamedCallbackName="Omen" NamedCallbackParam="general_x02f, 2.5, 200 - ${x}, 200 - ${y}, ${z}, ${h}, 3, 30" ActionType="NamedCallback" />
<Action OrderNumber="7" VariableName="M8s_双向激光_lock" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_双向激光_lock}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="黄头矩形" Id="ac24784d-5fb9-482d-870e-18736d26b5f4" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18507:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="phase" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2300" />
<Action OrderNumber="3" NamedCallbackName="Omen" NamedCallbackParam="general02f, 2.8, ${x}, ${y}, ${z}, ${h}, 3, 40" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="59cbb5e5-9d7a-45fc-8519-80abac80c3e4" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A3CB:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="用的是小怪阶段结束，因为 TR 读条有两次，且第二次在 moonlight 后" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" UseTTSTextExpression="AoE" ActionType="UseTTS" />
<Action OrderNumber="4" VariableOp="UnsetRegexUniversal" VariableName="^M8s_TR" ActionType="Variable" />
<Action OrderNumber="5" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取分散点名" Id="d91ce062-72a9-468c-af04-d7ec8a7ae112" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:008B:">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M8s_TR_散_tid" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="M8s_TR_b自散" VariableExpression="${l:M8s_TR_散_tid.contain(${_me.id})}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_TR_散_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" LogMessageText="M8s_TR_散:b自散:${v:M8s_TR_b自散}:tid:${l:M8s_TR_散_tid.join(:)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_TR_散_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ListVariableName="M8s_TR_散_tid" ActionType="ListVariable" ExecutionDelayExpression="1000" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 处理分散点名" Id="da5d6df7-1b4d-4ed3-beb2-c96943cf7439" RegularExpression="^M8s_TR_散:b自散:(?&lt;b自散&gt;0|1)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="10000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase, 冷却" DescriptionOverride="True" />
<Action OrderNumber="2" LogMessageText="cd5:5" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" UseTTSTextExpression="${if: ${b自散} ? 分散 : 分摊 }" ActionType="UseTTS" />
<Action OrderNumber="4" UseTTSTextExpression="${if: ${b自散} ? 分摊 : 分散 }" ActionType="UseTTS" ExecutionDelayExpression="5000" />
<Action OrderNumber="5" UseTTSTextExpression="躲开" ActionType="UseTTS" ExecutionDelayExpression="6800" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-07 12:25" Id="7264103f-4580-48e5-9139-14503391e062">
<Actions>
<Action OrderNumber="1" LogMessageText="[09:02:56.938] _ActorSetPos AAA:10F:400256EB:Howling Blade:13843:18216:100.0000:107.5000:0.0000:-3.1416" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[09:02:56.938] _ActorSetPos AAA:10F:400256EA:Howling Blade:13843:18216:92.8671:102.3176:0.0000:1.8849" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[09:02:56.938] _ActorSetPos AAA:10F:400256E9:Howling Blade:13843:18216:95.5916:93.9324:0.0000:0.6283" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[09:02:56.938] _ActorSetPos AAA:10F:400256E8:Howling Blade:13843:18216:104.4084:93.9324:0.0000:-0.6284" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[09:02:56.938] _ActorSetPos AAA:10F:400256E7:Howling Blade:13843:18216:107.1329:102.3176:0.0000:-1.8850" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="619af364-c753-4ba7-9e84-17f9708d371d" Name="H. 本体开场" Enabled="true" RawEnvironmentVariables="phase = 本体开场">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 210度刀" Id="f9359c81-d918-4a9b-bddb-9e6c750f3465" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:0017:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="me.isT &amp;&amp; tgt.isT" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="${if: 0x${tid} = 0x${_me.id} ? 退避 : 挑衅 }，死刑" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" UseTTSTextExpression="${if: (roundvec(${_entity[${tid}].x} - 100, ${_entity[${tid}].y} - 100, -5) - roundvec(${_me.x} - 100, ${_me.y} - 100, -5) ) %% 5 %% 3 = 1&#xD;&#xA;  ? 原地分摊 &#xD;&#xA;  : 换平台，分摊 &#xD;&#xA;}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="本体左右激光  可以优化开始时间" Id="ca50d148-6589-45ca-a05a-c6cf0134a6aa" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A45E:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="general02f, 3.7, ${x}, ${y}, ${z}, ${h}, 4, 18" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="本体时间轴" Id="0e59f98c-32ac-4569-b1de-7a34649367a6" RegularExpression="^.{15}\S+ 28:994:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="SetCameraParams" NamedCallbackParam="AngleH = π&#xD;&#xA;AngleV = 0" ActionType="NamedCallback" />
<Action OrderNumber="3" NamedCallbackName="command" NamedCallbackParam="/e [Debug] SetCameraParams&#xD;&#xA;  AngleH = π&#xD;&#xA;  AngleV = 0" ActionType="NamedCallback" DescBgColor="fdd" />
<Action OrderNumber="4" LogMessageText="cd5:18.45" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" UseTTSTextExpression="两侧平台分摊" UseTTSExclusive="False" ActionType="UseTTS" ExecutionDelayExpression="18450" />
<Action OrderNumber="6" UseTTSTextExpression="蓝圈站位" ActionType="UseTTS" ExecutionDelayExpression="13000" />
<Action OrderNumber="7" UseTTSTextExpression="${if: ${_me.IsT} ? 双T死刑 : 躲开双T死刑 }" ActionType="UseTTS" ExecutionDelayExpression="12000" />
<Action OrderNumber="8" UseTTSTextExpression="前方集合" ActionType="UseTTS" ExecutionDelayExpression="11000" />
<Action OrderNumber="9" UseTTSTextExpression="蓝圈站位" ActionType="UseTTS" ExecutionDelayExpression="11500" />
<Action OrderNumber="10" UseTTSTextExpression="两侧平台分摊" ActionType="UseTTS" ExecutionDelayExpression="11000" />
<Action OrderNumber="11" UseTTSTextExpression="前方集合，碎平台" ActionType="UseTTS" ExecutionDelayExpression="11000" />
<Action OrderNumber="12" UseTTSTextExpression="躲开，去${if: ${_me.isT} ? 两侧 : 背后 }" ActionType="UseTTS" ExecutionDelayExpression="8000" />
<Action OrderNumber="13" UseTTSTextExpression="踩塔站位" ActionType="UseTTS" ExecutionDelayExpression="17500" />
<Action OrderNumber="14" UseTTSTextExpression="准备接线" ActionType="UseTTS" ExecutionDelayExpression="15000" />
<Action OrderNumber="15" UseTTSTextExpression="两侧平台分摊" ActionType="UseTTS" ExecutionDelayExpression="74000" />
<Action OrderNumber="16" UseTTSTextExpression="蓝圈站位" ActionType="UseTTS" ExecutionDelayExpression="10000" />
<Action OrderNumber="17" UseTTSTextExpression="${if: ${_me.IsT} ? 双T死刑 : 躲开双T死刑 }" ActionType="UseTTS" ExecutionDelayExpression="14000" />
<Action OrderNumber="18" UseTTSTextExpression="拉线站位" ActionType="UseTTS" ExecutionDelayExpression="11000" />
<Action OrderNumber="19" UseTTSTextExpression="准备半场刀" ActionType="UseTTS" ExecutionDelayExpression="39000" />
<Action OrderNumber="20" UseTTSTextExpression="蓝圈站位" ActionType="UseTTS" ExecutionDelayExpression="9000" />
<Action OrderNumber="21" UseTTSTextExpression="狂暴塔" ActionType="UseTTS" ExecutionDelayExpression="13000" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="ee9e9a37-ef8a-4289-9b43-37b7e0ab3cb9" Name="I. Hero's Blow 钢铁月环+半场刀" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1.1 获取钢铁月环" Id="11364dd0-a29e-4c2b-af58-7913f6c07e7f" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A46[34]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_HB_is钢" VariableExpression="0x${aid} = 0xA463" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="M8s_HB_h" VariableExpression="${h}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M8s_HB:is钢:${v:M8s_HB_is钢}:is右safe:${v:M8s_HB_is右safe}:h:${v:M8s_HB_h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_HB_is钢}${ev:M8s_HB_is右safe}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" VariableOp="UnsetRegexUniversal" VariableName="^M8s_HB" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_HB_is钢}${ev:M8s_HB_is右safe}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1.2 获取左右刀" Id="b8f4c119-c3c2-4d25-8ad8-2f5ec00068ef" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A46[02]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_HB_is右safe" VariableExpression="0x${aid} = 0xA460" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M8s_HB:is钢:${v:M8s_HB_is钢}:is右safe:${v:M8s_HB_is右safe}:h:${v:M8s_HB_h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_HB_is钢}${ev:M8s_HB_is右safe}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="UnsetRegexUniversal" VariableName="^M8s_HB" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_HB_is钢}${ev:M8s_HB_is右safe}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 播报" Id="5d13ec73-7768-4634-801e-4b9871f5b365" RegularExpression="^M8s_HB:is钢:(?&lt;is钢&gt;0|1):is右safe:(?&lt;is右safe&gt;0|1):h:(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${is右safe} ? 右 : 左 }${if: ${is钢} ? 外 : 内 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="画图左右刀" Id="041f2f7c-267d-4840-b2d6-b09791d0008c" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A46[02]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="general02f, 6.7, ${x}, ${y}, ${z}, ${h}, 25.5" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="画图钢铁" Id="6868be2a-1ec4-4706-a6b8-d7ec4e5c8049" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A463):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="general_1bf, 6.7, ${x}, ${y}, ${z}, ${h}, 22" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="画图月环" Id="93437b2c-2d58-454f-9a2d-f9e0dda59540" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A464):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="gl_sircle_3015ac, 6.7, ${x}, ${y}, ${z}, ${h}, 30" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="5a413542-1b1b-48b7-96a1-7fb753529549" Name="J. Twofold Tempest" Enabled="true" RawEnvironmentVariables="phase = Twofold Tempest">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="连线" Id="ebe22f5c-efcd-433b-b19f-0268a3ea630b" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:0054" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="40000">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_TT_is同侧线" VariableExpression="(${_entity[${tid}].x} &gt; 100) = (${_me.x} &gt; 100)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${v:M8s_TT_is同侧线} ? 同侧 : 对侧 }连线" ActionType="UseTTS" />
<Action OrderNumber="3" UseTTSTextExpression="第二次" ActionType="UseTTS" ExecutionDelayExpression="7100" />
<Action OrderNumber="4" UseTTSTextExpression="第三次" ActionType="UseTTS" ExecutionDelayExpression="7100" />
<Action OrderNumber="5" UseTTSTextExpression="第四次" ActionType="UseTTS" ExecutionDelayExpression="7100" />
<Action OrderNumber="6" UseTTSTextExpression="准备转盘" ActionType="UseTTS" ExecutionDelayExpression="7100" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="绿圈" Id="0555a20e-f650-4cdf-ab8a-17b4cc3afe12" RegularExpression="^.{15}\S+ 105:Add:.+BNpcID:1EBD8F:.*PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):PosZ:(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="general_1bf, 7.0,   ${x}, ${y}, ${z}, 0,   9.5, 9.5, 1,   0.05, 0.3, 0.05, 2" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="6583344b-8ef2-44d2-a27e-effbc48c0a55" Name="K. 转盘" Enabled="true" RawEnvironmentVariables="phase = 转盘">
<Folders>
<Folder Id="8c0c71c5-3091-4e90-8b85-1e345a1a39af" Name="模拟用" Enabled="false">
<Folders />
<Triggers>
<Trigger Enabled="false" Name="2. 每个初始读条" Id="12523ae1-d79d-4abf-9bfd-d84df31337dd" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A47[9ABCD]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" LogMessageText="_M8s_转盘_omen:${aid}:0:7.8:${x}:${y}:${z}:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="false" Name="1. 旋转方向" Id="4c5f33e0-8807-4c7a-ba73-8238dc733c55" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;4.{7}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;01F[56]):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="LockOn" NamedCallbackParam="${_tgt.Address}, ${?d: 01F5 = m0851_turnright_c0g, 01F6 = m0851_turnleft_c0g [${type}] }" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="1. 旋转方向" Id="48e727fa-b4d4-4e50-920f-bbdbe1e5b293" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;4.{7}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;01F[56]):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_转盘_is逆" VariableExpression="0x${type} = 0x01F6" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="5. 激光" Id="673864c1-d23b-4999-8d8b-42b772fc22a9" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A476:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="general02f, 3.2, ${x}, ${y}, ${z}, ${h}, 4, 18" ActionType="NamedCallback" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_dir-5" VariableExpression="roundvec(${x}-100, ${y}-100, -5, -1)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" UseTTSTextExpression="${if: ${v:tmp_dir-5} - round(${v:tmp_dir-5}) &gt; 0 ? 左 : 右 }" ActionType="UseTTS" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(${v:tmp_dir-5})" ExpressionTypeL="Numeric" ExpressionR="roundvec(${_me.x}-100, ${_me.y}-100, -5)" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#xD;&#xA;L = round(${v:tmp_dir-5})&#xD;&#xA;R = ${n: roundvec(${_me.x}-100, ${_me.y}-100, -5)}" Enabled="False" ActionType="NamedCallback" Asynchronous="False" DescBgColor="fdd" />
<Action OrderNumber="5" VariableName="tmp_dir-5" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 接收初始读条 =&gt; 3" Id="0d2ac7b4-25c8-4e2b-8ae5-0ef83960dc27" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A47[9ABCD]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="8200" />
<Action OrderNumber="2" LogMessageText="_M8s_转盘_omen:${aid}:1:4.1:${x}:${y}:${z}:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="4400" />
<Action OrderNumber="4" LogMessageText="_M8s_转盘_omen:${aid}:2:4.1:${x}:${y}:${z}:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="4400" />
<Action OrderNumber="6" LogMessageText="_M8s_转盘_omen:${aid}:3:4.1:${x}:${y}:${z}:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="4400" />
<Action OrderNumber="8" LogMessageText="_M8s_转盘_omen:${aid}:4:4.1:${x}:${y}:${z}:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="4400" />
<Action OrderNumber="10" VariableName="_tmp_${aid}_θ" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" VariableOp="SetString" VariableName="_tmp_${aid}_scale" VariableExpression="${?d:&#xD;&#xA;  &quot;A479 = 6, 30, 1&quot;,&#xD;&#xA;  &quot;A47A = 13, 13, 1&quot;,&#xD;&#xA;  &quot;A47B = 28, 28, 1&quot;,&#xD;&#xA;  &quot;A47C = 22, 22, 1&quot;,&#xD;&#xA;  &quot;A47D = 28, 28, 1&quot;&#xD;&#xA;  [${aid}]&#xD;&#xA;}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="12" VariableOp="SetString" VariableName="_tmp_${aid}_omen" VariableExpression="${?d:&#xD;&#xA;  A479 = general02f,&#xD;&#xA;  A47A = x6r8_b4_donut13m_4_01k1,&#xD;&#xA;  A47B = x6r8_b4_fan28m60_16_01k1,&#xD;&#xA;  A47C = gl_fan060_y10_1bt,&#xD;&#xA;  A47D = x6r8_b4_fan28m60_16_01k1&#xD;&#xA;  [${aid}]&#xD;&#xA;}" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 处理初始读条 =&gt; 4" Id="d005c0af-bff4-485c-bc90-567f4d1c7c2c" RegularExpression="^_M8s_转盘_omen:(?&lt;aid&gt;[^:]*):(?&lt;turn&gt;[0-4]):(?&lt;t&gt;[^:]*):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="9：30*12 矩形 general02f" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="A：13/4 月环 x6r8_b4_donut13m_4_01k1" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="B/D：28/16 60°扇环 x6r8_b4_fan28m60_16_01k1" DescriptionOverride="True" />
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="C：22 60°扇形 gl_fan060_y10_1bt" DescriptionOverride="True" />
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="x y 处理为相对的；z 取整到十位（某些特效悬空无法显示）" DescriptionOverride="True" />
<Action OrderNumber="6" VariableOp="SetString" VariableName="tmp_omen" VariableExpression="${?d:&#xD;&#xA;  A479 = general02f,&#xD;&#xA;  A47A = gl_sircle_1005bf,&#xD;&#xA;  A47B = gl_fan_o60h23m14p,&#xD;&#xA;  A47C = gl_fan060_y10_1bt,&#xD;&#xA;  A47D = gl_fan_o60h23m14p&#xD;&#xA;  [${aid}]&#xD;&#xA;}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="7" VariableOp="SetString" VariableName="tmp_others" VariableExpression="${?d:&#xD;&#xA;  &quot;A479 = 6,30,1,   0.8,1,1,1.5&quot;,&#xD;&#xA;  &quot;A47A = 8,8,1,   1,1,1,2&quot;,&#xD;&#xA;  &quot;A47B = 26.286,26.286,1,   1,1,1,1.5&quot;,&#xD;&#xA;  &quot;A47C = 22,22,1,   1,1,1,1.5&quot;,&#xD;&#xA;  &quot;A47D = 26.286,26.286,1,   1,1,1,1.5&quot;&#xD;&#xA;  [${aid}]&#xD;&#xA;}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="8" VariableOp="SetNumeric" VariableName="tmp_θ" VariableExpression="${turn} * (${v:M8s_转盘_is逆} ? 72 : -72)°" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="9" VariableOp="SetNumeric" VariableName="tmp_x" VariableExpression="100 + (${x} - 100) * cos(${v:tmp_θ}) + (${y} - 100) * sin(${v:tmp_θ})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="10" VariableOp="SetNumeric" VariableName="tmp_y" VariableExpression="100 + (${y} - 100) * cos(${v:tmp_θ}) - (${x} - 100) * sin(${v:tmp_θ})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" VariableOp="SetNumeric" VariableName="tmp_z" VariableExpression="round(${z} / 10) * 10" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="12" VariableOp="SetNumeric" VariableName="tmp_h" VariableExpression="${h} + ${v:tmp_θ}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="13" LogMessageText="M8s_转盘_omen:${v:tmp_omen}, ${t}, ${v:tmp_x}, ${v:tmp_y}, ${v:tmp_z}, ${v:tmp_h}, ${v:tmp_others}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="14" VariableOp="UnsetRegex" VariableName="^tmp_" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4. 转盘画图" Id="0de68ae6-432e-4d38-8e69-1945cdd76874" RegularExpression="^M8s_转盘_omen:(?&lt;params&gt;.+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="${params}" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log (@ 100 100 0)" Id="a0380acb-0a84-4ed8-b079-b3d18c5c4d8c" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[22:27:39.706] 263 107:4001E986:A47D:100.009:100.009:1.009:-1.257" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[22:27:39.706] 263 107:4001E987:A47C:100.009:100.009:1.009:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[22:27:39.706] 263 107:4001E989:A47A:89.724:85.849:0.001:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[22:27:39.706] 263 107:4001E988:A47B:100.009:100.009:1.009:1.257" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[22:27:39.706] 263 107:4001E98B:A479:100.009:100.009:1.009:2.513" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[22:27:39.706] TargetIcon 1B:4001E971:Howling Blade:0000:0000:01F5:4001E971:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="4.54 * 1000" />
<Action OrderNumber="8" LogMessageText="[22:27:44.250] 263 107:4001EB34:A476:124.912:112.308:0.001:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[22:27:44.250] 263 107:4001EB37:A476:112.919:75.411:0.001:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[22:27:44.250] 263 107:4001EB39:A476:80.599:80.111:0.001:0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[22:27:44.250] 263 107:4001EB3A:A476:72.604:104.709:0.001:1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[22:27:44.250] 263 107:4001EB3C:A476:96.011:127.506:0.001:3.141" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="4.36 * 1000" />
<Action OrderNumber="14" LogMessageText="[22:27:48.611] 263 107:4001EB3D:A476:104.007:127.506:0.001:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[22:27:48.655] 263 107:4001EB35:A476:127.384:104.709:0.001:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[22:27:48.655] 263 107:4001EB37:A476:112.919:75.411:0.001:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[22:27:48.655] 263 107:4001EB38:A476:87.069:75.411:0.001:0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[22:27:48.655] 263 107:4001EB3B:A476:75.076:112.308:0.001:1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="4.41 * 1000" />
<Action OrderNumber="20" LogMessageText="[22:27:53.021] 263 107:4001EB3B:A476:75.076:112.308:0.001:1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[22:27:53.021] 263 107:4001EB3C:A476:96.011:127.506:0.001:3.141" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogMessageText="[22:27:53.065] 263 107:4001EB35:A476:127.384:104.709:0.001:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" LogMessageText="[22:27:53.065] 263 107:4001EB36:A476:119.388:80.111:0.001:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" LogMessageText="[22:27:53.065] 263 107:4001EB39:A476:80.599:80.111:0.001:0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="25" ActionType="Placeholder" ExecutionDelayExpression="4.42 * 1000" />
<Action OrderNumber="26" LogMessageText="[22:27:57.435] 263 107:4001EB39:A476:80.599:80.111:0.001:0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="27" LogMessageText="[22:27:57.435] 263 107:4001EB3A:A476:72.604:104.709:0.001:1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" LogMessageText="[22:27:57.435] 263 107:4001EB3D:A476:104.007:127.506:0.001:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="29" LogMessageText="[22:27:57.479] 263 107:4001EB34:A476:124.912:112.308:0.001:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" LogMessageText="[22:27:57.479] 263 107:4001EB37:A476:112.919:75.411:0.001:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="31" ActionType="Placeholder" ExecutionDelayExpression="4.41 * 1000" />
<Action OrderNumber="32" LogMessageText="[22:28:01.843] 263 107:4001EB37:A476:112.919:75.411:0.001:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="33" LogMessageText="[22:28:01.843] 263 107:4001EB38:A476:87.069:75.411:0.001:0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" LogMessageText="[22:28:01.843] 263 107:4001EB3A:A476:72.604:104.709:0.001:1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="35" LogMessageText="[22:28:01.843] 263 107:4001EB3C:A476:96.011:127.506:0.001:3.141" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="36" LogMessageText="[22:28:01.888] 263 107:4001EB34:A476:124.912:112.308:0.001:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="9fa72c02-1082-462d-9fb9-019a1e3677ca" Name="B. 群狼剑" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2.2 特效" Id="398c5a71-5b56-4b6b-9bd4-de6dca831b60" RegularExpression="^M8s_群狼剑:dir6:(?&lt;dir6&gt;[0-5]):b最终远:(?&lt;b最终远&gt;[01]):b钢铁:(?&lt;b钢铁&gt;[01])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="// 箭头&#xD;&#xA;Omen: x6d2_pk_o0e1&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 6.8&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dir6}, 6)&#xD;&#xA;Scale: 2, 12" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="// boss 边上自己一侧的安全区&#xD;&#xA;Action: Triangulate&#xD;&#xA;Tag: M8s_群狼剑_△&#xD;&#xA;t: 6.8&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir6}, 6)&#xD;&#xA;+X: ${v:myIdx_isG1}&#xD;&#xA;Points: 3.12,-5.125; 4.685,-6.502; 5.685,-8.332; 5.998,-10.393; 9.192,-7.714; 11.277,-4.104; 12,0.002; 10.058,-0.758; 7.974,-0.807; 5.998,-0.139; 5.622,-2.096; 4.626,-3.821; 3.119,-5.125; 7.734,-4.465&#xD;&#xA;Color: 0, 1.2, 6, 1.5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="clear" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="6800" />
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="dir6 = 0-3（初始方向 0 3 4 5）的分身距离场中 7.5，4-5（初始方向 1 2）的距离 7.0，制作组算错数还要人擦屁股 绝了" DescriptionOverride="True" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Tag: M8s_群狼剑_△" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="// 直线&#xD;&#xA;Omen: Rect&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 2.3&#xD;&#xA;O: 100, 100 &#xD;&#xA;θ: dir2rad(0${dir6}, 6)&#xD;&#xA;Pos: 0, -12&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 5, 28" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="8" NamedCallbackName="PictoACT" NamedCallbackParam="// 扇形&#xD;&#xA;Omen: Fan120&#xD;&#xA;Tag: M8s_群狼剑_扇形&#xD;&#xA;t: 5.3&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir6}, 6) + pi&#xD;&#xA;Pos: 0, 0${b最终远} ? -7.5 : -7.0&#xD;&#xA;Angle: 0&#xD;&#xA;Color: 1, 1, 1, 0.2&#xD;&#xA;Scale: 25&#xD;&#xA;---&#xD;&#xA;Delay: 2&#xD;&#xA;Action: Change&#xD;&#xA;Tag: M8s_群狼剑_扇形&#xD;&#xA;Color: 1, 1, 1, 0.5" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" NamedCallbackName="PictoACT" NamedCallbackParam="// 钢铁&#xD;&#xA;Omen: Circle&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 5.3&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir6}, 6) + pi&#xD;&#xA;Pos: 0, 0${b最终远} ? -7.5 : -7.0&#xD;&#xA;Angle: 0&#xD;&#xA;Color: 1, 1, 1, 0.5&#xD;&#xA;Scale: 14" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="10" NamedCallbackName="PictoACT" NamedCallbackParam="// 四线 扇形&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线T1&#xD;&#xA;Angle: -140°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线H1&#xD;&#xA;Angle: -85°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线H2&#xD;&#xA;Angle: 85°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线T2&#xD;&#xA;Angle: 140°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_群狼剑_线&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir6}, 6) + pi&#xD;&#xA;Pos: 0, 0${b最终远} ? -7.5 : -7.0&#xD;&#xA;Scale: 0.05, 25, 0" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="11" NamedCallbackName="PictoACT" NamedCallbackParam="// 四线 钢铁&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线T1&#xD;&#xA;Angle: -52°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线H1&#xD;&#xA;Angle: -12°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线H2&#xD;&#xA;Angle: 12°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线T2&#xD;&#xA;Angle: 52°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_群狼剑_线&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir6}, 6) + pi&#xD;&#xA;Pos: 0, 0${b最终远} ? -7.5 : -7.0&#xD;&#xA;Scale: 0.05, 25, 0" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="12" NamedCallbackName="PictoACT" NamedCallbackParam="// 四线 染色&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_群狼剑_线T&#xD;&#xA;Color: 1, 2, 9, 1&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_群狼剑_线H&#xD;&#xA;Color: 1.5, 7, 1, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="6000" />
<Action OrderNumber="14" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Regex: ^M8s_群狼剑_线" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="15" NamedCallbackName="AdvWm" NamedCallbackParam="&#xA;load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取" Id="732c7c67-9009-4eb4-bd0c-d1422a2308a0" RegularExpression="^.{15}\S+ 107:4.{7}:A93(?&lt;type&gt;0|1):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_跳跃_dir6" VariableExpression="roundvec(${x} - 100, ${y} - 100, 6)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M8s_群狼剑:dir6:${v:M8s_跳跃_dir6}:b最终远:${?l: 0,3,4,5.contain(${v:M8s_跳跃_dir6})}:b钢铁:${n: ${type} == 1}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 tts 播报" Id="0bdbd8db-da19-4a94-a6aa-407dbff22c74" RegularExpression="^M8s_群狼剑:dir6:(?&lt;dir6&gt;[0-5]):b最终远:(?&lt;b最终远&gt;[01]):b钢铁:(?&lt;b钢铁&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${dir6}):上北, 左上, 左下, 下南, 右下, 右上}，最后${if: ${b钢铁} ? 远离 : 靠近 }" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:12.1" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="6100" />
<Action OrderNumber="4" UseTTSTextExpression="两侧，然后${if: ${b钢铁} ? 远离 : 靠近 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="false" Name="2.3 标点" Id="bfd7f9af-1875-4487-a9d7-001e125aa32f" RegularExpression="^M8s_群狼剑:dir6:(?&lt;dir6&gt;[0-5]):b最终远:(?&lt;b最终远&gt;[01]):b钢铁:(?&lt;b钢铁&gt;[01])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(${dir6}, 6)&#xD;&#xA;ScaleX: 6.25&#xD;&#xA;A: -1, -8.5&#xD;&#xA;B: -1, -6.0&#xD;&#xA;C: -1, -3.5&#xD;&#xA;D: -1, -1.0&#xD;&#xA;1:  1, -8.5&#xD;&#xA;2:  1, -6.0&#xD;&#xA;3:  1, -3.5&#xD;&#xA;4:  1, -1.0" Enabled="False" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="2" Enabled="False" ActionType="Placeholder" ExecutionDelayExpression="6800" />
<Action OrderNumber="3" Enabled="False" ActionType="Placeholder" Asynchronous="False" Description="dir6 = 0-3（初始方向 0 3 4 5）的分身距离场中 7.5，4-5（初始方向 1 2）的距离 7.0，制作组算错数还要人擦屁股 绝了" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 polar 7.5, ${n: dir2rad(${dir6}, 6) + π}&#xD;&#xA;θ: dir2rad(${dir6}, 6) + π&#xD;&#xA;C:  -3.25, -3.25&#xD;&#xA;D:   3.25, -3.25&#xD;&#xA;A:  -6.25,  2.19&#xD;&#xA;B:   6.25,  2.19&#xD;&#xA;1: -10.36,  4.45&#xD;&#xA;2:  10.36,  4.45&#xD;&#xA;3:  fakeclear&#xD;&#xA;4:  fakeclear " Enabled="False" ActionType="NamedCallback" Description="扇形 7.0" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}${b最终远}" ExpressionTypeL="String" ExpressionR="00" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 polar 7.5, ${n: dir2rad(${dir6}, 6) + π}&#xD;&#xA;θ: dir2rad(${dir6}, 6) + π&#xD;&#xA;C: -2.87, -2.87&#xD;&#xA;D:  2.87, -2.87&#xD;&#xA;A: -6.25,  2.19&#xD;&#xA;B:  6.25,  2.19&#xD;&#xA;1: -10.2,  4.11&#xD;&#xA;2:  10.2,  4.11&#xD;&#xA;3:  fakeclear&#xD;&#xA;4:  fakeclear " Enabled="False" ActionType="NamedCallback" Description="扇形 7.5" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}${b最终远}" ExpressionTypeL="String" ExpressionR="01" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 polar 7.5, ${n: dir2rad(${dir6}, 6) + π}&#xD;&#xA;θ: dir2rad(${dir6}, 6) + π&#xD;&#xA;C: -12.31, 9.00&#xD;&#xA;D:  12.31, 9.00&#xD;&#xA;A: -3.41, 14.90&#xD;&#xA;B:  3.41, 14.90&#xD;&#xA;1: -4.00, 17.00&#xD;&#xA;2:  4.00, 17.00&#xD;&#xA;3:  fakeclear&#xD;&#xA;4:  fakeclear " Enabled="False" ActionType="NamedCallback" Description="钢铁 7.0" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}${b最终远}" ExpressionTypeL="String" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 polar 7.5, ${n: dir2rad(${dir6}, 6) + π}&#xD;&#xA;θ: dir2rad(${dir6}, 6) + π&#xD;&#xA;C: -12.28, 9.05&#xD;&#xA;D:  12.28, 9.05&#xD;&#xA;A: -3.34, 14.90&#xD;&#xA;B:  3.34, 14.90&#xD;&#xA;1: -4.00, 17.50&#xD;&#xA;2:  4.00, 17.50&#xD;&#xA;3:  fakeclear&#xD;&#xA;4:  fakeclear " Enabled="False" ActionType="NamedCallback" Description="钢铁 7.5" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}${b最终远}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" Enabled="False" ActionType="Placeholder" ExecutionDelayExpression="6000" />
<Action OrderNumber="9" NamedCallbackName="AdvWm" NamedCallbackParam="&#xA;load" Enabled="False" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-23 14:37" Id="bddaa0db-3899-48c3-97c4-267c97de5777">
<Actions>
<Action OrderNumber="1" LogMessageText="[01:13:40.083] 263 107:400116E6:A931:91.128:94.882:0.000:1.047" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="5271ef5f-066c-4163-bd5d-8f7042cf4a3e" Name="G. 月光 Beckon Moonlight" Enabled="true" RawEnvironmentVariables="phase = Beckon Moonlight">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始 AoE" Id="123dfdcf-ce8c-4158-86a9-b38d6545be0a" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3C1):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="准备半场刀" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M8s_月光" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="4" NamedCallbackName="Omen" ActionType="Placeholder" ExecutionDelayExpression="4000" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M8s_月光_环&#xD;&#xA;Pos: 100, 100&#xD;&#xA;Scale: 5.5&#xD;&#xA;Color: 0.4, 4, 2, 10" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_月光_线0&#xD;&#xA;θ: dir2rad(0, 4)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_月光_线1&#xD;&#xA;θ: dir2rad(1, 4)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_月光_线&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, 15&#xD;&#xA;Scale: 0.05, 30, 0&#xD;&#xA;Color: 3, 3, 3, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Regex: ^M8s_月光" ActionType="NamedCallback" ExecutionDelayExpression="24000" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 播报安全区 (2)" Id="c2fb9032-5914-4e12-93ca-052fcf395236" RegularExpression="^M8s_月光:2:dirN4:(?&lt;dirN4&gt;[0-3]):relDir4:(?&lt;relDir4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="然后${f:pick(${relDir4}): 原地, 去右, 对穿, 去左}" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: M8s_月光_Quad2&#xD;&#xA;t: 13.6&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dirN4}, -4)&#xD;&#xA;Scale: 15&#xD;&#xA;Color: 1, 4, 2, 0.2&#xD;&#xA;---&#xD;&#xA;Delay: 9.6&#xD;&#xA;Action: Change&#xD;&#xA;Tag: M8s_月光_Quad2&#xD;&#xA;Color: 0, 2, 7, 0.5&#xD;&#xA;---&#xD;&#xA;Delay: 9.6&#xD;&#xA;Action: Remove&#xD;&#xA;Tag: M8s_月光_Quad1" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${relDir4}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Delay: 13.6&#xD;&#xA;Action: Remove&#xD;&#xA;Tag: M8s_月光_Quad1" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${relDir4}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="黄头矩形" Id="4cd42c46-9d95-4c5b-b2b3-c9be589dcbdd" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18507:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="phase" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="3" NamedCallbackName="Omen" NamedCallbackParam="general02f, 4.1, ${x}, ${y}, ${z}, ${h}, 3, 40" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 处理分散点名" Id="fe35853e-3d43-45bf-8836-4bffec323555" RegularExpression="^M8s_TR_散:b自散:(?&lt;b自散&gt;0|1)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="10000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase, 冷却" DescriptionOverride="True" />
<Action OrderNumber="2" LogMessageText="cd5:5" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" UseTTSTextExpression="${f:pick(${v:M8s_月光_dirN4_1}): 左上, 左下, 右下, 右上 }${if: ${b自散} ? 分散 : 分摊 }" ActionType="UseTTS" />
<Action OrderNumber="4" UseTTSTextExpression="准备${f:pick(${v:M8s_月光_relDir4Quad1To2}): 原地, 右侧, 对角, 左侧}${if: ${b自散} ? 分摊 : 分散 }" ActionType="UseTTS" ExecutionDelayExpression="5000" />
<Action OrderNumber="5" LogMessageText="cd5:8.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" UseTTSTextExpression="正点贴边" ActionType="UseTTS" ExecutionDelayExpression="6800" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-11 14:10" Id="e57a151b-7e63-4a05-9391-65b85ad4b771" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:52:38.190] StartsCasting 14:4001455C:Howling Blade:A3C1:Beckon Moonlight:4001455C:Howling Blade:2.700:99.99:99.99:0.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.02 * 1000" />
<Action OrderNumber="3" LogMessageText="[12:52:44.245] _WeaponId AAA:202:7:40014555:Moonlit Shadow:13845:18217:99.99231:111.986:-0.0001000166:3.141545" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="0.33 * 1000" />
<Action OrderNumber="5" LogMessageText="[12:52:45.226] _WeaponId AAA:202:7:40014554:Moonlit Shadow:13845:18217:111.986:99.99231:-0.0001000166:-1.570533" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="0.32 * 1000" />
<Action OrderNumber="7" LogMessageText="[12:52:46.203] _WeaponId AAA:202:6:40014553:Moonlit Shadow:13845:18217:99.99231:87.99878:-0.0001000166:0.0000002384186" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="0.34 * 1000" />
<Action OrderNumber="9" LogMessageText="[12:52:47.226] _WeaponId AAA:202:6:40014552:Moonlit Shadow:13845:18217:87.99878:99.99231:-0.0001000166:1.570437" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[12:52:47.226] _WeaponId AAA:202:7:40014552:Moonlit Shadow:13845:18217:87.99878:99.99231:-0.0001000166:1.570437" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取分身 =&gt; 2" Id="6cea8fe6-00c8-4f89-b150-f5c52be15c2f" RegularExpression="^.{15}\S+ AAA:202:(?&lt;wid&gt;6|7):(?&lt;sid&gt;4.{7}):[^:]*:[^:]*:18217:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="6 打右   7 打左" DescriptionOverride="True" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="M8s_月光_dir4" ListVariableExpression="(roundir(${h}, 4) + (${wid} = 6 ? 1 : -1)) %% 4" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M8s_月光_dirN4_${n: ${l:M8s_月光_dir4.size} / 2}" VariableExpression="${?d:&#xD;&#xA;  01 = 0, 10 = 0,&#xD;&#xA;  12 = 1, 21 = 1,&#xD;&#xA;  23 = 2, 32 = 2,&#xD;&#xA;  30 = 3, 03 = 3&#xD;&#xA;  [${l:M8s_月光_dir4[-1]}${l:M8s_月光_dir4[-2]}]&#xD;&#xA;}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_月光_dir4.size} % 2" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="第二次" DescriptionOverride="True" />
<Action OrderNumber="5" LogMessageText="M8s_月光:1:dirN4:${v:M8s_月光_dirN4_1}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_月光_dir4.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="第四次" DescriptionOverride="True" />
<Action OrderNumber="7" VariableOp="SetNumeric" VariableName="M8s_月光_relDir4Quad1To2" VariableExpression="(${v:M8s_月光_dirN4_2} - ${v:M8s_月光_dirN4_1}) %% 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_月光_dir4.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" LogMessageText="M8s_月光:2:dirN4:${v:M8s_月光_dirN4_2}:relDir4:${v:M8s_月光_relDir4Quad1To2}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_月光_dir4.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 播报安全区 (1)" Id="8ef84df3-3af8-4900-af07-2ba981df2ad8" RegularExpression="^M8s_月光:1:dirN4:(?&lt;dirN4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${dirN4}): 左上, 左下, 右下, 右上}" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: M8s_月光_Quad1&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dirN4}, -4)&#xD;&#xA;Scale: 15&#xD;&#xA;Color: 0, 2, 7, 0.5" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="a5ae7512-1764-466d-8103-8c9a07fc3f19" Name="A. 钢铁月环 + 十字" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 接收" Id="92094846-f5a6-4320-b363-f792cd61f2e4" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A39[DE]|A3A[12]):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_钢月_is钢" VariableExpression="0x${aid} = 0xA3A1 || 0x${aid} = 0xA3A2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M8s_钢月_isX" VariableExpression="0x${aid} = 0xA39E || 0x${aid} = 0xA3A2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M8s_钢月十字:b钢:${v:M8s_钢月_is钢}:b斜十:${v:M8s_钢月_isX}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="4" UseTTSTextExpression="${?d: 00 = 斜点内分摊, 01 = 正点内分摊, 10 = 斜点外分散, 11 = 正点外分散 [${v:M8s_钢月_is钢}${v:M8s_钢月_isX}]}" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 播报" Id="cf982be2-c657-4514-bb10-a3d4d0bd87ec" RegularExpression="^M8s_钢月十字:b钢:(?&lt;b钢&gt;[01]):b斜十:(?&lt;b斜十&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b斜十} ? 正点 : 斜点 }${if: ${b钢} ? 外分散 : 内分摊 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 安全点" Id="4861c8f0-36df-4a62-878d-756ed988e9bb" RegularExpression="^M8s_钢月十字:b钢:(?&lt;b钢&gt;[01]):b斜十:(?&lt;b斜十&gt;[01])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="国服" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_θ" VariableExpression="dir2rad(${?l: 0,3,1,2,2,3,1,0 [${v:myIdx}]}, 4) + (${v:myIdx_isG1} ? 1 : -1) * (${b斜十} ? 25.37° : 19.63°)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b钢}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M8s_钢铁站位]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_θ" VariableExpression="dir2rad(${?l: 0, 6, 2, 4, 2, 4, 0, 6 [${v:myIdx}]} + (0${b斜十} ? 0 : 1), 8)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b钢}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M8s_钢铁站位]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="美服" DescriptionOverride="True" />
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="前一半是自己和同组的初始 dir8 对应角度；如果是钢铁则根据自己的职能顺逆错开 16.7°" DescriptionOverride="True" />
<Action OrderNumber="6" VariableOp="SetNumeric" VariableName="tmp_θ" VariableExpression="dir2rad(${?l: 0, 6, 2, 4, 2, 4, 0, 6 [${v:myIdx}]} + (0${b斜十} ? 0 : 1), 8) + (${b钢} ? 1 : 0) * (${v:myIdx_isG1} ? -1 : 1) * 19.63°" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M8s_钢铁站位]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True" />
<Action OrderNumber="8" VariableOp="SetNumeric" VariableName="tmp_r" VariableExpression="${b钢} ? 10.5 : 6.44" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="9" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 5.7&#xD;&#xA;θ: ${v:tmp_θ}&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.05, ${v:tmp_r}, 0&#xD;&#xA;Color: 3, 3, 3, 1.5&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 5.7&#xD;&#xA;θ: ${v:tmp_θ}&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, -${v:tmp_r}&#xD;&#xA;ScaleCyl: 1.5, 0.3&#xD;&#xA;Color: 0.1, 1.6, 20, 2" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd" />
<Action OrderNumber="10" VariableName="tmp_θ" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" VariableName="tmp_r" ActionType="Variable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M8s_钢铁站位]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="bbc9e249-ae91-4da3-81b9-20aac702f734" Name="UV." Enabled="true">
<Folders />
<Triggers />
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="注册小队：自身" Id="c4e2afc9-b856-46e8-a86e-f2653a7c0b4a" RegularExpression="^.{15}\S+ 01:(?&lt;zoneid&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="PartyList:Register:${env:zone}:Self" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${zoneid}" ExpressionTypeL="Numeric" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1257$" Id="ffb6d730-1f81-4475-a296-44424e4614c0" Name="M5s v1.0.2" Enabled="true" RawEnvironmentVariables="zone = 1257">
<Folders>
<Folder Id="dacd8f92-d94d-486b-9ba8-cf6138b3ffa7" Name="杂项" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2、4、8 分音符" Id="f88dc571-c2fd-41c4-93ae-e434372dfccf" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A75(?&lt;type&gt;9|B|D):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d: 9 = 双组分摊, B = 两人分摊, D = 全体分散 [${type}] }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="InvokeOnMultipleEntities" NamedCallbackParam="IsD = 1&#xD;&#xA;LockOn, _address, z3o3_b0_gimmick04_t0n" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.isTH}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="B" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="InvokeOnMultipleEntities" NamedCallbackParam="IsTH = 1&#xD;&#xA;LockOn, _address, z3o3_b0_gimmick04_t0n" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.isTH}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="B" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="InvokeOnMultipleEntities" NamedCallbackParam="Type = 1&#xD;&#xA;LockOn, _address, m0420tar_5m0f" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="D" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="跳舞倒计时" Id="e1adce86-9a3e-4837-939f-07efd75b8c4a" RegularExpression="^.{15}\S+ 1A:116D:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:${t}" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="时间轴" Id="0150ffd8-9628-4c12-8add-dde76eb82734" RegularExpression="^.{15}\S+ 104:.:1:.:1">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:4.0:死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:58.5:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:121.9:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:129.0:死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:276.8:死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:284.3:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:356.3:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:507.2:死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:554.0:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="210 * 1000" />
<Action OrderNumber="11" UseTTSTextExpression="${if: ${_entity[bnpcid = 18361].TargetID} == ${_me.id} ? 拉怪到下半场 : 准备地火站位 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="取消灯光" Id="d3239159-d04c-4c01-9dfe-24486edeedcf" RegularExpression="^.{15}\S+ 1A:808:[^:]*:[^:]*:[^:]*:[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:37D:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="SetOpacity" NamedCallbackParam="${_entity[${tid}].Address}, 0.3" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="260d4ec9-b0ce-4153-83d0-9ded10839826" Name="B. 格子" Enabled="true" RawEnvironmentVariables="phase = 格">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化" Id="a95a1ae1-f9ac-49b3-845f-7593bff0c1e8" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A756:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M5s_格" ActionType="Variable" />
<Action OrderNumber="2" UseTTSTextExpression="AoE，追光灯" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 获取地板 =&gt; O1" Id="197a7605-aff3-4ccb-b177-aa57cd4c0e70" RegularExpression="^.{15}\S+ 101:[^:]*:(?&lt;type&gt;0002|0020).{4}:03">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="地板：最终判定时和初始相反" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_格_is最终主斜Safe" VariableExpression="0x${type} = 0x0002" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="灯：短组与初始相反 长组与初始相同" DescriptionOverride="True" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M5s_格_is最终灯偏逆" VariableExpression="${v:M5s_格_is初始灯偏逆} != ${v:M5s_格_is自先}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" LogMessageText="M5s_格:is主斜:${v:M5s_格_is最终主斜Safe}:is灯逆:${v:M5s_格_is最终灯偏逆}:is自先:${v:M5s_格_is自先}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_格_is最终主斜Safe}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_phase_地火}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1.1 获取追光灯初始位置" Id="5817d1b2-8b15-4bd5-aaeb-9ca5b154aaa7" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18363:(?&lt;x&gt;[^:]*):92">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="（四个正方向偏逆时针）" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_格_is初始灯偏逆" VariableExpression="${x} &lt; 100" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O2. 钢铁月环" Id="e466576e-36dc-4c6d-a922-f241420d0fbf" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A77(?&lt;type&gt;C|E):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${type} == C ? 外 : 内 }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: M5s&#xD;&#xA;Delay: 0x0${type} = 0xC ? 0 : 5.3&#xD;&#xA;t:     0x0${type} = 0xC ? 5 : 2.7&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 7&#xD;&#xA;Color: 1.3, 0.7, 0.4, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: gl_sircle_4005bf&#xD;&#xA;Tag: M5s&#xD;&#xA;Delay: 0x0${type} = 0xE ? 0 : 5.3&#xD;&#xA;t:     0x0${type} = 0xE ? 5 : 2.7&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 40&#xD;&#xA;Color: 1.3, 0.7, 0.4, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="5000" />
<Action OrderNumber="5" UseTTSTextExpression="${if: ${type} == C ? 内 : 外 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1.2 获取 Debuff" Id="b713f792-bfe7-43f4-8a44-b05d48721830" RegularExpression="^.{15}\S+ 1A:116D:[^:]+:(?&lt;t&gt;[23][^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5s_格_is自先" VariableExpression="${t} &lt; 27.5" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-01 13:30" Id="09e0abc7-7a1a-4833-97e2-57a19bb99b0d" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[10:29:21.716] StartsCasting 14:40007921:Dancing Green:A756:Disco Infernal:40007921:Dancing Green:3.700:99.99:99.99:0.00:-3.13" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="4.55 * 1000" />
<Action OrderNumber="3" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:23.50:E0000000::${l:party[1]}:队员:00:242272:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:23.50:E0000000::${l:party[2]}:队员:00:151750:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:23.50:E0000000::${l:party[3]}:队员:00:240795:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:23.50:E0000000::${l:party[4]}:队员:00:150937:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:31.50:E0000000::${l:party[5]}:队员:00:151720:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:31.50:E0000000::${l:party[6]}:队员:00:170351:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:31.50:E0000000::${l:party[7]}:队员:00:168726:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:31.50:E0000000::${l:party[8]}:队员:00:171113:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[10:29:26.262] _ActorSetPos AAA:10F:40007925:Spotlight:13780:18363:97.5000:92.5000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="13" LogMessageText="[10:29:27.732] 257 101:800375C2:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="5.12 * 1000" />
<Action OrderNumber="15" LogMessageText="[10:29:32.853] 257 101:800375C2:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="4.05 * 1000" />
<Action OrderNumber="17" LogMessageText="[10:29:36.908] 257 101:800375C2:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" ActionType="Placeholder" ExecutionDelayExpression="4.05 * 1000" />
<Action OrderNumber="19" LogMessageText="[10:29:40.957] 257 101:800375C2:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="4.05 * 1000" />
<Action OrderNumber="21" LogMessageText="[10:29:45.005] 257 101:800375C2:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" ActionType="Placeholder" ExecutionDelayExpression="4.06 * 1000" />
<Action OrderNumber="23" LogMessageText="[10:29:49.065] 257 101:800375C2:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" ActionType="Placeholder" ExecutionDelayExpression="4.06 * 1000" />
<Action OrderNumber="25" LogMessageText="[10:29:53.122] 257 101:800375C2:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="4.05 * 1000" />
<Action OrderNumber="27" LogMessageText="[10:29:57.178] 257 101:800375C2:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" ActionType="Placeholder" ExecutionDelayExpression="4.06 * 1000" />
<Action OrderNumber="29" LogMessageText="[10:30:01.236] 257 101:800375C2:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" ActionType="Placeholder" ExecutionDelayExpression="4.05 * 1000" />
<Action OrderNumber="31" LogMessageText="[10:30:05.288] 257 101:800375C2:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="O1. 跳舞位置" Id="18794ec9-9a48-45e4-b8bc-46986675e60a" RegularExpression="^M5s_格:is主斜:(?&lt;is主斜&gt;0|1):is灯逆:(?&lt;is灯逆&gt;0|1):is自先:(?&lt;is自先&gt;0|1)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="灯逆 指的是最终轮到自己时灯偏逆" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_格_远_myDirN4" VariableExpression="!${is主斜} + 2 * !${v:myIdx_isG1}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[3478]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M5s_格_近_myDirN8" VariableExpression="${is主斜} * 2 + !${is灯逆} + 4 * !${v:myIdx_isG1}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[1256]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M5s_格_近_myθ" VariableExpression="dir2rad(${v:M5s_格_近_myDirN8}, -8) + (22.5° - arctan(1/3)) * (${v:M5s_格_近_myDirN8} % 2 = 1 ? 1 : -1)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[1256]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="5" UseTTSTextExpression="远程${if: 0${is自先} ? 壹组 : 贰组 }，准备去${f:pick(0${v:M5s_格_远_myDirN4}): 左上, 左下, 右下, 右上 }角" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[3478]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="6" UseTTSTextExpression="近战${if: 0${is自先} ? 壹组 : 贰组 }，准备去${f:pick(0${v:M5s_格_近_myDirN8}): 上偏左, 左偏上, 左偏下, 下偏左, 下偏右, 右偏下, 右偏上, 上偏右 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[1256]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_格_线&#xD;&#xA;t: ${is自先} ? 24 : 32&#xD;&#xA;θ: dir2rad(${v:M5s_格_远_myDirN4}, -4)&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.05, 12.5√2, 0&#xD;&#xA;Color: 3, 3, 3, 0.8&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M5s_格_点&#xD;&#xA;t: ${is自先} ? 24 : 32&#xD;&#xA;θ: dir2rad(${v:M5s_格_远_myDirN4}, -4)&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, -12.5√2&#xD;&#xA;ScaleCyl: 2.5, 0.3&#xD;&#xA;Color: 0, 2, 10, 2" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[3478]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="8" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_格_线&#xD;&#xA;t: ${is自先} ? 24 : 32&#xD;&#xA;θ: ${v:M5s_格_近_myθ}&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.05, 2.5√10, 0&#xD;&#xA;Color: 3, 3, 3, 0.8&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M5s_格_点&#xD;&#xA;t: ${is自先} ? 24 : 32&#xD;&#xA;θ: ${v:M5s_格_近_myθ}&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, -2.5√10&#xD;&#xA;ScaleCyl: 2.5, 0.3&#xD;&#xA;Color: 0, 2, 10, 2" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[1256]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="9" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 12.5&#xD;&#xA;R2: 12.5√2" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 &#xD;&#xA;Scale: 2.5 &#xD;&#xA;2:  3, -1 &#xD;&#xA;4: -3,  1 " ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is主斜}${is灯逆}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="11" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 &#xD;&#xA;Scale: 2.5 &#xD;&#xA;2:  1, -3 &#xD;&#xA;4: -1,  3 " ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is主斜}${is灯逆}" ExpressionTypeL="String" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="12" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 &#xD;&#xA;Scale: 2.5 &#xD;&#xA;1: -1, -3 &#xD;&#xA;3:  1,  3 " ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is主斜}${is灯逆}" ExpressionTypeL="String" ExpressionR="01" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="13" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 &#xD;&#xA;Scale: 2.5 &#xD;&#xA;1: -3, -1 &#xD;&#xA;3:  3,  1 " ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is主斜}${is灯逆}" ExpressionTypeL="String" ExpressionR="00" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="14" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="31500" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="地板预兆提前显示" Id="fee97a7d-2871-4ef1-8f18-d66187aa99da" RegularExpression="^.{15}\S+ 101:.{8}:(?&lt;type&gt;0080|0008)....:03">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="0020: 副斜向预兆  0080：副斜向判定  0002：主斜向预兆  0008：主斜向判定" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="M5s_格_预兆_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="判定（不是最后一次）：提前删除特效，并提前生成相反预兆" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="MapEffect" NamedCallbackParam="3, 0x0040" ActionType="NamedCallback" ExecutionDelayExpression="800">
<Condition Enabled="true" Grouping="Or">
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_格_预兆_n}" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_phase_地火}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_格_预兆_n}" ExpressionTypeL="Numeric" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_phase_地火}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionSingle Enabled="false" ExpressionL="注：开场的有十次 结束的有八次" ExpressionTypeL="String" ExpressionR="" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="MapEffect" NamedCallbackParam="3, ${type} = 8 ? 0x0020 : 0x0002" ActionType="NamedCallback" ExecutionDelayExpression="100">
<Condition Enabled="true" Grouping="Or">
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_格_预兆_n}" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_phase_地火}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_格_预兆_n}" ExpressionTypeL="Numeric" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_phase_地火}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionSingle Enabled="false" ExpressionL="注：开场的有十次 结束的有八次" ExpressionTypeL="String" ExpressionR="" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 地板" Id="4c95569f-42da-45ea-89aa-bd7f4a3512dc" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[10:29:21.716] StartsCasting 14:40007921:Dancing Green:A756:Disco Infernal:40007921:Dancing Green:3.700:99.99:99.99:0.00:-3.13" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="3" LogMessageText="[08:36:52.475] 257 101:800375C1:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00200010:03" ActionType="NamedCallback" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="3.04 * 1000" />
<Action OrderNumber="6" LogMessageText="[08:36:55.518] 257 101:800375C1:00800004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00800004:03" ActionType="NamedCallback" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="9" LogMessageText="[08:36:57.617] 257 101:800375C1:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00020001:03" ActionType="NamedCallback" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="1.97 * 1000" />
<Action OrderNumber="12" LogMessageText="[08:36:59.584] 257 101:800375C1:00080004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:03" ActionType="NamedCallback" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="15" LogMessageText="[08:37:01.686] 257 101:800375C1:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00200010:03" ActionType="NamedCallback" />
<Action OrderNumber="17" ActionType="Placeholder" ExecutionDelayExpression="1.96 * 1000" />
<Action OrderNumber="18" LogMessageText="[08:37:03.646] 257 101:800375C1:00800004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00800004:03" ActionType="NamedCallback" />
<Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="21" LogMessageText="[08:37:05.749] 257 101:800375C1:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00020001:03" ActionType="NamedCallback" />
<Action OrderNumber="23" ActionType="Placeholder" ExecutionDelayExpression="1.97 * 1000" />
<Action OrderNumber="24" LogMessageText="[08:37:07.715] 257 101:800375C1:00080004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="25" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:03" ActionType="NamedCallback" />
<Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="27" LogMessageText="[08:37:01.686] 257 101:800375C1:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00200010:03" ActionType="NamedCallback" />
<Action OrderNumber="29" ActionType="Placeholder" ExecutionDelayExpression="1.96 * 1000" />
<Action OrderNumber="30" LogMessageText="[08:37:03.646] 257 101:800375C1:00800004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="31" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00800004:03" ActionType="NamedCallback" />
<Action OrderNumber="32" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="33" LogMessageText="[08:37:05.749] 257 101:800375C1:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00020001:03" ActionType="NamedCallback" />
<Action OrderNumber="35" ActionType="Placeholder" ExecutionDelayExpression="1.97 * 1000" />
<Action OrderNumber="36" LogMessageText="[08:37:07.715] 257 101:800375C1:00080004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="37" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:03" ActionType="NamedCallback" />
<Action OrderNumber="38" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="39" LogMessageText="[08:37:01.686] 257 101:800375C1:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="40" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00200010:03" ActionType="NamedCallback" />
<Action OrderNumber="41" ActionType="Placeholder" ExecutionDelayExpression="1.96 * 1000" />
<Action OrderNumber="42" LogMessageText="[08:37:03.646] 257 101:800375C1:00800004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="43" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00800004:03" ActionType="NamedCallback" />
<Action OrderNumber="44" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="45" LogMessageText="[08:37:05.749] 257 101:800375C1:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="46" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00020001:03" ActionType="NamedCallback" />
<Action OrderNumber="47" ActionType="Placeholder" ExecutionDelayExpression="1.97 * 1000" />
<Action OrderNumber="48" LogMessageText="[08:37:07.715] 257 101:800375C1:00080004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="49" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:03" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="0d49ea07-046d-4edf-9158-9694d0a84286" Name="A. 半场刀" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 记录" Id="6ac43f4b-608c-4058-a687-bfca46c85d46" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A78(?&lt;type&gt;0|1):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5s_半场_is双组" VariableExpression="${type} = 1" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 二段左右刀" Id="276ecc79-eb9c-4bd7-b181-29618ed959b0" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A72(?&lt;type&gt;[89ABCD]):">
<Actions>
<Action OrderNumber="1" LogMessageText="_M5s_半场:is先去左:${n: 0x${type} &lt;= 0xA }:t:6.5" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 三段左右刀" Id="d087161c-911e-4588-b627-e2400ac8c440" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A73(?&lt;type&gt;[012345]):">
<Actions>
<Action OrderNumber="1" LogMessageText="_M5s_半场:is先去左:${n: 0x${type} &lt;= 0x2 }:t:6.9" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.3 四段左右刀" Id="6a7be0c3-0081-44d6-8893-8c6b885587b8" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A73(?&lt;type&gt;[9ABCDE]):">
<Actions>
<Action OrderNumber="1" LogMessageText="_M5s_半场:is先去左:${n: 0x${type} &lt;= 0xB }:t:7.0" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O1. 处理左右刀" Id="062c5bd3-2421-486f-ac04-a041fcd1228f" RegularExpression="^_M5s_半场:is先去左:(?&lt;is先去左&gt;0|1):t:(?&lt;t&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${is先去左} ? 左 : 右 }，${if: ${v:M5s_半场_is双组} ? 双组分摊 : 职能分散 }" ActionType="UseTTS" />
<Action OrderNumber="2" SystemBeepFreqExpression="" SystemBeepLengthExpression="" LogMessageText="beep:${t}" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" SystemBeepFreqExpression="" SystemBeepLengthExpression="" LogMessageText="beep:8.5" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" UseTTSTextExpression="穿" ActionType="UseTTS" ExecutionDelayExpression="${t} * 1000 - 100" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.4 追光灯 + 引导扇形之后" Id="a237b236-e223-4ddf-82ba-4a8c93173be1" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:A4(?&lt;type&gt;D[78BCDEF]|E0):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="A4E0 左4 63136" DescriptionOverride="True" />
<Action OrderNumber="2" LogMessageText="_M5s_半场:is先去左:${n: 0x${type} % 2 = 1 }:t:7.0" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="3d89995e-fd27-414f-be8d-66ca69aa97af" Name="E. 地火" Enabled="true" RawEnvironmentVariables="phase = 地火">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 开始" Id="bbaabde5-1867-4282-aa7a-53d38b5a64ca" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A754:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="地火" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="[F] 地火 AoE 范围" Id="f7966505-623a-4741-be34-4eb5a07c4802" RegularExpression="^M5s_地火:n:(?&lt;n&gt;\d+):keepX:(?&lt;keepX&gt;[01])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_1&#xD;&#xA;Update: false&#xD;&#xA;Pos: -17.5, 0&#xD;&#xA;Scale: 20, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_2&#xD;&#xA;Update: false&#xD;&#xA;Pos: -12.5, 0&#xD;&#xA;Scale: 20, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_3&#xD;&#xA;Update: false&#xD;&#xA;Pos: -7.5, 10&#xD;&#xA;Scale: 10, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_4&#xD;&#xA;Update: false&#xD;&#xA;Pos: -2.5, -12.5&#xD;&#xA;Scale: 7.5, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_5&#xD;&#xA;Update: false&#xD;&#xA;Pos: 2.5, 0&#xD;&#xA;Scale: 20, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_6&#xD;&#xA;Update: false&#xD;&#xA;Pos: 7.5, 10&#xD;&#xA;Scale: 10, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_7&#xD;&#xA;Update: false&#xD;&#xA;Pos: 12.5, -12.5&#xD;&#xA;Scale: 7.5, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_8&#xD;&#xA;Update: false&#xD;&#xA;Pos: 17.5, 0&#xD;&#xA;Scale: 20, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_地火_[1-8]&#xD;&#xA;O: 100, 60 + 5 * ${n}, 0&#xD;&#xA;Angle: π/2&#xD;&#xA;+X: ${keepX}" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取初始" Id="6a6ef408-6c29-4c7d-ad26-c0acdc264055" RegularExpression="^.{15}\S+ 101:.{8}:(?&lt;type&gt;0080|0200).{4}:04">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="00800080:04 初始偏左" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_地火_b右Safe" VariableExpression="0x${type} = 0x0200" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M5s_地火:n:1:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="850" />
<Action OrderNumber="4" LogMessageText="M5s_地火:n:2:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="5" LogMessageText="M5s_地火:n:3:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="6" LogMessageText="M5s_地火:n:4:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="7" LogMessageText="M5s_地火:n:5:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="8" LogMessageText="M5s_地火:n:6:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="9" LogMessageText="M5s_地火:n:7:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="10" LogMessageText="M5s_地火:n:8:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="11" LogMessageText="M5s_地火:n:9:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="12" LogMessageText="M5s_地火:n:10:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="13" LogMessageText="M5s_地火:n:11:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="14" LogMessageText="M5s_地火:n:12:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="15" LogMessageText="M5s_地火:n:13:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="16" LogMessageText="M5s_地火:n:14:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="17" LogMessageText="M5s_地火:n:15:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="打断动画" Id="fb04a549-0a76-4c84-b0ac-123d6854c0e8" RegularExpression="^.{15}\S+ 101:.{8}:.{8}:(?&lt;pos&gt;0[5-9A-C])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="MapEffect" NamedCallbackParam="0x${pos}, 0x4" ActionType="NamedCallback" ExecutionDelayExpression="500" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="307ba76d-8854-4fb0-aeeb-466c732b1c35" Name="D. 伴舞" Enabled="true" RawEnvironmentVariables="phase = 伴舞">
<Folders>
<Folder Id="d53d23ed-48af-4c9d-a7c4-f049bdb80145" Name="第 2 阶段" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="4.1 第二阶段 Let's Dance =&gt; O2.1" Id="c80fc7cf-dc4f-4121-b78d-e59724719d70" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A390:">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5s_伴舞_n" VariableExpression="1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="初始安全的两个斜方向" DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_dirN4_1" VariableExpression="${l:M5s_伴舞_safeDir4[1]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="tmp_dirN4_2" VariableExpression="(${l:M5s_伴舞_safeDir4[1]} + 3) % 4" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="这两个方向为基准，八次分别是否安全" DescriptionOverride="True" />
<Action OrderNumber="6" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="tmp_bSafe1" ListVariableExpression="${l:M5s_伴舞_safeDir4[${_idx}]} == ${v:tmp_dirN4_1} || ${l:M5s_伴舞_safeDir4[${_idx}]} == (${v:tmp_dirN4_1} + 1) % 4" ListVariableIndex="8" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="7" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="tmp_bSafe2" ListVariableExpression="${l:M5s_伴舞_safeDir4[${_idx}]} == ${v:tmp_dirN4_2} || ${l:M5s_伴舞_safeDir4[${_idx}]} == (${v:tmp_dirN4_2} + 1) % 4" ListVariableIndex="8" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="这两个方向开始，七次是否需要穿" DescriptionOverride="True" />
<Action OrderNumber="9" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="tmp_bMove1" ListVariableExpression="${l:tmp_bSafe1[${_idx}]} != ${l:tmp_bSafe1[${n: ${_idx} + 1}]}" ListVariableIndex="7" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="10" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="tmp_bMove2" ListVariableExpression="${l:tmp_bSafe2[${_idx}]} != ${l:tmp_bSafe2[${n: ${_idx} + 1}]}" ListVariableIndex="7" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="11" ActionType="Placeholder" Asynchronous="False" Description="需要穿的次数更少的方向：" DescriptionOverride="True" />
<Action OrderNumber="12" VariableOp="SetNumeric" VariableName="M5s_伴舞_dirN4_0" VariableExpression="${l:tmp_bMove1.sum} &lt; ${l:tmp_bMove2.sum} ? ${v:tmp_dirN4_1} : ${v:tmp_dirN4_2}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="13" ListVariableOp="Copy" ListVariableExpressionType="Numeric" ListVariableName="${if: ${l:tmp_bMove1.sum} &lt; ${l:tmp_bMove2.sum} ? tmp_bSafe1 : tmp_bSafe2 }" ListVariableTarget="M5s_伴舞_bSafe" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="14" ListVariableOp="Copy" ListVariableExpressionType="Numeric" ListVariableName="${if: ${l:tmp_bMove1.sum} &lt; ${l:tmp_bMove2.sum} ? tmp_bMove1 : tmp_bMove2 }" ListVariableTarget="M5s_伴舞_bMove" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="15" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True" />
<Action OrderNumber="16" LogMessageText="M5s_伴舞2:n:${v:M5s_伴舞_n}:dirN4_0:${v:M5s_伴舞_dirN4_0}:bSafe:${l:M5s_伴舞_bSafe[${v:M5s_伴舞_n}]}:bMove:${l:M5s_伴舞_bMove[${n: ${v:M5s_伴舞_n} - 1}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="17" VariableOp="UnsetRegexUniversal" VariableName="^tmp_" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4.2 第二阶段 技能判定 =&gt; O2.2/2.3" Id="d3b11c99-6e15-40e5-8ec6-ea2767ac27cc" RegularExpression="^.{15}\S+ 15:[^:]+:[^:]+:A39[1234]">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M5s_伴舞_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M5s_伴舞2:n:${v:M5s_伴舞_n}:dirN4_0:${v:M5s_伴舞_dirN4_0}:bSafe:${l:M5s_伴舞_bSafe[${v:M5s_伴舞_n}]}:bMove:${l:M5s_伴舞_bMove[${n: ${v:M5s_伴舞_n} - 1}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="O2.2 第 1-7 次" Id="ae9d6717-81ef-41f3-80ce-725d9bfb4a4f" RegularExpression="^M5s_伴舞2:n:[2-8]:dirN4_0:(?&lt;dirN4_0&gt;[0-3]):bSafe:(?&lt;bSafe&gt;[01]?):bMove:(?&lt;bMove&gt;[01]?)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="200" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${bMove} ? 穿 : 停 }" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:M5s_伴舞_dirN4_0} + 2 * !(0${bSafe}), 4)&#xD;&#xA;1: -1.1, -1.1&#xD;&#xA;2: -3.3, -1.1&#xD;&#xA;3: -3.3, -3.3&#xD;&#xA;4: -1.1, -3.3" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" LogMessageText="beep:0.2" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${bMove}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="O2.1 起始" Id="a0745f5f-e9a2-4cb0-9d9b-98d36338576f" RegularExpression="^M5s_伴舞2:n:1:dirN4_0:(?&lt;dirN4_0&gt;[0-3]):bSafe:(?&lt;bSafe&gt;[01]?):bMove:(?&lt;bMove&gt;[01]?)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;Waymarks: ADCB&#xD;&#xA;R: 10&#xD;&#xA;O: 100, 100&#xD;&#xA;---&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:M5s_伴舞_dirN4_0} + 2 * !(0${bSafe}), 4)&#xD;&#xA;1: -1.1, -1.1&#xD;&#xA;2: -3.3, -1.1&#xD;&#xA;3: -3.3, -3.3&#xD;&#xA;4: -1.1, -3.3" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="生成文本播报" DescriptionOverride="True" />
<Action OrderNumber="3" ListVariableOp="SetAll" ListVariableName="M5s_伴舞_strMove" ListVariableExpression="${if: ${l:M5s_伴舞_bMove[${_idx}]} ? 穿 : 停 }" ListVariableIndex="7" ActionType="ListVariable" />
<Action OrderNumber="4" UseTTSTextExpression="${?d: 0 = 左上, 1 = 左下, 2 = 右下, 3 = 右上 [${dirN4_0}]}开始，${l:M5s_伴舞_strMove.join(&quot; &quot;)}" UseTTSExclusive="False" ActionType="UseTTS" />
<Action OrderNumber="5" NamedCallbackName="hint" NamedCallbackParam="15&#xD;&#xA;起始：${?d: 0 = 左上, 1 = 左下, 2 = 右下, 3 = 右上 [${dirN4_0}]}&#xD;&#xA;${l:M5s_伴舞_strMove.join(&quot; &quot;)}" ActionType="NamedCallback" />
<Action OrderNumber="6" ListVariableName="M5s_伴舞_strMove" ActionType="ListVariable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O2.3 第 8 次" Id="70bd3e7d-9bdf-4a6f-a4b1-34fa4a21d190" RegularExpression="^M5s_伴舞2:n:9:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="200" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2" Id="51496ab9-26fb-45bd-88b8-89f0357e98c8" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:55:55.048] StartsCasting 14:4000A75A:Dancing Green:9A32:Ensemble Assemble:4000A75A:Dancing Green:2.700:99.99:99.99:0.00:-2.51" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="0.70 * 1000" />
<Action OrderNumber="3" LogMessageText="[12:55:55.744] StartsCasting 14:4000A76A:Frogtourage:A70A:unknown_a70a:4000A76A:Frogtourage:1.400:78.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="5" LogMessageText="[12:55:56.197] StartsCasting 14:4000A769:Frogtourage:A70C:unknown_a70c:4000A769:Frogtourage:1.400:84.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="7" LogMessageText="[12:55:56.652] StartsCasting 14:4000A768:Frogtourage:A70B:unknown_a70b:4000A768:Frogtourage:1.400:90.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="0.46 * 1000" />
<Action OrderNumber="9" LogMessageText="[12:55:57.109] StartsCasting 14:4000A767:Frogtourage:A70D:unknown_a70d:4000A767:Frogtourage:1.400:96.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="11" LogMessageText="[12:55:57.559] StartsCasting 14:4000A766:Frogtourage:A70A:unknown_a70a:4000A766:Frogtourage:1.400:103.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="13" LogMessageText="[12:55:58.012] StartsCasting 14:4000A765:Frogtourage:A70C:unknown_a70c:4000A765:Frogtourage:1.400:109.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="0.46 * 1000" />
<Action OrderNumber="15" LogMessageText="[12:55:58.465] StartsCasting 14:4000A764:Frogtourage:A70D:unknown_a70d:4000A764:Frogtourage:1.400:115.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="17" LogMessageText="[12:55:58.916] StartsCasting 14:4000A763:Frogtourage:A70B:unknown_a70b:4000A763:Frogtourage:1.400:121.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" ActionType="Placeholder" ExecutionDelayExpression="0.59 * 1000" />
<Action OrderNumber="19" LogMessageText="[12:55:59.504] StartsCasting 14:4000A75A:Dancing Green:A390:Let's Dance! Remix:4000A75A:Dancing Green:5.500:99.99:99.99:0.00:0.01" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="4.01 * 1000" />
<Action OrderNumber="21" LogMessageText="[12:56:03.518] ActionEffect 15:4000A75A:Dancing Green:A391:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3918000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:28362671:105549682:10000:10000:::99.99:99.99:0.00:0.01:28362671:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064D0:0:1:00::01:A391:A391:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="23" LogMessageText="[12:56:04.987] ActionEffect 15:4000A75A:Dancing Green:A393:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3938000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:28103509:105549682:10000:10000:::99.99:99.99:0.00:0.01:28103509:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064D9:0:1:00::01:A393:A393:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="25" LogMessageText="[12:56:06.460] ActionEffect 15:4000A75A:Dancing Green:A392:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3928000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27970383:105549682:10000:10000:::99.99:99.99:0.00:0.01:27970383:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064E4:0:1:00::01:A392:A392:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="27" LogMessageText="[12:56:07.932] ActionEffect 15:4000A75A:Dancing Green:A394:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3948000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27760712:105549682:10000:10000:::99.99:99.99:0.00:0.01:27760712:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064EC:0:1:00::01:A394:A394:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="29" LogMessageText="[12:56:09.402] ActionEffect 15:4000A75A:Dancing Green:A391:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3918000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27608980:105549682:10000:10000:::99.99:99.99:0.00:0.01:27608980:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064F5:0:1:00::01:A391:A391:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" ActionType="Placeholder" ExecutionDelayExpression="1.48 * 1000" />
<Action OrderNumber="31" LogMessageText="[12:56:10.874] ActionEffect 15:4000A75A:Dancing Green:A393:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3938000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27560163:105549682:10000:10000:::99.99:99.99:0.00:0.01:27560163:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064FB:0:1:00::01:A393:A393:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="32" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="33" LogMessageText="[12:56:12.345] ActionEffect 15:4000A75A:Dancing Green:A394:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3948000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27283054:105549682:10000:10000:::99.99:99.99:0.00:0.01:27283054:105549682:10000:10000:::99.99:99.99:0.00:0.01:00006502:0:1:00::01:A394:A394:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="35" LogMessageText="[12:56:13.818] ActionEffect 15:4000A75A:Dancing Green:A392:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3928000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27191804:105549682:10000:10000:::99.99:99.99:0.00:0.01:27191804:105549682:10000:10000:::99.99:99.99:0.00:0.01:0000650D:0:1:00::01:A392:A392:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="ab264852-3b84-4ae8-ac11-728abb472c2a" Name="第 1 阶段" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="3.1 第一阶段 Let's Dance =&gt; O1.1" Id="66224789-e966-496a-b23f-a499228a0a58" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A76A:">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5s_伴舞_n" VariableExpression="1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_伴舞_myRow" VariableExpression="${_me.HasStatus(0x116E)} ? round(${_me.StatusTimer(0x116E)} / 5 - 1) : ${_me.HasStatus(0x116F)} ? round(${_me.StatusTimer(0x116F)} / 5 - 1) : 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M5s_伴舞_myRow" VariableExpression="4" Enabled="False" ActionType="Variable" Asynchronous="False" DescBgColor="fdd" />
<Action OrderNumber="4" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="M5s_伴舞_bMove" ListVariableExpression="${l:M5s_伴舞_bRSafe[${_idx}]} != ${l:M5s_伴舞_bRSafe[${n: ${_idx} + 1}]}" ListVariableIndex="7" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="5" LogMessageText="M5s_伴舞1:n:${v:M5s_伴舞_n}:bRSafe:${l:M5s_伴舞_bRSafe[${v:M5s_伴舞_n}]}:bMove:${l:M5s_伴舞_bMove[${n: ${v:M5s_伴舞_n} - 1}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3.2 第一阶段 技能判定 =&gt; O1.2/O1.3" Id="ac63093e-a6c2-4c5e-b205-e3b0f702e110" RegularExpression="^.{15}\S+ 15:[^:]+:[^:]+:A76[BCDE]">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M5s_伴舞_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M5s_伴舞1:n:${v:M5s_伴舞_n}:bRSafe:${l:M5s_伴舞_bRSafe[${v:M5s_伴舞_n}]}:bMove:${l:M5s_伴舞_bMove[${n: ${v:M5s_伴舞_n} - 1}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="O1.1 起始" Id="a01bf14a-95db-4178-b375-0ba4b10931a7" RegularExpression="^M5s_伴舞1:n:1:bRSafe:(?&lt;bRSafe&gt;[01])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="自己有 debuff" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="第${v:M5s_伴舞_myRow}行，${if: ${bRSafe} ? 右侧 : 左侧 }开始" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_伴舞_myRow}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;Waymarks: ADCB&#xD;&#xA;R: 15&#xD;&#xA;O: 100, 100&#xD;&#xA;---&#xD;&#xA;Action: Linear&#xD;&#xA;Waymarks: 1234&#xD;&#xA;Start: 100, 92.5, -4&#xD;&#xA;End: 100, 107.5, -4&#xD;&#xA;---&#xD;&#xA;${v:M5s_伴舞_myRow}: 100, 87.5 + 5 * ${v:M5s_伴舞_myRow}, 0" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_伴舞_myRow}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="自己无 debuff" DescriptionOverride="True" />
<Action OrderNumber="5" UseTTSTextExpression="${if: ${bRSafe} ? 右侧 : 左侧 }开始" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_伴舞_myRow}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericEqual" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;Waymarks: ADCB&#xD;&#xA;R: 15&#xD;&#xA;O: 100, 100&#xD;&#xA;---&#xD;&#xA;Action: Linear&#xD;&#xA;Waymarks: 1234&#xD;&#xA;Start: 100, 92.5&#xD;&#xA;End: 100, 107.5" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_伴舞_myRow}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericEqual" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="&#xA;Delay: 0.2&#xD;&#xA;Omen: Rect&#xD;&#xA;Tag: M5s_伴舞&#xD;&#xA;Pos: 100, 100&#xD;&#xA;Angle: 0${bRSafe} ? -π/2 : π/2&#xD;&#xA;Scale: 10, 10&#xD;&#xA;Color: 1.5, 0.2, 0.5, 2" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="生成文本播报" DescriptionOverride="True" />
<Action OrderNumber="9" ListVariableOp="SetAll" ListVariableName="M5s_伴舞_strMove" ListVariableExpression="${if: ${l:M5s_伴舞_bMove[${_idx}]} ? 穿 : 停 }" ListVariableIndex="7" ActionType="ListVariable" />
<Action OrderNumber="10" NamedCallbackName="hint" NamedCallbackParam="15&#xD;&#xA;起始：${l:M5s_伴舞_safe[1]}&#xD;&#xA;${l:M5s_伴舞_strMove.join(&quot; &quot;)}" ActionType="NamedCallback" />
<Action OrderNumber="11" ListVariableName="M5s_伴舞_strMove" ActionType="ListVariable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O1.2 第 1-7 次" Id="31721181-727a-403a-9412-4620fafd4759" RegularExpression="^M5s_伴舞1:n:(?&lt;n&gt;[2-8]):bRSafe:(?&lt;bRSafe&gt;[01]?):bMove:(?&lt;bMove&gt;[01]?)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="200" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${bMove} ? 穿 : 停 }" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Delay: 0.2&#xD;&#xA;Action: Change&#xD;&#xA;Tag: M5s_伴舞&#xD;&#xA;Angle: 0${bRSafe} ? -π/2 : π/2" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" LogMessageText="beep:0.2" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${bMove}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O1.3 第 8 次" Id="c6970a4c-33e1-4dba-ad7c-b095291bcc4d" RegularExpression="^M5s_伴舞1:n:9:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="200" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Delay: 0.2&#xD;&#xA;Action: Remove&#xD;&#xA;Tag: M5s_伴舞" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 1" Id="533c1362-5555-481a-94fb-907c92c458e0" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:52:00.075] StartsCasting 14:4000A75A:Dancing Green:9A32:Ensemble Assemble:4000A75A:Dancing Green:2.700:99.99:99.99:0.00:-2.39" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="0.69 * 1000" />
<Action OrderNumber="3" LogMessageText="[12:52:00.768] StartsCasting 14:4000A76A:Frogtourage:A70D:unknown_a70d:4000A76A:Frogtourage:1.400:78.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="5" LogMessageText="[12:52:01.215] StartsCasting 14:4000A769:Frogtourage:A70C:unknown_a70c:4000A769:Frogtourage:1.400:84.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="7" LogMessageText="[12:52:01.664] StartsCasting 14:4000A768:Frogtourage:A70D:unknown_a70d:4000A768:Frogtourage:1.400:90.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="9" LogMessageText="[12:52:02.115] StartsCasting 14:4000A767:Frogtourage:A70D:unknown_a70d:4000A767:Frogtourage:1.400:96.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="0.46 * 1000" />
<Action OrderNumber="11" LogMessageText="[12:52:02.570] StartsCasting 14:4000A766:Frogtourage:A70C:unknown_a70c:4000A766:Frogtourage:1.400:103.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="13" LogMessageText="[12:52:03.023] StartsCasting 14:4000A765:Frogtourage:A70D:unknown_a70d:4000A765:Frogtourage:1.400:109.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="15" LogMessageText="[12:52:03.476] StartsCasting 14:4000A764:Frogtourage:A70D:unknown_a70d:4000A764:Frogtourage:1.400:115.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="17" LogMessageText="[12:52:03.930] StartsCasting 14:4000A763:Frogtourage:A70C:unknown_a70c:4000A763:Frogtourage:1.400:121.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" ActionType="Placeholder" ExecutionDelayExpression="4.60 * 1000" />
<Action OrderNumber="19" LogMessageText="[12:52:08.521] StartsCasting 14:4000A75A:Dancing Green:A76A:Let's Dance!:4000A75A:Dancing Green:5.500:99.99:99.99:0.00:0.01" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="5.98 * 1000" />
<Action OrderNumber="21" LogMessageText="[12:52:14.503] ActionEffect 15:4000A75A:Dancing Green:A76E:Let's Dance!:4000A75A:Dancing Green:1B:A76E8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:71286492:105549682:10000:10000:::99.99:99.99:0.00:0.01:71286492:105549682:10000:10000:::99.99:99.99:0.00:0.01:00005EEF:0:1:00::01:A76E:A76E:2.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" ActionType="Placeholder" ExecutionDelayExpression="2.45 * 1000" />
<Action OrderNumber="23" LogMessageText="[12:52:16.957] ActionEffect 15:4000A75A:Dancing Green:A76D:Let's Dance!:4000A75A:Dancing Green:1B:A76D8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:70857625:105549682:10000:10000:::99.99:99.99:0.00:0.01:70857625:105549682:10000:10000:::99.99:99.99:0.00:0.01:00005EFC:0:1:00::01:A76D:A76D:2.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" ActionType="Placeholder" ExecutionDelayExpression="2.46 * 1000" />
<Action OrderNumber="25" LogMessageText="[12:52:19.412] ActionEffect 15:4000A75A:Dancing Green:A76E:Let's Dance!:4000A75A:Dancing Green:1B:A76E8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:70500786:105549682:10000:10000:::99.99:99.99:0.00:0.01:70500786:105549682:10000:10000:::99.99:99.99:0.00:0.01:00005F0C:0:1:00::01:A76E:A76E:2.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="2.45 * 1000" />
<Action OrderNumber="27" LogMessageText="[12:52:21.868] ActionEffect 15:4000A75A:Dancing Green:A76E:Let's Dance!:4000A75A:Dancing Green:1B:A76E8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:70113044:105549682:10000:10000:::99.99:99.99:0.00:0.01:70113044:105549682:10000:10000:::99.99:99.99:0.00:0.01:00005F1F:0:1:00::01:A76E:A76E:2.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" ActionType="Placeholder" ExecutionDelayExpression="2.46 * 1000" />
<Action OrderNumber="29" LogMessageText="[12:52:24.321] ActionEffect 15:4000A75A:Dancing Green:A76D:Let's Dance!:4000A75A:Dancing Green:1B:A76D8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:69541552:105549682:10000:10000:::99.99:99.99:0.00:0.01:69541552:105549682:10000:10000:::99.99:99.99:0.00:0.01:00005F32:0:1:00::01:A76D:A76D:2.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" ActionType="Placeholder" ExecutionDelayExpression="2.45 * 1000" />
<Action OrderNumber="31" LogMessageText="[12:52:26.770] ActionEffect 15:4000A75A:Dancing Green:A76E:Let's Dance!:4000A75A:Dancing Green:1B:A76E8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:69241757:105549682:10000:10000:::99.99:99.99:0.00:0.01:69241757:105549682:10000:10000:::99.99:99.99:0.00:0.01:00005F41:0:1:00::01:A76E:A76E:2.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="32" ActionType="Placeholder" ExecutionDelayExpression="2.45 * 1000" />
<Action OrderNumber="33" LogMessageText="[12:52:29.224] ActionEffect 15:4000A75A:Dancing Green:A76E:Let's Dance!:4000A75A:Dancing Green:1B:A76E8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:68840489:105549682:10000:10000:::99.99:99.99:0.00:0.01:68840489:105549682:10000:10000:::99.99:99.99:0.00:0.01:00005F50:0:1:00::01:A76E:A76E:2.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" ActionType="Placeholder" ExecutionDelayExpression="2.45 * 1000" />
<Action OrderNumber="35" LogMessageText="[12:52:31.672] ActionEffect 15:4000A75A:Dancing Green:A76D:Let's Dance!:4000A75A:Dancing Green:1B:A76D8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:68393813:105549682:10000:10000:::99.99:99.99:0.00:0.01:68393813:105549682:10000:10000:::99.99:99.99:0.00:0.01:00005F62:0:1:00::01:A76D:A76D:2.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="0. 重置数据 Ensemble Assemble" Id="0a104aa9-db7b-4495-a0db-cc414d136a96" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:9A32:">
<Actions>
<Action OrderNumber="1" ListVariableOp="UnsetRegex" VariableOp="UnsetRegexUniversal" VariableName="^M5s_伴舞" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 收集小人" Id="1747140d-fcb6-4d1a-a257-6071f2354e37" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:A70(?&lt;type&gt;[ABCD]):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="安全侧" DescriptionOverride="True" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableName="M5s_伴舞_safe" ListVariableExpression="${?d: A = 前, B = 后, C = 左, D = 右 [${type}]}" ActionType="ListVariable" />
<Action OrderNumber="3" ListVariableOp="Push" ListVariableName="M5s_伴舞_bRSafe" ListVariableExpression="${?d: C = 0, D = 1 [${type}]}" ActionType="ListVariable" />
<Action OrderNumber="4" ListVariableOp="Push" ListVariableName="M5s_伴舞_safeDir4" ListVariableExpression="${?d: A = 0, B = 2, C = 1, D = 3 [${type}]}" ActionType="ListVariable" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="73ffe446-0559-476c-aa25-45e179fe526f" Name="C. 钢铁月环" Enabled="true" RawEnvironmentVariables="phase = 钢月">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 重置数据 Ensemble Assemble" Id="586b6d5c-d768-47e3-8088-bee60917caa5" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:9A32:">
<Actions>
<Action OrderNumber="1" ListVariableOp="UnsetRegex" VariableOp="UnsetRegexUniversal" VariableName="^M5s_钢月" ActionType="Variable" />
<Action OrderNumber="2" UseTTSTextExpression="八方站位" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="回返扇形" Id="d94a7cf4-a6b2-42c8-9fda-0e9b8b03e6e1" RegularExpression="^.{15}\S+ 108:4.{7}:A764:[^:]*:[^:]*:[^:]*:[^:]*:[^:]*:(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: gl_fan045_1bf&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 2.5&#xD;&#xA;Scale: 30&#xD;&#xA;Pos: 100,100&#xD;&#xA;Angle: 0${h}" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" LogMessageText="beep:0" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="自身被攻击" Id="68b52957-64a9-49e1-b4d3-6ea282e925f7" RegularExpression="^.{15}\S+ 15:4.{7}:[^:]*:A764:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="躲开" ActionType="UseTTS" />
<Action OrderNumber="2" UseTTSTextExpression="回去" ActionType="UseTTS" ExecutionDelayExpression="2500" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="地板花纹 + 标点" Id="e7291ce2-2719-4896-9529-cb26d88083df" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:9A32:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M5s_钢月_钢&#xD;&#xA;Pos: 100, 100&#xD;&#xA;Scale: 7.6&#xD;&#xA;Color: 0.4, 2, 0.2, 10" ActionType="NamedCallback" Description="钢铁" DescBgColor="ffd" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_钢月_线0&#xD;&#xA;θ: dir2rad(0, -8)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_钢月_线1&#xD;&#xA;θ: dir2rad(1, -8)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_钢月_线2&#xD;&#xA;θ: dir2rad(2, -8)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_钢月_线3&#xD;&#xA;θ: dir2rad(3, -8)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: M5s_钢月_线&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, 7.2&#xD;&#xA;Scale: 0.05, 14.4, 0&#xD;&#xA;Color: 3, 3, 3, 0.8" ActionType="NamedCallback" Description="4 * 线" DescBgColor="ffd" DescriptionOverride="True" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环0&#xD;&#xA;θ: dir2rad(0, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环1&#xD;&#xA;θ: dir2rad(1, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环2&#xD;&#xA;θ: dir2rad(2, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环3&#xD;&#xA;θ: dir2rad(3, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环4&#xD;&#xA;θ: dir2rad(4, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环5&#xD;&#xA;θ: dir2rad(5, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环6&#xD;&#xA;θ: dir2rad(6, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环7&#xD;&#xA;θ: dir2rad(7, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环0&#xD;&#xA;θ: dir2rad(0, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环1&#xD;&#xA;θ: dir2rad(1, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环2&#xD;&#xA;θ: dir2rad(2, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环3&#xD;&#xA;θ: dir2rad(3, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环4&#xD;&#xA;θ: dir2rad(4, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环5&#xD;&#xA;θ: dir2rad(5, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环6&#xD;&#xA;θ: dir2rad(6, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环7&#xD;&#xA;θ: dir2rad(7, -8)&#xD;&#xA;&#xD;&#xA;---&#xD;&#xA;// 绿色&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_钢月_.环[16]&#xD;&#xA;Color: 0, 4, 2, 1&#xD;&#xA;---&#xD;&#xA;// 蓝色&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_钢月_.环[07]&#xD;&#xA;Color: 0, 2, 8, 1&#xD;&#xA;---&#xD;&#xA;// 红色&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_钢月_.环[2345]&#xD;&#xA;Color: 4, 0.5, 1, 1&#xD;&#xA;&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_钢月_外环&#xD;&#xA;Pos: 0, -7.8&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.8&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_钢月_内环&#xD;&#xA;Pos: 0, -4&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.8" ActionType="NamedCallback" Description="16 * 点位" DescBgColor="ffd" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Tag: M5s_钢月_线${?l: 0,3,1,2,3,0,2,1 [${v:myIdx}]}&#xD;&#xA;Color: 0.5, 5, 0.5, 0.8" ActionType="NamedCallback" Description="高亮自己的线" DescBgColor="ffd" DescriptionOverride="True" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Type: Static&#xD;&#xA;Regex: ^M5s_钢月" ActionType="NamedCallback" ExecutionDelayExpression="32000" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="5f3c72a1-8779-43f0-a967-3f3a110e4c39" Name="H. 分身左右刀" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1.2 本体左右刀 =&gt; 2.3" Id="ae85065b-ef72-474a-a63e-27e58db3d96d" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A72(?&lt;type&gt;4|5):">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M5s_双分身_本体_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_双分身_b本体RSafe" VariableExpression="${type} == 5" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="第一次：显示半场" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="delay: 0.7&#xD;&#xA;Tag: M5s&#xD;&#xA;Omen: Fan180&#xD;&#xA;t: 5.5&#xD;&#xA;O: 100, 100&#xD;&#xA;+X: !0${v:M5s_双分身_b本体RSafe}&#xD;&#xA;Angle: π/2&#xD;&#xA;Scale: 30&#xD;&#xA;Color: 1.3, 0.7, 0.4, 1" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_双分身_本体_n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" UseTTSTextExpression="${if: ${v:M5s_双分身_b本体RSafe} ? 右 : 左 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_双分身_本体_n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="第二次：结合分身播报" DescriptionOverride="True" />
<Action OrderNumber="7" LogMessageText="M5s_双分身:n:3:b去东:${v:M5s_双分身_b本体RSafe}:b去北:${n: ${l:M5s_双分身_dir4[-1]} = 0}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${l:M5s_双分身半场_θ.size}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_双分身_b本体RSafe}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_双分身_本体_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" VariableName="M5s_双分身_b本体RSafe" ActionType="Variable" ExecutionDelayExpression="3000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1.1 分身左右刀 =&gt; 2" Id="d32f9e21-1f06-438e-945c-a6bebc67cee2" RegularExpression="^.{15}\S+ 107:4.{7}:A77(?&lt;type&gt;5|6):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M5s_双分身半场_θ" ListVariableExpression="${h}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="M5s_双分身_dir4" ListVariableExpression="roundir(${l:M5s_双分身半场_θ[-1]} + relθ(${l:M5s_双分身半场_θ[-1]}, ${l:M5s_双分身半场_θ[-2]}) / 2 + π, 4)" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M5s_双分身半场_θ.size} % 2" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="前两组" DescriptionOverride="True" />
<Action OrderNumber="4" LogMessageText="M5s_双分身:n:${l:M5s_双分身_dir4.size}:dir4:${l:M5s_双分身_dir4[-1]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M5s_双分身半场_θ.size}" ExpressionTypeL="Numeric" ExpressionR="[24]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="第三组" DescriptionOverride="True" />
<Action OrderNumber="6" LogMessageText="M5s_双分身:n:3:b去东:${v:M5s_双分身_b本体RSafe}:b去北:${n: ${l:M5s_双分身_dir4[-1]} = 0}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${l:M5s_双分身半场_θ.size}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_双分身_b本体RSafe}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_双分身_本体_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.3 播报 3" Id="430e2fee-bce6-48b0-855b-545a9660546d" RegularExpression="^M5s_双分身:n:3:b去东:(?&lt;b去东&gt;0|1):b去北:(?&lt;b去北&gt;0|1)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${n: 0b0${b去北}${b去东}}): 下偏左, 下偏右, 上偏左, 上偏右 }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan45&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 4.7&#xD;&#xA;O: 100, 100&#xD;&#xA;+X: 0${b去东}&#xD;&#xA;+Y: 0${b去北}&#xD;&#xA;Angle: dir2rad(7, -8)&#xD;&#xA;Scale: 30&#xD;&#xA;Color: 0, 2, 7, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;ScaleX: 0${b去东} ? 1 : -1&#xD;&#xA;ScaleY: 0${b去北} ? 1 : -1&#xD;&#xA;1: polar 5, 157.5°, -2" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="5000" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 播报 2" Id="2eb02c91-2423-483b-86e8-552b17ed95d0" RegularExpression="^M5s_双分身:n:2:dir4:(?&lt;dir4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="然后${f:pick(${dir4}): 上北, 左西, 下南, 右东 }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 4.7&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dir4}, 4)&#xD;&#xA;Scale: 30&#xD;&#xA;Color: 0, 2, 7, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir4}, 4)&#xD;&#xA;2: 0, ${l:M5s_双分身_dir4[1]} != ${l:M5s_双分身_dir4[2]} ? -2.5 : -4.8, -2" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="5000" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 播报 1" Id="2c7d3a09-3db2-4e03-87fe-7035065fec56" RegularExpression="^M5s_双分身:n:1:dir4:(?&lt;dir4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${dir4}): 上北, 左西, 下南, 右东 }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 4.7&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dir4}, 4)&#xD;&#xA;Scale: 30&#xD;&#xA;Color: 0, 2, 7, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir4}, 4)&#xD;&#xA;1: 0, -2.5, -2" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-13 00:30" Id="3a4eeca0-4469-4ff2-a2b7-320a24f423b4" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:56:51.591] StartsCasting 14:4000A75A:Dancing Green:A75F:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="100" />
<Action OrderNumber="3" LogMessageText="[12:56:43.436] 263 107:4000A769:A776:109.989:109.989:0.000:-0.785" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[12:56:43.436] 263 107:4000A76A:A775:109.989:89.999:0.000:-2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="4.10 * 1000" />
<Action OrderNumber="6" LogMessageText="[12:56:47.537] 263 107:4000A767:A776:89.999:109.989:0.000:-2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[12:56:47.537] 263 107:4000A768:A776:89.999:89.999:0.000:2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="4.06 * 1000" />
<Action OrderNumber="9" LogMessageText="[12:56:51.591] StartsCasting 14:4000A75A:Dancing Green:A725:Do the Hustle:4000A75A:Dancing Green:4.700:99.99:99.99:0.00:1.78" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="4000" />
<Action OrderNumber="11" LogMessageText="[12:56:59.907] StartsCasting 14:4000A75A:Dancing Green:A725:Do the Hustle:4000A75A:Dancing Green:4.700:99.99:99.99:0.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="0.14 * 1000" />
<Action OrderNumber="13" LogMessageText="[12:57:00.042] 263 107:4000A765:A775:109.989:89.999:0.000:-2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[12:57:00.042] 263 107:4000A766:A776:89.999:89.999:0.000:2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 开始" Id="cb365868-673c-4cfb-a0cc-65e1f42e1535" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A75F:">
<Actions>
<Action OrderNumber="1" ListVariableOp="UnsetRegex" VariableOp="UnsetRegexUniversal" VariableName="^M5s_双分身" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="b356f4b2-6557-4f46-88d3-9a0d1b361fe8" Name=".阶段" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="地火" Id="7bd8629a-5e6c-4d00-8094-71edbfa1ded1" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A754:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M5s_phase_地火" VariableExpression="1" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="安可" Id="6446e704-6751-4e70-b480-c5b32aab38b8" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A370:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M5s_phase_安可" VariableExpression="1" ActionType="Variable" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="07946664-e4da-4407-963d-01d009c948cc" Name="G. 滑步青蛙" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 滑步青蛙1" Id="b21ab520-4dc8-4375-adff-894f71e923fe" RegularExpression="^.{15}\S+ 101:.{8}:(?&lt;type&gt;0002|0020).{4}:(1D|20)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000" Description="  1d: &#xD;&#xA;    0002: 123列危险&#xD;&#xA;    0008：123列判定&#xD;&#xA;    0020：456列危险&#xD;&#xA;    0080：456列判定&#xD;&#xA;  1e: 345 / 678 列（同上）&#xD;&#xA;  1f: 456 / 123 列&#xD;&#xA;  20: 678 / 345 列&#xD;&#xA;  21: 345 / 123 行&#xD;&#xA;  22: 678 / 345 行&#xD;&#xA;  23: 123 / 456 行&#xD;&#xA;  24: 345 / 678 行">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="这两只青蛙必定出现其一；0002 内侧列安全 0020 外侧列安全；第一次忽略横向的" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="M5s_滑步_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M5s_滑步1_b去南北" VariableExpression="0x${type} = 0x2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="cd5:10" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.IsTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" UseTTSTextExpression="${if: ${v:M5s_滑步1_b去南北} ? 南北安全 : 东西安全 }" ActionType="UseTTS" />
<Action OrderNumber="6" UseTTSTextExpression="${?d:&#xD;&#xA;  11 = 去上北,&#xD;&#xA;  10 = 去下南,&#xD;&#xA;  01 = 去左西,&#xD;&#xA;  00 = 去右东,&#xD;&#xA;  1 = 南北安全,&#xD;&#xA;  0 = 东西安全&#xD;&#xA;  [${v:M5s_滑步1_b去南北}${v:myIdx_isG1}]&#xD;&#xA;}" Enabled="False" ActionType="UseTTS" />
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M5s_滑步1_1&#xD;&#xA;t: 10&#xD;&#xA;θ: π + (0${v:M5s_滑步1_b去南北} ? 0 : π/2)&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M5s_滑步1_2&#xD;&#xA;t: 10&#xD;&#xA;θ: 0 + (0${v:M5s_滑步1_b去南北} ? 0 : π/2)&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_滑步&#xD;&#xA;Pos: 0, -10&#xD;&#xA;Scale: 5, 10&#xD;&#xA;Color: 0, 2.5, 10, 1&#xD;&#xA;O: 100, 100" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_滑步_n}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 播报2/3" Id="f015dfe3-a7b0-4e11-8b7b-3e52e2b4df4b" RegularExpression="^M5s_滑步:b引导:(?&lt;b引导&gt;[01]):b去内:(?&lt;b去内&gt;[01]):b列:(?&lt;b列&gt;[01])" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000" Description="  1d: &#xD;&#xA;    0002: 123列危险&#xD;&#xA;    0008：123列判定&#xD;&#xA;    0020：456列危险&#xD;&#xA;    0080：456列判定&#xD;&#xA;  1e: 345 / 678 列（同上）&#xD;&#xA;  1f: 456 / 123 列&#xD;&#xA;  20: 678 / 345 列&#xD;&#xA;  21: 345 / 123 行&#xD;&#xA;  22: 678 / 345 行&#xD;&#xA;  23: 123 / 456 行&#xD;&#xA;  24: 345 / 678 行">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b去内} &#xD;&#xA;  ? boss 脚下躲避&#xD;&#xA;  : 去两侧躲避&#xD;&#xA;}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b引导}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" UseTTSTextExpression="${?l: 左上, 右上, 左下, 右下, 左下, 右下, 左上, 右上 [${v:myIdx}]}引导，&#xD;&#xA;${if: ${b去内} ? 内 : 外}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b引导}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" LogMessageText="cd5:10" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b去内}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_me.IsTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_滑步_n}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 滑步青蛙2/3 =&gt; 3" Id="87571563-356e-4104-a6dc-06280d06f787" RegularExpression="^.{15}\S+ 101:.{8}:(?&lt;type&gt;0002|0020).{4}:(?&lt;pos&gt;1D|20|22|23)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000" Description="  1d: &#xD;&#xA;    0002: 123列危险&#xD;&#xA;    0008：123列判定&#xD;&#xA;    0020：456列危险&#xD;&#xA;    0080：456列判定&#xD;&#xA;  1e: 345 / 678 列（同上）&#xD;&#xA;  1f: 456 / 123 列&#xD;&#xA;  20: 678 / 345 列&#xD;&#xA;  21: 345 / 123 行&#xD;&#xA;  22: 678 / 345 行&#xD;&#xA;  23: 123 / 456 行&#xD;&#xA;  24: 345 / 678 行">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="1D/20 列，22/23 行；0002 内侧列安全 0020 外侧列安全" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="M5s_滑步_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M5s_滑步:b引导:${n: (${v:M5s_滑步_n} = 2) = ${v:myIdx_isTH}}:b去内:${n: 0x${type} = 2}:b列:${n: 0x${pos} &gt;= 0x22}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_滑步_n}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="触发最终动画" Id="cef7966e-3628-4dbf-a6ed-adf5b8bbdf65" RegularExpression="^.{15}\S+ 101:[^:]*:(?&lt;type&gt;0002|0020).{4}:(?&lt;loc&gt;1[DEF]|2[01234])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="每个位置有 0002 0020 两种动画（对应下面的两组危险行列），每次上下各生成一个，对称" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="1d: 123 / 456 列    1f: 456 / 123 列    21: 345 / 123 行    23: 123 / 456 行" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Description="1e: 345 / 678 列    20: 678 / 345 列    22: 678 / 345 行    24: 345 / 678 行" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="MapEffect" NamedCallbackParam="0x${loc}, 0x${type} / 2" ActionType="NamedCallback" ExecutionDelayExpression="200">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_滑步_n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="ff420a31-6d52-4518-8c41-a96cd06e957f" Name="F. 追光灯2" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1.1 获取追光灯初始位置 =&gt; 2.1" Id="3e3eb4e6-82fc-4ec2-bb3c-8dbfed6a7148" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18363:(?&lt;x&gt;[19][^:]*):(?&lt;y&gt;8[45][^:]*):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="只获取正上/右上" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_灯_b1灯正" VariableExpression="round(${x}) != 100" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M5s_灯_踩灯:b先:${v:M5s_灯_b先灯}:b灯正:${n: ${v:M5s_灯_b1灯正} = ${v:M5s_灯_b先灯}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_灯_b先灯}${ev:M5s_灯_b1灯正}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 播报踩灯" Id="fbc96d13-86d7-4bd2-aac6-98a812a5dfac" RegularExpression="^M5s_灯_踩灯:b先:(?&lt;b先&gt;[01]):b灯正:(?&lt;b灯正&gt;[01])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="dir4 或 -4（分组）" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="${b先} ? 0 : 10000" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M5s_灯_myDir" VariableExpression="${?l: 0, 3, 1, 2, 1, 2, 0, 3 [${v:myIdx}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M5s_灯_myDir8" VariableExpression="${v:M5s_灯_myDir} * 2 + !${b灯正}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" UseTTSTextExpression="${f:pick(${v:M5s_灯_myDir8}): 上北, 左上, 左西, 左下, 下南, 右下, 右东, 右上 }踩灯" ActionType="UseTTS" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 9.5&#xD;&#xA;θ: dir2rad(${v:M5s_灯_myDir8}, 8)&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.05, ${b灯正} ? 15 : 15√2, 0&#xD;&#xA;Color: 3, 3, 3, 0.8&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 9.5&#xD;&#xA;θ: dir2rad(${v:M5s_灯_myDir8}, 8)&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, ${b灯正} ? -15 : -15√2&#xD;&#xA;ScaleCyl: 2.5, 0.3&#xD;&#xA;Color: 0, 2, 10, 2" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 播报引导" Id="8e008305-e77f-44a4-a98a-589eb4d7e220" RegularExpression="^M5s_灯_引导:b先:(?&lt;b先&gt;[01]):b蛙正:(?&lt;b蛙正&gt;[01]):b偏:(?&lt;b偏&gt;[01])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="dir4 或 -4（分组）" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="${b先} ? 0 : 11000" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M5s_灯_myDir" VariableExpression="${?l: 0, 3, 1, 2, 1, 2, 0, 3 [${v:myIdx}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M5s_灯_myDir8" VariableExpression="${v:M5s_灯_myDir} * 2 + !${b蛙正}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" UseTTSTextExpression="${f:pick(${v:M5s_灯_myDir8}): 上北, 左上, 左西, 左下, 下南, 右下, 右东, 右上 }引导扇形，朝${if: ${b蛙正} = ${b偏} ? 斜点 : 正点 }" ActionType="UseTTS" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 9.5&#xD;&#xA;θ: dir2rad(${v:M5s_灯_myDir8}, 8)&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, -5√2&#xD;&#xA;// 引导最优角度：https://www.geogebra.org/classic/axatx74x&#xD;&#xA;Angle: !${b偏} ? π : (${b蛙正} ? -109° : 118°)&#xD;&#xA;Scale: 0.05, 10, 0&#xD;&#xA;Color: 3, 3, 3, 0.8&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 9.5&#xD;&#xA;θ: dir2rad(${v:M5s_灯_myDir8}, 8)&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, -5√2&#xD;&#xA;ScaleCyl: 2.5, 0.3&#xD;&#xA;Color: 0, 2, 10, 2" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1.3 获取青蛙 =&gt; 2.2" Id="e8c6f337-9d46-41a3-868b-c19dc3f52fa6" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18362:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="20000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="青蛙生成本身晚 0.4 秒左右，保险起见再延迟一些      phase" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="200" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M5s_灯_b1蛙正" VariableExpression="roundvec(${x}-100, ${y}-100, 8) % 2 = 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="M5s_灯_引导:b先:${n: !${v:M5s_灯_b先灯}}:b蛙正:${n: ${v:M5s_灯_b1蛙正} != ${v:M5s_灯_b先灯}}:b偏:${n: ${v:M5s_灯_b1蛙正} = ${v:M5s_灯_b1灯正}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_phase_安可}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_phase_地火}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="round((${x}-100)^2 + (${y}-100)^2)" ExpressionTypeL="Numeric" ExpressionR="50" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1.2 获取跳舞 debuff =&gt; 2.1" Id="969a8b94-5c57-4ce4-bc54-e1ef0fd09578" RegularExpression="^.{15}\S+ 1A:116D:[^:]+:(?&lt;t&gt;1?9[^:]*):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5s_灯_b先灯" VariableExpression="${t} &lt; 10" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M5s_灯_踩灯:b先:${v:M5s_灯_b先灯}:b灯正:${n: ${v:M5s_灯_b1灯正} = ${v:M5s_灯_b先灯}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_灯_b先灯}${ev:M5s_灯_b1灯正}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="2c94558c-e0bf-4b11-bfb1-fe2e03ded8d4" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A756:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M5s_灯" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-13 20:23" Id="e896611a-a65f-47dd-a1db-6296f335489f" RegularExpression="">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M5s_phase_地火" VariableExpression="1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableName="M5s_phase_安可" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="[12:54:32.328] StartsCasting 14:4000A75A:Dancing Green:A756:Disco Infernal:4000A75A:Dancing Green:3.700:99.99:99.99:0.00:-2.93" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="5" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:19.50:E0000000::${_me.id}:${_me}:00:267900:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:9.50:E0000000::107242AD:Seraphine Danielle:00:167191:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:9.50:E0000000::108EE72B:Lumi Willow:00:165897:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:9.50:E0000000::1071DB9F:Koji Oda:00:265391:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:19.50:E0000000::104D5418:Velvet's Rose:00:179832:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:19.50:E0000000::1087DD85:Parakyu Vakarian:00:180917:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:19.50:E0000000::10712799:Mithrin Heiral:00:164512:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:19.50:E0000000::1076A454:Yoshi Munchakoopa:00:171315:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[12:54:36.877] _ActorSetPos AAA:10F:4000A762:Spotlight:13780:18363:115.0000:85.0000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="0.40 * 1000" />
<Action OrderNumber="15" LogMessageText="[12:54:47.398] _ActorSetPos AAA:10F:4000A765:Frogtourage:13779:18362:107.0711:100.0000:0.0000:1.5707" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[12:54:47.398] _ActorSetPos AAA:10F:4000A764:Frogtourage:13779:18362:100.0000:107.0711:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[12:54:47.398] _ActorSetPos AAA:10F:4000A763:Frogtourage:13779:18362:92.9289:100.0000:0.0000:-1.5709" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[12:54:47.398] _ActorSetPos AAA:10F:4000A766:Frogtourage:13779:18362:100.0000:92.9289:0.0000:-3.1416" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="10.12 * 1000" />
<Action OrderNumber="20" LogMessageText="[12:54:37.277] _ActorSetPos AAA:10F:4000A767:Frogtourage:13779:18362:95.0000:105.0000:0.0000:-0.7855" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[12:54:37.277] _ActorSetPos AAA:10F:4000A76A:Frogtourage:13779:18362:95.0000:95.0000:0.0000:-2.3563" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogMessageText="[12:54:37.277] _ActorSetPos AAA:10F:4000A769:Frogtourage:13779:18362:105.0000:95.0000:0.0000:2.3561" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" LogMessageText="[12:54:37.277] _ActorSetPos AAA:10F:4000A768:Frogtourage:13779:18362:105.0000:105.0000:0.0000:0.7853" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="注册小队：自身" Id="afa0e934-5d9a-48fe-b51f-5e575c1c3460" RegularExpression="^.{15}\S+ 01:(?&lt;zoneid&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="PartyList:Register:${env:zone}:Self" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${zoneid}" ExpressionTypeL="Numeric" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1259$" Id="53f66f6c-2e70-45d0-bfdc-ff8085340044" Name="M6s v1.0.3" Enabled="true" RawEnvironmentVariables="zone = 1259">
<Folders>
<Folder Id="0d5c91d7-380f-45af-81c0-40118425bc91" Name="杂项" Enabled="true">
<Folders>
<Folder Id="4e4ac81c-1da5-4b05-b25e-c811bf81558e" Name="翅膀" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="翅膀 debuff 倒计时" Id="ef2cb848-4389-4ece-a2e3-28dc5220830a" RegularExpression="^.{15}\S+ 1A:1162:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:(?&lt;stack&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:${t}" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Name="测试0" Id="77d4625b-96d7-40b7-9c95-47c9db5b38ae" RegularExpression="^M6s_test">
<Actions>
<Action OrderNumber="1" />
<Action OrderNumber="2" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, 0" ActionType="NamedCallback" />
<Action OrderNumber="3" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, 0" ActionType="NamedCallback" ExecutionDelayExpression="100" />
<Action OrderNumber="4" LogMessageText="${_event}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="1900" />
</Actions>
</Trigger>
<Trigger Enabled="false" Name="测试1" Id="9997844a-8adf-4457-a4df-e9d8e7046c01" RegularExpression="^M6s_test">
<Actions>
<Action OrderNumber="1" />
<Action OrderNumber="2" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, 1" ActionType="NamedCallback" />
<Action OrderNumber="3" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, 1" ActionType="NamedCallback" ExecutionDelayExpression="100" />
<Action OrderNumber="4" LogMessageText="${_event}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="1900" />
</Actions>
</Trigger>
<Trigger Enabled="false" Name="测试-1" Id="f094e0bd-7db8-4a6d-9c19-ccb341a58d75" RegularExpression="^M6s_test">
<Actions>
<Action OrderNumber="1" />
<Action OrderNumber="2" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, -1" ActionType="NamedCallback" />
<Action OrderNumber="3" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, -1" ActionType="NamedCallback" ExecutionDelayExpression="100" />
<Action OrderNumber="4" LogMessageText="${_event}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="1900" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="注册回调" Id="365e4ca5-3d5b-4217-966f-2add810891dc" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A676:">
<Actions>
<Action OrderNumber="1" ExecScriptExpression="using System;&#xD;&#xA;using System.Collections.Generic;&#xD;&#xA;using System.Linq;&#xD;&#xA;using System.Numerics;&#xD;&#xA;using System.Text;&#xD;&#xA;using System.Threading.Tasks;&#xD;&#xA;using Triggernometry.FFXIV;&#xD;&#xA;using Triggernometry.PluginBridges.BridgeNamazu;&#xD;&#xA;using Triggernometry.PluginBridges.BridgeNamazu.Modules;&#xD;&#xA;using Triggernometry.Utilities;&#xD;&#xA;using Triggernometry.Utilities.Math;&#xD;&#xA;using static Triggernometry.Utilities.DataStringHelper;&#xD;&#xA;&#xD;&#xA;Triggernometry.RealPlugin.plug.RegisterNamedCallback(&quot;M6s_AutoFly&quot;, &#xD;&#xA;    new Action&lt;object, string&gt;(M6sAutoFly.AutoFly), null, false, &quot;M6s宝宝椅&quot;);&#xD;&#xA;Triggernometry.RealPlugin.plug.RegisterNamedCallback(&quot;M6s_AutoFlyLava&quot;, &#xD;&#xA;    new Action&lt;object, string&gt;(M6sAutoFly.AutoFlyLava), null, false, &quot;M6s宝宝椅&quot;);&#xD;&#xA;&#xD;&#xA;public static class M6sAutoFly&#xD;&#xA;{&#xD;&#xA;&#xD;&#xA;    const bool DEBUG = false;//true;&#xD;&#xA;&#xD;&#xA;    const double FLYRANGE = 34.0;&#xD;&#xA;    static Entity GetMyself() =&gt; Entity.GetMyself();&#xD;&#xA;    static void Log(string msg) =&gt; Triggernometry.RealPlugin.plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e \n{msg}&quot;);&#xD;&#xA;    static void Warning(string msg) =&gt; Triggernometry.Interpreter.StaticHelpers.Log(Triggernometry.RealPlugin.DebugLevelEnum.Warning, msg);&#xD;&#xA;    static void Error(string msg) =&gt; Triggernometry.Interpreter.StaticHelpers.Log(Triggernometry.RealPlugin.DebugLevelEnum.Error, msg);&#xD;&#xA;    static void CheckAndSetHeading(IntPtr address, float prevθ, float newθ)&#xD;&#xA;    {&#xD;&#xA;        if (Math.Abs(Normalize(prevθ - newθ)) &gt; 0.001)&#xD;&#xA;        {&#xD;&#xA;            var prevDeg = prevθ * 180 / Math.PI;&#xD;&#xA;            var newDeg = newθ * 180 / Math.PI;&#xD;&#xA;            BridgeNamazu.GetModule&lt;EntityModule&gt;().SetHeading(address, newθ);&#xD;&#xA;            Log($&quot;[面向] {prevDeg:F1}° =&gt; {newDeg:F1}°&quot;);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public static void AutoFly(object _, string rawDirN4)&#xD;&#xA;    { &#xD;&#xA;        int dirN4 = rawDirN4.FromDataString&lt;int&gt;();&#xD;&#xA;        Task.Run(async () =&gt; {&#xD;&#xA;            for (int i = 0; i &lt; 10; i++)&#xD;&#xA;            {&#xD;&#xA;                if (i &gt; 0) await Task.Delay(200);&#xD;&#xA;                try&#xD;&#xA;                {&#xD;&#xA;                    _AutoFly(dirN4);&#xD;&#xA;                }&#xD;&#xA;                catch (IgnoredException iex) &#xD;&#xA;                {&#xD;&#xA;                    if (DEBUG) Triggernometry.RealPlugin.plug.InvokeNamedCallback(&quot;AdvWm&quot;, &quot;clear&quot;);&#xD;&#xA;                    Warning($&quot;[M6sAutoFly] {iex.Message}&quot;);&#xD;&#xA;                }&#xD;&#xA;                catch (Exception ex)&#xD;&#xA;                {&#xD;&#xA;                    Error($&quot;[M6sAutoFly] 出现错误：{ex}&quot;);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static void _AutoFly(int dirN4)&#xD;&#xA;    {&#xD;&#xA;        var me = GetMyself();&#xD;&#xA;        var prevθ = me.Heading;&#xD;&#xA;        var myX = me.PosX;&#xD;&#xA;        var myY = me.PosY;&#xD;&#xA;        dirN4 = (dirN4 + 4) % 4;&#xD;&#xA;        var tgtX = dirN4 &lt;= 1 ? 80 : 120;&#xD;&#xA;        var tgtY = dirN4 == 0 || dirN4 == 3 ? 80 : 120;&#xD;&#xA;        var newθ = (float)Math.Atan2(tgtX - myX, tgtY - myY);&#xD;&#xA;        CheckAndSetHeading(me.Address, prevθ, newθ);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public static void AutoFlyLava(object _, string data)&#xD;&#xA;    {&#xD;&#xA;        (int dirN3, int direction) = ParseArgs&lt;int, int&gt;(data);&#xD;&#xA;        Task.Run(async () =&gt; {&#xD;&#xA;            for (int i = 0; i &lt; 10; i++)&#xD;&#xA;            {&#xD;&#xA;                if (i &gt; 0) await Task.Delay(200);&#xD;&#xA;                try&#xD;&#xA;                {&#xD;&#xA;                    _AutoFlyLava(dirN3, direction);&#xD;&#xA;                }&#xD;&#xA;                catch (IgnoredException iex)&#xD;&#xA;                {&#xD;&#xA;                    if (DEBUG) Triggernometry.RealPlugin.plug.InvokeNamedCallback(&quot;AdvWm&quot;, &quot;clear&quot;);&#xD;&#xA;                    Warning($&quot;[M6sAutoFly] {iex.Message}&quot;);&#xD;&#xA;                }&#xD;&#xA;                catch (Exception ex)&#xD;&#xA;                {&#xD;&#xA;                    Error($&quot;[M6sAutoFly] 出现错误：{ex}&quot;);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static void _AutoFlyLava(int dirN3, int direction)&#xD;&#xA;    {&#xD;&#xA;        var me = GetMyself();&#xD;&#xA;        var prevθ = me.Heading;&#xD;&#xA;        var myX = me.PosX;&#xD;&#xA;        var myY = me.PosY;&#xD;&#xA;        var myPos = new Vector2((float)myX, (float)myY);&#xD;&#xA;        Vector2 edge1, edge2;&#xD;&#xA;&#xD;&#xA;        if (dirN3 == 0 &amp;&amp; direction == 1) // 左上 → 右上&#xD;&#xA;        {&#xD;&#xA;            if (myX &lt; 120 - FLYRANGE) // 左边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 右上熔岩交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else if (myY &lt;= 93) // 中心偏上&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 右上熔岩交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else  // 中心偏下&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 右边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 2 &amp;&amp; direction == -1) // 右上 → 左上&#xD;&#xA;        {&#xD;&#xA;            if (myX &gt; 80 + FLYRANGE) // 右边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左上熔岩交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 上边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myY &lt;= 93) // 中心偏上&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左上熔岩交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 左边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else  // 中心偏下&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 上边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 0 &amp;&amp; direction == -1) // 左上 → 下&#xD;&#xA;        {&#xD;&#xA;            if (Vector2.Distance(myPos, edge左下外) &gt; FLYRANGE) // 上边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右下熔岩交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 左下熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myY &lt; 120 - FLYRANGE) // 上边缘稍近&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右下熔岩交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 左边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else if (Vector2.Distance(myPos, edge右下外) &lt;= FLYRANGE) // 中心&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 下边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else // 左侧边缘大部分区域&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右下熔岩交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 下边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 2 &amp;&amp; direction == 1) // 右上 → 下&#xD;&#xA;        {&#xD;&#xA;            if (Vector2.Distance(myPos, edge右下外) &gt; FLYRANGE) // 上边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右下熔岩交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 左下熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myY &lt; 120 - FLYRANGE) // 上边缘稍近&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 左下熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (Vector2.Distance(myPos, edge左下外) &lt;= FLYRANGE) // 中心&#xD;&#xA;            {&#xD;&#xA;                edge1 = 下边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 左边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else // 右侧边缘大部分区域&#xD;&#xA;            {&#xD;&#xA;                edge1 = 下边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 左下熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 1 &amp;&amp; direction == 1) // 下 → 左上&#xD;&#xA;        {&#xD;&#xA;            if (Vector2.Distance(myPos, edge左上外) &gt;= FLYRANGE) // 右下角落&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左上熔岩交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 上左熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myY &gt; 80 + FLYRANGE)&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 上左熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myX &gt; 90) // 中心偏右&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 上边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else // 中心偏左&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 上左熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 1 &amp;&amp; direction == -1) // 下 → 右上&#xD;&#xA;        {&#xD;&#xA;            if (Vector2.Distance(myPos, edge上右外) &lt;= FLYRANGE) // 中心&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 右边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (Vector2.Distance(myPos, edge右上外) &lt;= FLYRANGE) // 右下大部分区域&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上右熔岩交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 右边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else // 左下角落&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上右熔岩交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 右上熔岩交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 1 &amp;&amp; direction == 0) // 左下 ↔ 右下&#xD;&#xA;        {&#xD;&#xA;            if (me.PosX &lt; 120 - FLYRANGE) // 左边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 下边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 右下熔岩交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else if (me.PosX &gt; 80 + FLYRANGE) // 右边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 下边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 左下熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myX &lt; 100) // 左侧靠中心（实际只有很小的一部分区域有效 下同）&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 下边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else // 右侧靠中心&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 下边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else throw new IgnoredException($&quot;无效的位置：dirN3 = {dirN3}, direction = {direction}&quot;);&#xD;&#xA;&#xD;&#xA;        var newθ = (float)BestAngle(myPos, edge1, edge2);&#xD;&#xA;        var newPos = new Vector2(&#xD;&#xA;            myPos.X + (float)(FLYRANGE * Math.Sin(newθ)),&#xD;&#xA;            myPos.Y + (float)(FLYRANGE * Math.Cos(newθ))&#xD;&#xA;        );&#xD;&#xA;        if (Math.Abs(newPos.X - 100) &gt; 20.01 || Math.Abs(newPos.Y - 100) &gt; 20.01)&#xD;&#xA;        {&#xD;&#xA;            throw new IgnoredException($&quot;无法找到安全的方向：myPos=({myX}, {myY}), newθ={newθ}, newPos=({newPos.X}, {newPos.Y})&quot;);&#xD;&#xA;        }&#xD;&#xA;        CheckAndSetHeading(me.Address, prevθ, newθ);&#xD;&#xA;        // debug&#xD;&#xA;        if (DEBUG) &#xD;&#xA;        {&#xD;&#xA;            var pos = GetMyself().Pos;&#xD;&#xA;            Triggernometry.RealPlugin.plug.InvokeNamedCallback(&quot;AdvWm&quot;, $@&quot;&#xD;&#xA;Action: Linear&#xD;&#xA;O: {pos.X:F3}, {pos.Y:F3}, {pos.Z:F3}&#xD;&#xA;θ: {newθ}&#xD;&#xA;Start: 0, 0&#xD;&#xA;End: 0, -34&#xD;&#xA;Waymarks: 43DCBA&#xD;&#xA;---&#xD;&#xA;1: {edge1.X:F3}, {edge1.Y:F3}&#xD;&#xA;2: {edge2.X:F3}, {edge2.Y:F3}&#xD;&#xA;&quot;);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static Vector2 edge左上外 = new Vector2(80, 105);&#xD;&#xA;    static Vector2 edge上左外 = new Vector2(99.5f, 80);&#xD;&#xA;    static Vector2 edge左上内 = new Vector2(95.5f, 97.3f);&#xD;&#xA;&#xD;&#xA;    static Vector2 edge右上外 = new Vector2(120, 109);&#xD;&#xA;    static Vector2 edge上右外 = new Vector2(107.5f, 80);&#xD;&#xA;    static Vector2 edge右上内 = new Vector2(102.6f, 100.3f);&#xD;&#xA;&#xD;&#xA;    static Vector2 edge左下外 = new Vector2(80, 115);&#xD;&#xA;    static Vector2 edge右下外 = new Vector2(120, 115.6f);&#xD;&#xA;    static Vector2 edge下内 = new Vector2(97, 105);&#xD;&#xA;&#xD;&#xA;    static (Vector2, Vector2) 上边缘交点(double myX, double myY) &#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, 0, 1, -80, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与上边缘交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 下边缘交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, 0, 1, -120, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与下边缘交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 左边缘交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, 1, 0, -80, p =&gt; p.Y)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与左边缘交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 右边缘交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, 1, 0, -120, p =&gt; p.Y)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与右边缘交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 左上熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge左上外, edge左上内, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与左上熔岩交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 右上熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge右上外, edge右上内, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与右上熔岩交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 上左熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge上左外, edge左上内, p =&gt; p.Y)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与上左熔岩交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 上右熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge上右外, edge右上内, p =&gt; p.Y)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与上右熔岩交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 左下熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge左下外, edge下内, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与左下熔岩交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 右下熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge右下外, edge下内, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与右下熔岩交点&quot;);&#xD;&#xA;&#xD;&#xA;    static double BestAngle(Vector2 src, Vector2 edge1, Vector2 edge2)&#xD;&#xA;    {&#xD;&#xA;        var θ1 = Math.Atan2(edge1.X - src.X, edge1.Y - src.Y);&#xD;&#xA;        var θ2 = Math.Atan2(edge2.X - src.X, edge2.Y - src.Y);&#xD;&#xA;        double δ = Normalize(θ2 - θ1);&#xD;&#xA;        double mid = θ1 + δ / 2;&#xD;&#xA;        return Normalize(mid);&#xD;&#xA;    }&#xD;&#xA;    static double Normalize(double angle)&#xD;&#xA;    {&#xD;&#xA;        angle = (angle + Math.PI) % (2 * Math.PI);&#xD;&#xA;        if (angle &lt;= 0) angle += 2 * Math.PI;&#xD;&#xA;        return angle - Math.PI;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    class IgnoredException : Exception { &#xD;&#xA;        public IgnoredException(string message) : base(message) { }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;}" ActionType="ExecuteScript">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ecallback:M6s_AutoFly}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="箭" Id="1ca0756c-4ba2-4cbd-bb24-2825c8c8a34f" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18338:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 9.6&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 3.5, 50, 2" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" LogMessageText="cd5:9.8" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${x}" ExpressionTypeL="String" ExpressionR="93" ExpressionTypeR="String" ConditionType="NumericLess" />
<ConditionSingle Enabled="true" ExpressionL="abs(${y} - 100)" ExpressionTypeL="String" ExpressionR="20" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="时间轴（后）画河流读条开始" Id="833c1e51-8f04-46f9-8dfc-07102d6d5260" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A663:">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:26.7:集合引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:37.2:躲开" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="beep:37.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:83.8:五连分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:96.3:去${?l: 下方, 下方, 左侧, 右侧, 下方, 下方, 左侧, 右侧 [${v:myIdx}]}平台" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:130.7:塔外引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:134.1:踩塔" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="cd5:138.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:156.4:塔外引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="tts:160.4:踩塔" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="cd5:164.7" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="tts:164.8:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="tts:170.8:分散站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="tts:183.1:准备死刑" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="时间轴（前）" Id="d1ec2a5d-b13b-42b3-a748-15047b8d53d1" RegularExpression="^.{15}\S+ 104:.:1:.:1">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:4.2:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:13.4:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:62.1:分散站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:72.8:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:141.4:分散站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:192.2:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:195.3:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:403.0:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:413.6:AoE" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="双分摊范围" Id="3a845939-d1a5-4377-94a3-29bb7acae3c9" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:A696:[^:]*:(?&lt;tid&gt;1.{7}):([^:]*:){38}(?&lt;idx&gt;[^:]*):(?&lt;cnt&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="单目标" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 6&#xD;&#xA;Pos: ${_entity[${tid}].XY}, 0&#xD;&#xA;Scale: 4 * 1.09&#xD;&#xA;Color: 1, 3, 0, 5" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${cnt}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: omen_share4_o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 6&#xD;&#xA;Pos: ${_entity[${tid}].XY}, -1&#xD;&#xA;ScaleCyl: 2, 4&#xD;&#xA;Color: 0.8, 1, 1, 1" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${cnt}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="多目标" DescriptionOverride="True" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 6&#xD;&#xA;Pos: ${_entity[${tid}].XY}, 0&#xD;&#xA;Scale: 4.4&#xD;&#xA;Color: 2, 0.5, 0.5, 1" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${cnt}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="其他画画" Id="14fbb23d-a8ec-474b-a5b1-6225bfbd1fe9" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;9A3D|A676|A6BD):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d:&#xD;&#xA;  9A3D = 画箭,&#xD;&#xA;  A676 = 画翅膀,&#xD;&#xA;  A6BD = 狂暴&#xD;&#xA;  [${aid}]&#xD;&#xA;}&#xD;&#xA;" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="c66d8a31-5177-4dd9-83a4-af96a03ca1da" Name="A. 双画" Enabled="true" RawEnvironmentVariables="phase = 双画">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 获取实体" Id="ececf847-e7a1-4d9d-9e99-4e593da6560f" RegularExpression="^.{15}\S+ AAA:10F:4.{7}:[^:]*:[^:]*:(?&lt;bnpcid&gt;1833[67]|1834[01])(?=.*:(99|100)):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="同侧安全：18337飞弹 18340魔界花 | 异侧安全：18336炸弹 18341梦魔" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M6s_双画_is南" VariableExpression="${y} &gt; 100 = (${bnpcid} = 18337 || ${bnpcid} = 18340)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(${x})" ExpressionTypeL="Numeric" ExpressionR="100" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M6s_双画_is东" VariableExpression="${x} &gt; 100 = (${bnpcid} = 18337 || ${bnpcid} = 18340)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(${y})" ExpressionTypeL="Numeric" ExpressionR="100" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description=" = 2" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetString" VariableName="M6s_双画_dirN4" VariableExpression="${?d: 00 = 0, 01 = 1, 10 = 3, 11 = 2 [${v:M6s_双画_is东}${v:M6s_双画_is南}]}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M6s_双画_is南}${ev:M6s_双画_is东}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" LogMessageText="M6s_双画:dirN4:${v:M6s_双画_dirN4}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M6s_双画_is南}${ev:M6s_双画_is东}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="8" VariableName="M6s_双画_is南" ActionType="Variable" />
<Action OrderNumber="9" VariableName="M6s_双画_is东" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O1. 播报" Id="d60407d9-c56d-457a-ae31-e5ff3df008b8" RegularExpression="^M6s_双画:dirN4:(?&lt;dirN4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="去${f:pick(${dirN4}): 右下, 右上, 左上, 左下}，飞到对侧" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dirN4}, -4)&#xD;&#xA;Waymarks: ABCD1234&#xD;&#xA;Start: 0, 34 + 1.25 - 20√2&#xD;&#xA;End: 0, -18.9√2" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;t: 13&#xD;&#xA;Tag: M5s_钢月_钢&#xD;&#xA;Pos: 100, 100 polar 20√2, ${n: dir2rad(${dirN4}, -4)}&#xD;&#xA;Scale: 34 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.2, 10" ActionType="NamedCallback" Description="圈" DescBgColor="ffd" DescriptionOverride="True" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="13000" />
<Action OrderNumber="5" UseTTSTextExpression="去${if: ${v:myIdx} % 2 = 1 ? 左侧 : 右侧}，双组分摊" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_双画_is双组}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" UseTTSTextExpression="去${?l: 左前, 右前, 前方, 后方, 左前, 右前, 前方, 后方 [${v:myIdx}]}，两人分摊" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_双画_is双组}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="AdvWm" NamedCallbackParam="load&#xD;&#xA;---&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dirN4}, 4)&#xD;&#xA;1: -8.1, -18.9&#xD;&#xA;2: -18.9, -8.1&#xD;&#xA;3: -12, -12&#xD;&#xA;4: -18, -18" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_双画_is双组}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" NamedCallbackName="AdvWm" NamedCallbackParam="load&#xD;&#xA;---&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dirN4}, 4)&#xD;&#xA;1: -8.5, -16&#xD;&#xA;2: -16, -8.5&#xD;&#xA;3: fakeclear&#xD;&#xA;4: fakeclear" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_双画_is双组}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="4200" />
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-01 18:05" Id="8cdc3324-3fb2-4b53-b300-41c45ebdbe05" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[17:20:47.674] _ActorSetPos AAA:10F:40000000:飞弹:13824:18337:92.0000:83.0000:0.0000:1.5707" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[17:20:47.674] _ActorSetPos AAA:10F:40000000:飞弹:13824:18337:92.0000:100.0000:0.0000:1.5707" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[17:20:47.674] _ActorSetPos AAA:10F:40000000:飞弹:13824:18337:92.0000:117.0000:0.0000:1.5707" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[17:20:47.674] _ActorSetPos AAA:10F:40000000:魔界花:13828:18340:100.0000:80.0000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[17:20:47.674] _ActorSetPos AAA:10F:40000000:魔界花:13828:18340:100.0000:120.0000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 记录分摊类型" Id="f350179e-e730-470e-9f80-ebae00375f21" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A68(?&lt;type&gt;B|D):">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M6s_双画" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="M6s_phase" VariableExpression="${env:phase}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M6s_双画_is双组" VariableExpression="${type} == B" ActionType="Variable" />
<Action OrderNumber="4" UseTTSTextExpression="储存${if: ${v:M6s_双画_is双组} ? 双组 : 两人 }分摊" ActionType="UseTTS" ExecutionDelayExpression="6000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="改变面向" Id="3be583d2-2c48-4452-a24e-2c50651bd7ca" RegularExpression="^.{15}\S+ 1A:1162:[^:]+:(?&lt;t&gt;21[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:(?&lt;stack&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" LogProcess="True" ActionType="Placeholder" ExecutionDelayExpression="(${t} - 0.1) * 1000" />
<Action OrderNumber="2" LogProcess="True" NamedCallbackName="M6s_AutoFly" NamedCallbackParam="${v:M6s_双画_dirN4}" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_AutoFly]} ?? 1" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="cbbd15ed-53c5-480a-b2fa-eac3097b2cba" Name="B. 沙漠" Enabled="true" RawEnvironmentVariables="phase = 沙漠">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化" Id="ac35e8a2-6e2d-4abb-b8e4-59af0fc3a076" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A668:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M6s_沙漠" ActionType="Variable" />
<Action OrderNumber="3" UseTTSTextExpression="沙漠阶段" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 炸弹/飞弹" Id="b268a6ce-7556-46c6-9001-25071e0192c6" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:.{9}:(?&lt;type&gt;013F|0140)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: 0x0${type} = 0x0140 ? 内圈放炸弹 : 外侧放飞弹 }" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${sid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. debuff 倒计时" Id="56e6afe8-c479-46f0-b5a5-97a7980f8e39" RegularExpression="^.{15}\S+ 1A:1166:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="挑衅" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringNotEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" LogMessageText="cd5:${t}" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" UseTTSTextExpression="分散" UseTTSExclusive="False" ActionType="UseTTS" ExecutionDelayExpression="(${t} - 6) * 1000">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="仙人掌范围" Id="ad670848-2ae3-4b8e-bd74-78055b8edbe9" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A6A1:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 7&#xD;&#xA;Pos: ${x}, ${y}&#xD;&#xA;Scale: 10 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.2, 5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].Address}, com_trg03_10f" ActionType="NamedCallback" ExecutionDelayExpression="3200" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 沙坑安全区" Id="d2018e95-bbb1-4e7a-a762-0669a8a89106" RegularExpression="^.{15}\S+ 101:[^:]*:0020.{4}:(?&lt;loc&gt;0[6A]|1[AE])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="相对：找到仙人掌的反向，如果是双奶则±1" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_dirN4" VariableExpression="(${?d: 06 = 2, 0A = 1, 1A = 3, 1E = 0 [${loc}]} + ${?l: 0, 0, -1, 1, 0, 0, 0, 0 [${v:myIdx}]}) %% 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_沙坑基准]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_沙坑基准]}" ExpressionTypeL="String" ExpressionR="日" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_dirN4" VariableExpression="(${?d: 06 = 2, 0A = 1, 1A = 3, 1E = 0 [${loc}]} + ${?l: 0, 0, 1, -1, 0, 0, 0, 0 [${v:myIdx}]}) %% 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_沙坑基准]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="绝对：如果自己的位置是仙人掌的位置，去左下 (1)；否则去自己的方向" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="tmp_dirN4" VariableExpression="${?l: 0A, 0A, 06, 1E, 0A, 0A, 0A, 0A [${v:myIdx}]} == ${loc} ? 1 : ${?l: 3, 3, 0, 2, 3, 3, 3, 3 [${v:myIdx}]}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_沙坑基准]}" ExpressionTypeL="String" ExpressionR="日" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True" />
<Action OrderNumber="7" UseTTSTextExpression="${f:pick(${v:tmp_dirN4}): 左上, 左下, 右下, 右上}" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="8" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;Waymarks: ABCD1234&#xD;&#xA;Start: 0, 0&#xD;&#xA;End: 0, -18.75√2&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:tmp_dirN4}, -4)" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="9" VariableName="tmp_dirN4" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="7000" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="仙人掌范围 沙坑阶段（边缘）" Id="ef5e7d56-6006-4e36-897f-29db870ba0fc" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):9A2C:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 7&#xD;&#xA;Pos: ${x}, ${y}&#xD;&#xA;Scale: 10 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.2, 5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].Address}, com_trg03_10f" ActionType="NamedCallback" />
<Action OrderNumber="3" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].Address}, com_trg03_10f" ActionType="NamedCallback" ExecutionDelayExpression="4000" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="distance(${x}, ${y}, 100, 100)" ExpressionTypeL="Numeric" ExpressionR="17" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="沙坑 爆弹范围" Id="31f72ad5-ee83-4912-a186-430e3abdd8c1" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A683:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="InvokeOnMultipleEntities" NamedCallbackParam="Type = 1&#xD;&#xA;LockOn, _address, lock_eur02f" ActionType="NamedCallback" ExecutionDelayExpression="4600" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="8342f3c8-17f7-4e85-8450-d7ba799781b1" Name="死刑" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="O1. 播报" Id="036ca6ce-eb33-45bc-a70e-3721f0be8e1b" RegularExpression="^M6s_死刑:远近:(?&lt;远近&gt;远|近|)$">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="非 T" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="死刑站位" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.IsT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="T 且有颜色 debuff" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="Channeling" NamedCallbackParam="${_entity[bnpcid = 18335].Address}, ${_me.Address}, ${if: ${远近} == 远 ? chn_closer_0v : chn_leave_0v }, 6.7" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.IsT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${远近}" ExpressionTypeL="String" ExpressionTypeR="String" ConditionType="StringNotEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="T" DescriptionOverride="True" />
<Action OrderNumber="6" UseTTSTextExpression="${if: ${远近} == 远 ? 远死刑 : &#xD;&#xA;  ${if: ${远近} == 近 ? 近死刑 : &#xD;&#xA;    ${if: 0x${_entity[bnpcid = 18335].TargetID} = 0x${_me.id} ? 近死刑 : 远死刑 } &#xD;&#xA;  } &#xD;&#xA;}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.IsT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="1700" />
<Action OrderNumber="8" NamedCallbackName="InvokeOnMultipleEntities" NamedCallbackParam="Role == Tank &amp;&amp; HP &gt; 0&#xD;&#xA;LockOn, _address, tank_lockonae_4m_5s_01t" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 记录 debuff" Id="ecf7cc0e-f6a1-4f05-b39c-638f3be8bbcd" RegularExpression="^.{15}\S+ 1A:116(?&lt;type&gt;3|4):[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：目标是 T、自己是 T" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M6s_死刑_is自身红" VariableExpression="${type} = 3" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M6s_死刑_is搭档红" VariableExpression="${type} = 3" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringNotEqualNocase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].isT} &amp;&amp; ${_me.isT}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 死刑 Color Riot" Id="bdd43f48-1ab3-4565-ab10-ba8102146abf" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A69(?&lt;type&gt;1|2):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="A692 近红远蓝" DescriptionOverride="True" />
<Action OrderNumber="2" VariableName="tmp_应吃红蓝" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="自身有：按照自身" DescriptionOverride="True" />
<Action OrderNumber="4" VariableOp="SetString" VariableName="tmp_应吃红蓝" VariableExpression="${if: ${v:M6s_死刑_is自身红} ? 蓝 : 红 }" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M6s_死刑_is自身红}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="自身没有、搭档有：按照相反" DescriptionOverride="True" />
<Action OrderNumber="6" VariableOp="SetString" VariableName="tmp_应吃红蓝" VariableExpression="${if: ${v:M6s_死刑_is搭档红} ? 红 : 蓝 }" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M6s_死刑_is自身红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${ev:M6s_死刑_is搭档红}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="颜色转换为远近" DescriptionOverride="True" />
<Action OrderNumber="8" VariableOp="SetString" VariableName="tmp_远近" VariableExpression="${if: (${v:tmp_应吃红蓝} == 红) = (${type} = 1) ? 远 : 近 }" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:tmp_应吃红蓝}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" LogMessageText="M6s_死刑:远近:${v:tmp_远近}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="10" VariableName="tmp_应吃红蓝" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" VariableName="tmp_远近" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="4d7edf63-cb51-42f5-9a33-d14829309c7b" Name="D. 河流" Enabled="true" RawEnvironmentVariables="phase = 河流">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="分散分摊" Id="68646e15-89c4-449b-a389-d5c78ae79a72" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A68[79]):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d:&#xD;&#xA;  A687 = 火分摊,&#xD;&#xA;  A689 = 雷分散,&#xD;&#xA;  [${aid}]&#xD;&#xA;}&#xD;&#xA;" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:9.8" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="4fa304b8-51eb-4466-8f2d-45a176c162dd" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A663:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M6s_沙漠" ActionType="Variable" />
<Action OrderNumber="3" UseTTSTextExpression="河流阶段" UseTTSExclusive="False" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="8a1df5c9-173e-4d5a-923d-b58634e462a2" Name="C. 小怪" Enabled="true" RawEnvironmentVariables="phase = add">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="Ready Ore Not" Id="613e9f8f-93b5-4bab-99ae-bbdf0ba5d611" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A6AA:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="画小怪" Id="85238437-88f5-4350-b410-a0b48d4faff3" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A6A[6789A]):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d:&#xD;&#xA;  A6A6 = 小怪1,&#xD;&#xA;  A6A7 = 小怪2,&#xD;&#xA;  A6A8 = 小怪3,&#xD;&#xA;  A6A9 = 小怪4,&#xD;&#xA;  A6AA = 画宝石,&#xD;&#xA;  [${aid}]&#xD;&#xA;}&#xD;&#xA;" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="dd960a91-4a25-45c1-a437-253f1f1778a8" Name="E. 雷暴" Enabled="true" RawEnvironmentVariables="phase = 雷暴">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化（画）" Id="0c10325f-1335-42d9-b2ec-c281cf2419ec" RegularExpression="^.{15}\S+ 101:[^:]*:0080....:04">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M6s_雷暴" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="点名" Id="78674714-fd80-413c-8736-fe15c211452e" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:025A">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="雷点名" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="2" LogMessageText="cd5:9" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${tid}].Address}, m0404trg_a0k" ActionType="NamedCallback" ExecutionDelayExpression="5000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 雷云读条" Id="675dab19-0a5a-4a2a-b5e8-a181c80fc8d9" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A69B:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6s_雷暴_云_id" VariableExpression="${sid}" ActionType="Variable" />
<Action OrderNumber="2" VariableName="M6s_雷暴_云移动_n" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 雷云移动" Id="0fc0697b-9bb2-4d99-9e40-0e314715fde2" RegularExpression="^.{15}\S+ 10E:(?&lt;id&gt;4.{7}):(?&lt;h&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="第一次的方向可能未完全变化，且位置也可能几乎没变，所以用第二次的数据" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="M6s_雷暴_云移动_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="_M6s_雷暴_云移动:h:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_雷暴_云移动_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="${v:M6s_雷暴_云_id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="4. 处理雷云移动" Id="4aee35a7-276b-4036-b325-f664ac3059ee" RegularExpression="^_M6s_雷暴_云移动:h:(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_dirN6" VariableExpression="roundir(${h}, 6)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M6s_雷暴_云_is顺" VariableExpression="${v:tmp_dirN6} % 2 = 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M6s_雷暴_云_pos" VariableExpression="${?d:&#xD;&#xA;  0 = 87:92,&#xD;&#xA;  1 = 100:115,&#xD;&#xA;  2 = 115:92&#xD;&#xA;  [${n: floor(${v:tmp_dirN6} / 2)}]&#xD;&#xA;}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="M6s_雷暴_云:is顺:${v:M6s_雷暴_云_is顺}:pos:${v:M6s_雷暴_云_pos}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="5" VariableName="tmp_dirN6" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="5. 播报" Id="f654faa1-f9fc-473b-8b80-e9947f72117e" RegularExpression="^M6s_雷暴_云:is顺:(?&lt;is顺&gt;0|1):pos:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 8.7&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Scale: 21 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.3, 5&#xD;&#xA;---&#xD;&#xA;Delay: 5&#xD;&#xA;Tag: M6s&#xD;&#xA;Omen: gl_circle_water01e1&#xD;&#xA;t: 3.7&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Scale: 21&#xD;&#xA;Color: 1, 1, 1, 0.5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${is顺} ? 左 : 右 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 雷云生成" Id="522d677c-698f-4fec-aa9b-4b2de301c749" RegularExpression="^.{15}\S+ 03:4.{7}:([^:]*:){7}18339:([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 7.1&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Scale: 21 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.3, 5&#xD;&#xA;---&#xD;&#xA;Delay: 4&#xD;&#xA;Tag: M6s&#xD;&#xA;Omen: gl_circle_water01e1&#xD;&#xA;t: 3.1&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Scale: 21&#xD;&#xA;Color: 1, 1, 1, 0.5" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="39d40c84-3f82-41a4-8237-c320cde95079" Name="F. 熔岩" Enabled="true" RawEnvironmentVariables="phase = 熔岩">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化（画）" Id="c2cbd4fe-e3fb-4d49-bab0-48aa53a76e6d" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A699:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M6s_熔岩" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 处理 =&gt; 3" Id="7ced347b-d265-4862-8e75-434e41f6ed8b" RegularExpression="^_M6s_熔岩_塔2:(?&lt;mode&gt;左上4|右上4|下4|下8)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M6s_熔岩_塔_dirN3初" VariableExpression="roundvec(${_me.x} - 100, ${_me.y} - 100, -3)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="转向：1顺 0不变 -1逆" DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M6s_熔岩_塔_转向" VariableExpression="1" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${mode}" ExpressionTypeL="String" ExpressionR="左上4" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="4" VariableOp="SetString" VariableName="M6s_熔岩_塔_转向" VariableExpression="-1" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${mode}" ExpressionTypeL="String" ExpressionR="右上4" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="5" VariableOp="SetString" VariableName="M6s_熔岩_塔_转向" VariableExpression="${?d: 0 = 1, 1 = 0, 2 = -1 [${v:M6s_熔岩_塔_dirN3初}]}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${mode}" ExpressionTypeL="String" ExpressionR="下4" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="6" VariableOp="SetString" VariableName="M6s_熔岩_塔_转向" VariableExpression="${?d: 0 = -1, 1 = 0, 2 = 1 [${v:M6s_熔岩_塔_dirN3初}]}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${mode}" ExpressionTypeL="String" ExpressionR="下8" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="7" VariableOp="SetNumeric" VariableName="M6s_熔岩_塔_dirN3末" VariableExpression="(${v:M6s_熔岩_塔_dirN3初} - ${v:M6s_熔岩_塔_转向}) %% 3" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="8" LogMessageText="M6s_熔岩_塔2:dirN3初:${v:M6s_熔岩_塔_dirN3初}:dirN3末:${v:M6s_熔岩_塔_dirN3末}:转向:${v:M6s_熔岩_塔_转向}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取塔 =&gt; 2" Id="92a52a4f-fb62-4c12-82b5-728fa6f1bf82" RegularExpression="^.{15}\S+ 101:.{8}:0002.{4}:(?&lt;pos&gt;2[9A-F]|3[0-9A-F]|4[0-4])">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M6s_熔岩_塔_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="&gt; 8:    左上/右上/下 分别 -1/0/1" DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="Increment" VariableName="M6s_熔岩_塔_sum" VariableExpression="0x${pos} &lt;= 0x32 ? -1 : 0x${pos} &lt;= 0x3c ? 0 : 1" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_熔岩_塔_n}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="= 16:" DescriptionOverride="True" />
<Action OrderNumber="5" LogMessageText="_M6s_熔岩_塔2:${?d: -2 = 左上4, 0 = 右上4, 2 = 下4, 8 = 下8 [${v:M6s_熔岩_塔_sum}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_熔岩_塔_n}" ExpressionTypeL="String" ExpressionR="16" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="3.2 危险区域" Id="ae111215-d6ed-43bd-9c23-8e40808e847d" RegularExpression="^M6s_熔岩_塔2:dirN3初:(?&lt;dirN3初&gt;[0-2]):dirN3末:(?&lt;dirN3末&gt;[0-2]):转向:(?&lt;转向&gt;0|1|-1)">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="tmp_points" VariableExpression="${?d:&#xD;&#xA;  &quot;01 = 91.7, 100.0; 100.0, 91.7; 100.0, 100.0&quot;,&#xD;&#xA;  &quot;02 = 89.2, 94.6; 92.1, 99.4; 94.3, 102.8; 103.4, 89.0; 100.2, 81.4&quot;,&#xD;&#xA;  &quot;10 = 89.7, 112.5; 77.4, 107.7; 105.8, 102.8; 95.9, 109.8&quot;,&#xD;&#xA;  &quot;11 = 113.6, 113.9; 120.0, 115.6; 120.0, 120.0; 114.2, 120.0&quot;,&#xD;&#xA;  &quot;12 = 95.3, 103.7; 100.9, 108.2; 106.6, 111.2; 115.7, 114.1; 106.5, 104.6&quot;,&#xD;&#xA;  &quot;20 = 111.7, 92.5; 109.4, 87.6; 104.3, 80.5; 103.7, 105.4; 109.4, 97.3&quot;,&#xD;&#xA;  &quot;21 = 104.1, 102.55; 102.7, 93.6; 112.4, 106.2&quot;&#xD;&#xA;  [${dirN3初}${dirN3末}]&#xD;&#xA;}" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Action: △&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 8&#xD;&#xA;Points: ${v:tmp_points}&#xD;&#xA;Color: ${if: ${转向} ? 1,1,1,2 : 0,2,8,1 }" ActionType="NamedCallback" />
<Action OrderNumber="3" VariableName="tmp_points" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3.1 播报" Id="eb3f8e51-6217-4c2e-a812-d517639a40a2" RegularExpression="^M6s_熔岩_塔2:dirN3初:(?&lt;dirN3初&gt;[0-2]):dirN3末:(?&lt;dirN3末&gt;[0-2]):转向:(?&lt;转向&gt;0|1|-1)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${转向} = 1 ? 顺时针 : 逆时针 }飞到${?d: 0 = 左上, 1 = 下方, 2 = 右上 [${dirN3末}]}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${转向}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" UseTTSTextExpression="水平飞到左侧" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${转向}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="改变面向" Id="211002aa-8d15-4ef0-8507-0b0e06eae5c0" RegularExpression="^.{15}\S+ 1A:1162:[^:]+:(?&lt;t&gt;10[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:(?&lt;stack&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" LogProcess="True" ActionType="Placeholder" ExecutionDelayExpression="(${t} - 0.1) * 1000" />
<Action OrderNumber="2" LogProcess="True" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${v:M6s_熔岩_塔_dirN3初}, ${v:M6s_熔岩_塔_转向}" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_AutoFly]} ?? 1" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-18 00:27" Id="efd47210-f2a7-49c1-a0a0-eae885947e50" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[21:38:29.318] StartsCasting 14:400338D7:Sugar Riot:A699:Layer:400338D7:Sugar Riot:0.700:102.17:107.01:0.00:-0.89" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="0.51 * 1000" />
<Action OrderNumber="3" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:29::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:2A::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:41::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:42::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:43::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:35::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:44::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:36::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="4.38 * 1000" />
<Action OrderNumber="12" LogMessageText="[21:38:34.207] StatusAdd 1A:1162:_rsv_4450_-1_1_0_0_S74CFC3B0_E74CFC3B0:10.00:E0000000::${_me.id}:${_me}:00:244766:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="2.05 * 1000" />
<Action OrderNumber="14" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:39::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:38::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:3B::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:3C::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:2E::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:31::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:42::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:43::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="注册小队：自身" Id="55aef236-b662-4b10-8a16-2eee338fc752" RegularExpression="^.{15}\S+ 01:(?&lt;zoneid&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="PartyList:Register:${env:zone}:Self" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${zoneid}" ExpressionTypeL="Numeric" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="ab686ce8-d557-4772-af63-5ee22e407eb7" Name="M5-8n" Enabled="true">
<Folders>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1262$" Id="d671dc43-af21-4a7d-ae7e-dbd6b1bb03a1" Name="M8" Enabled="true" RawEnvironmentVariables="zone = 1262">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="跳跃方向 未来观测" Id="48f53233-6fa8-4515-9ade-ea0c36952453" RegularExpression="^.{15}\S+ 107:4.{7}:(?&lt;type&gt;A973|A92F):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8n_跳跃_dir6" VariableExpression="roundvec(${x} - 100, ${y} - 100, 6)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${f:pick(${v:M8n_跳跃_dir6}):上北, 左上, 左下, 下南, 右下, 右上}" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(${v:M8n_跳跃_dir6}, 6)&#xD;&#xA;ScaleX: 6.25&#xD;&#xA;A: -1, -8.5&#xD;&#xA;B: -1, -6.0&#xD;&#xA;C: -1, -3.5&#xD;&#xA;D: -1, -1.0&#xD;&#xA;1:  1, -8.5&#xD;&#xA;2:  1, -6.0&#xD;&#xA;3:  1, -3.5&#xD;&#xA;4:  1, -1.0" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="0x${type} == A973 ? 7000 : 6500" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="2500" />
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="柱子范围 LockOn" Id="1a6d55ef-304a-4102-afa5-c79f8e6f7bf3" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A933):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].Address}, omen_laser_6_60_4sec_0t" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1260$" Id="9d136b22-7565-4be1-bd68-404084e03dd4" Name="M7" Enabled="true" RawEnvironmentVariables="zone = 1260">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="P3 Lariat" Id="0a6d3d31-8c1d-44c6-a6f7-58e44015f571" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A55(?&lt;type&gt;1|3):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${type} = 1 ? 右右右 : 左左左 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="钢铁月环" Id="0dadfdd6-be20-449d-b827-01c8d54a40c5" RegularExpression="^.{15}\S+ 1A:808:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:(?&lt;type&gt;38[89AB]):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: 0x${type} &lt;= 0x389 ? 钢铁 : 月环 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="孢子安全区" Id="29e903aa-014c-43be-9198-d805dc336107" RegularExpression="^.{15}\S+ 101:[^:]*:0002.{4}:(?&lt;loc&gt;08|0C|10|14|18|1C|20|24)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="0x${loc} &amp; 0x8 : 内圈左上右下 / 外圈左下右上" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_内1&#xD;&#xA;t: 10&#xD;&#xA;Pos: -5.5, -2.5&#xD;&#xA;Scale: 3, 6&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_内2&#xD;&#xA;t: 10&#xD;&#xA;Pos: 5.5, 8.5&#xD;&#xA;Scale: 3, 6&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_外1&#xD;&#xA;t: 10&#xD;&#xA;Pos: -16.75, 20&#xD;&#xA;Scale: 3.25, 6.5&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_外2&#xD;&#xA;t: 10&#xD;&#xA;Pos: 16.75, -13.5&#xD;&#xA;Scale: 3.25, 6.5&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M7s_孢子安全区&#xD;&#xA;Color: 0.1, 1.5, 20, 1&#xD;&#xA;+X: 0x${loc} &amp; 0x8&#xD;&#xA;O: ${if: 0x${loc} &gt;= 0x18 ? 100, 5, -200 : 100, 100, 0 }" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1258$" Id="248a7fa0-9a8b-4dbe-927a-bb3e2dacd700" Name="M6" Enabled="true" RawEnvironmentVariables="zone = 1258">
<Folders>
<Folder Id="96ef1165-5090-45fb-985e-903ef8540d81" Name="雷暴 测试" Enabled="true" RawEnvironmentVariables="phase = 雷暴">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化（画）" Id="c4d2dabf-01eb-454c-a281-90664ee1e646" RegularExpression="^.{15}\S+ 101:[^:]*:0080....:04">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6n_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M6n_雷暴" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 雷云读条" Id="c7b96968-d68c-4f9f-be48-9edf7202b690" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A667:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6n_雷暴_云_id" VariableExpression="${sid}" ActionType="Variable" />
<Action OrderNumber="2" VariableName="M6n_雷暴_云移动_n" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 雷云移动" Id="a811300e-2eb2-435e-924d-578718004089" RegularExpression="^.{15}\S+ 10E:(?&lt;id&gt;4.{7}):(?&lt;h&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="第一次的方向可能未完全变化，且位置也可能几乎没变，所以用第二次的数据" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="M6n_雷暴_云移动_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="_M6n_雷暴_云移动:h:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6n_雷暴_云移动_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="${v:M6n_雷暴_云_id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="4. 处理雷云移动" Id="ca0a2312-fa92-47c0-923f-6a52e1b984d5" RegularExpression="^_M6n_雷暴_云移动:h:(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_dirN6" VariableExpression="roundir(${h}, 6)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M6n_雷暴_云_is顺" VariableExpression="${v:tmp_dirN6} % 2 = 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M6n_雷暴_云_pos" VariableExpression="${?d:&#xD;&#xA;  0 = 87:92,&#xD;&#xA;  1 = 100:115,&#xD;&#xA;  2 = 115:92&#xD;&#xA;  [${n: floor(${v:tmp_dirN6} / 2)}]&#xD;&#xA;}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="M6n_雷暴_云:is顺:${v:M6n_雷暴_云_is顺}:pos:${v:M6n_雷暴_云_pos}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="5" VariableName="tmp_dirN6" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="播报" Id="00b0123b-5929-4e9b-a57c-b18a00982ebf" RegularExpression="^M6n_雷暴_云:is顺:(?&lt;is顺&gt;0|1):pos:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="gl_circle_water01e1, 8.7,   ${x}, ${y}, 0, 0,   21, 21, 21,   1, 1, 1, 0.5" ActionType="NamedCallback" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${is顺} ? 左 : 右 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 雷云生成" Id="e410e0b5-5673-4777-836b-d8c93a3200a6" RegularExpression="^.{15}\S+ 03:4.{7}:([^:]*:){7}18334:([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="gl_circle_water01e1, 7.1,   ${x}, ${y}, 0, 0,   21, 21, 21,   1, 1, 1, 0.5" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="仙人掌范围" Id="9cbbcfbc-ffda-4d36-a321-f1b0d94a1a79" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A66B:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 7&#xD;&#xA;Pos: ${x}, ${y}&#xD;&#xA;Scale: 10 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.2, 5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].Address}, com_trg03_10f" ActionType="NamedCallback" ExecutionDelayExpression="3200" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1256$" Id="e48745d6-3987-4edd-a9de-571ca469490a" Name="M5" Enabled="true" RawEnvironmentVariables="zone = 1256">
<Folders>
<Folder Id="9f7c2a09-8e4c-4eea-8eb5-e2e0402b6ce8" Name="B. 跳舞小人" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 收集小人" Id="5a3ccf6a-3721-49c4-ba87-826030dfc7a1" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:A70(?&lt;cid&gt;[C|D]):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="BOSS半场刀必定从左到右 D=左刀|C=左刀" DescriptionOverride="True" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableName="M5n1_跳舞小人" ListVariableExpression="${if:${cid}==D?L:R}" ActionType="ListVariable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="X. 重置数据" Id="b0ffcc92-b91d-4758-a635-996ed411b477" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:9A30">
<Actions>
<Action OrderNumber="1" ListVariableOp="UnsetRegex" VariableOp="UnsetRegexUniversal" VariableName="^M5n1_跳舞小人" ActionType="Variable" />
<Action OrderNumber="2" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 播报=&gt;判定" Id="4cba7704-2402-4481-9e97-82afa6255175" RegularExpression="^.{15}\S+ 15:[^:]+:[^:]+:93C[B|C]">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M5n1_跳舞小人计数" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if:${l:M5n1_跳舞小人[${v:M5n1_跳舞小人计数}]}==${l:M5n1_跳舞小人[${n:${v:M5n1_跳舞小人计数}-1}]}?不动:穿}" ActionType="UseTTS" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M5n1_跳舞小人计数}" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="Numeric" ConditionType="NumericLessEqual" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="A:0,-10,0&#xD;&#xA;1:0,-6,0&#xD;&#xA;2:0,-2,0&#xD;&#xA;3:0,2,0&#xD;&#xA;4:0,6,0&#xD;&#xA;C:0,10,0&#xD;&#xA;center:${if:${l:M5n1_跳舞小人[${v:M5n1_跳舞小人计数}]}==L?101.1:98.9},90,0&#xD;&#xA;" ActionType="NamedCallback" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M5n1_跳舞小人计数}" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="Numeric" ConditionType="NumericLessEqual" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 播报=&gt;读条第一次安全区预兆" Id="a0552130-6a31-4a59-9330-d91f605f186f" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:A714">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5n1_跳舞小人计数" VariableExpression="1" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="A:0,-10,0&#xD;&#xA;1:0,-6,0&#xD;&#xA;2:0,-2,0&#xD;&#xA;3:0,2,0&#xD;&#xA;4:0,6,0&#xD;&#xA;C:0,10,0&#xD;&#xA;center:${if:${l:M5n1_跳舞小人[1]}==L?101.1:98.9},90,0&#xD;&#xA;" ActionType="NamedCallback" />
<Action OrderNumber="3" UseTTSTextExpression="去${if:${l:M5n1_跳舞小人[1]}==L?右:左}边" ActionType="UseTTS" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;load" ActionType="NamedCallback" ExecutionDelayExpression="30000" DescBgColor="dff" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="f2869cf9-a82d-4dd4-a65a-65978efeb5b6" Name="C. 青蛙滑步" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. MapEffect（触发最终动画）" Id="e8fb1be9-f00f-476d-9758-0be936a44152" RegularExpression="^.{15}\S+ 101:[^:]*:(?&lt;type&gt;0002|0020).{4}:(?&lt;loc&gt;1[DEF]|2[01234])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="每个位置有 0002 0020 两种动画（对应下面的两组危险行列），每次上下各生成一个，对称" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="1d: 123 / 456 列    1f: 456 / 123 列    21: 345 / 123 行    23: 123 / 456 行" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Description="1e: 345 / 678 列    20: 678 / 345 列    22: 678 / 345 行    24: 345 / 678 行" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="MapEffect" NamedCallbackParam="${n: 0x${loc}}, 1, ${n: 0x${type} / 2}" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. MapEffect（播报）" Id="94d7550f-336b-4928-af81-e4286108bb1b" RegularExpression="^.{15}\S+ 101:[^:]*:(?&lt;type&gt;0002|0020).{4}:(?&lt;loc&gt;1[DF]|2[13])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="每个位置有 0002 0020 两种动画（对应下面的两组危险行列），每次上下各生成一个，对称" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="1d: 123 / 456 列    1f: 456 / 123 列    21: 345 / 123 行    23: 123 / 456 行" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Description="1e: 345 / 678 列    20: 678 / 345 列    22: 678 / 345 行    24: 345 / 678 行" DescriptionOverride="True" />
<Action OrderNumber="4" UseTTSTextExpression="${?d:&#xD;&#xA;  0002 1D = 中间列,&#xD;&#xA;  0020 1D = 去左右,&#xD;&#xA;  0002 1F = 去左右,&#xD;&#xA;  0020 1F = 中间列,&#xD;&#xA;  0002 21 = 去上下,&#xD;&#xA;  0020 21 = 中间杭,&#xD;&#xA;  0002 23 = 中间杭,&#xD;&#xA;  0020 23 = 去上下&#xD;&#xA;  [${type} ${loc}]&#xD;&#xA;}" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="a314c216-7f70-4367-b3f2-adb67d0b45fa" Name="A. 节奏半场刀" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 四次" Id="20fa15d8-833e-48a8-a375-58b7a8477ec7" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A9(?&lt;type&gt;D[9ACEF]|E1):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d: D9 = 左, DA = 右, DC = 左, DE = 左, DF = 右, E1 = 右 [${type}] }" ActionType="UseTTS" />
<Action OrderNumber="2" ExecutionDelayExpression="7000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 两次" Id="8e8eeab5-12ad-4629-ad72-951113aafd4f" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A6(?&lt;type&gt;C[B-F]|D0):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: 0x${type} &lt;= 0xCD ? 左 : 右 }" ActionType="UseTTS" />
<Action OrderNumber="2" ExecutionDelayExpression="7000" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="false" Name="销毁残留变量" Id="25758af6-4c22-4cb3-a69e-000702914dc7" RegularExpression="^.{15}\S+ 01:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M5n" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="跳舞倒计时" Id="b450dfb5-45b2-4d56-981a-7d174dc5dd3d" RegularExpression="^.{15}\S+ 1A:116C:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:${t}" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="false" Source="None" Name="【使用说明】 必读 点开看" Id="f95459b3-bfcd-490f-af3a-9e5fa1113bf6" RegularExpression="">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="·前置&#xD;&#xA;" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="　触发器（1.2.0.746+，会自动更新） 鲶鱼精邮差（会自动更新）  远程触发器中的运行支持库（触发器自带）  不需要cactbotself" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Description="　如果你有 cactbot，使用前去 OverlayPlugin 悬浮窗插件选项卡中关掉零式的 TTS" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" />
<Action OrderNumber="4" ActionType="Placeholder" Description="·用户配置" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="5" ActionType="Placeholder" Description="　你只需要按说明操作即可完成配置（选择不同打法），不需要手动开关任何触发器。" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" />
<Action OrderNumber="6" ActionType="Placeholder" Description="　如需手动开启，游戏内输入指令（大小写不敏感）：" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="7" ActionType="Placeholder" Description="　  M5-8s 副本内：/e cfg" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="8" ActionType="Placeholder" Description="　  M5-8s 副本外：/e cfg m5-8 或 /e cfg s7b" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="9" LogMessageText="${env:prefix}_cfg" LogProcess="True" ActionType="LogMessage" Description="　  或右键此行 - 测试动作" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="10" LaunchProcessPathExpression="https://space.bilibili.com/83429972/lists/2967544" ActionType="LaunchProcess" Description="　使用视频或图文说明见 b 站视频合集（右键此行-测试动作 打开）或专栏（个人主页），没有的话可能还没发" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" />
<Action OrderNumber="11" ActionType="Placeholder" Description="　如需关闭标点：在鲶鱼精邮差插件选项卡中取消勾选 WayMark 选项框。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="12" ActionType="Placeholder" Description="　如需关闭某类视觉特效：在远程触发器 - 运行支持库 - 鲶鱼精邮差扩展 中查看并更改用户配置。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="13" ActionType="Placeholder" Description="　进本需要输入职能，按照进本后的提示输入即可。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="14" LaunchProcessPathExpression="https://space.bilibili.com/83429972/lists/2967544" ActionType="LaunchProcess" Description="　有问题的话首先使用远程触发器 - 自检工具箱，完整执行一遍自检。" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" />
<Action OrderNumber="15" ActionType="Placeholder" Description="·关于" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="16" ActionType="Placeholder" Description="　　by 阿洛 MnFeN" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="17" LaunchProcessPathExpression="https://space.bilibili.com/83429972" ActionType="LaunchProcess" Description="　　你可以关注这个 b 站账号，不定期更新视频介绍（右键这一行 - 测试动作）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
</Actions>
</Trigger>
</Triggers>
</ExportedFolder>
</TriggernometryExport>
