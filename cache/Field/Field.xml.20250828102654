<?xml version="1.0"?>
<TriggernometryExport PluginVersion="1.2.0.752">
<ExportedFolder Id="ed2f9a8b-0d39-47f7-be0c-5e7b2beeda92" Name="新月岛" Enabled="true" RawEnvironmentVariables="辅助骑士 = 4358&#xD;&#xA;辅助武僧 = 4360&#xD;&#xA;辅助盗贼 = 4369&#xD;&#xA;辅助武士 = 4362&#xD;&#xA;辅助狂战士 = 4359&#xD;&#xA;辅助猎人 = 4361&#xD;&#xA;辅助时魔法师 = 4365&#xD;&#xA;辅助药剂师 = 4367&#xD;&#xA;辅助风水师 = 4364&#xD;&#xA;辅助吟游诗人 = 4363&#xD;&#xA;辅助预言师 = 4368&#xD;&#xA;辅助炮击士 = 4366&#xD;&#xA;辅助自由人 = 4342">
<Folders>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1252$" Id="b8bf195b-d682-407d-9a3e-46141ed3aae8" Name="雷达" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1a. 接收宝箱" Id="54e68dd4-f425-4ac7-89a6-57bc23f9c3ec" RegularExpression="^.{15}\S+ 105:Add:(?&lt;id&gt;4.{7}):.*BNpcID:(?&lt;bnpcid&gt;6F[DEF]|7[0123].|740):.+:Type:4(?=:|$)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="BNpcID：银 1789-1796, 铜 1797-1856" DescriptionOverride="True" />
<Action OrderNumber="2" LogMessageText="_新月_雷达:id:${id}:bnpcid:${n: 0x${bnpcid}}" LogProcess="True" LogLevel="Custom2" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4b. 清除萝卜" Id="6e8757c5-2310-4884-8635-108047a594e2" RegularExpression="^.{15}\S+ 15:(?&lt;sid&gt;1.{7}):[^:]*:200BBE0:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="B: clear" VariableOp="SetString" ActionType="NamedCallback" />
<Action OrderNumber="2" DictVariableName="新月_萝卜" ActionType="DictVariable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="d(${_me.xy}, ${d:新月_萝卜[XY]})" ExpressionTypeL="Numeric" ExpressionR="30" ExpressionTypeR="String" ConditionType="NumericLess" />
<ConditionSingle Enabled="true" ExpressionL="${sid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1b. 接收萝卜" Id="b1310d9d-3d53-4381-a1c6-66016a58823c" RegularExpression="^.{15}\S+ 105:Add:(?&lt;id&gt;4.{7}):.*BNpcID:(?&lt;bnpcid&gt;1EAC1B):">
<Actions>
<Action OrderNumber="1" LogMessageText="_新月_雷达:id:${id}:bnpcid:${n: 0x${bnpcid}}" LogProcess="True" LogLevel="Custom2" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 预处理实体" Id="7fa37faf-f2be-43b1-a382-d662e56a9fdd" RegularExpression="^_新月_雷达:id:(?&lt;id&gt;[^:]+):bnpcid:(?&lt;bnpcid&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="BNpcID：银 1789-1796, 铜 1797-1856，金（萝卜）2010139" DescriptionOverride="True" />
<Action OrderNumber="2" DictVariableOp="GetEntity" DictVariableName="tmp_entity" DictVariableKey="X, Y, Z, ModelStatus" DictVariableValue="${id}" ActionType="DictVariable" Asynchronous="False" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="计算实体位置相对于自身的方位描述（绝对/相对）" DescriptionOverride="True" />
<Action OrderNumber="4" VariableOp="SetString" VariableName="tmp_type" VariableExpression="${if: ${bnpcid} &lt;= 1796 ? ${if: ${bnpcid} &gt;= 1789 ? 银 : 塔 } : ${if: ${bnpcid} &gt; 2000000 ? 金 : 铜 } }" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="tmp_distance" VariableExpression="round(distance(${_me.XY}, ${d:tmp_entity[X]}, ${d:tmp_entity[Y]}) / 10) * 10" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" VariableOp="SetNumeric" VariableName="tmp_dir8" VariableExpression="roundir(θ(${_me.xy}, ${d:tmp_entity[X]}, ${d:tmp_entity[Y]}), 8)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="7" VariableOp="SetString" VariableName="tmp_dir8Desc" VariableExpression="${f:pick(${v:tmp_dir8}): 正北, 西北, 正西, 西南, 正南, 东南, 正东, 东北 }" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="8" VariableOp="SetNumeric" VariableName="tmp_relDir8" VariableExpression="roundir(θ(${_me.xy}, ${d:tmp_entity[X]}, ${d:tmp_entity[Y]}) - ${_me.Heading} - π, 8)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="9" VariableOp="SetString" VariableName="tmp_relDir8Desc" VariableExpression="${f:pick(${v:tmp_relDir8}): 前方, 左前, 左侧, 左后, 后方, 右后, 右侧, 右前 }" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="10" LogMessageText="新月_雷达:${id}:${v:tmp_type}:${bnpcid}:${d:tmp_entity[X]}:${d:tmp_entity[Y]}:${d:tmp_entity[Z]}:${d:tmp_entity[ModelStatus]}:distance:${v:tmp_distance}:dir8:${v:tmp_dir8}:${v:tmp_dir8Desc}:relDir8:${v:tmp_relDir8}:${v:tmp_relDir8Desc}" LogProcess="True" LogLevel="Custom2" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="11" DictVariableName="tmp_entity" ActionType="DictVariable" Asynchronous="False" />
<Action OrderNumber="12" VariableName="tmp_type" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="13" VariableName="tmp_dir8" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="14" VariableName="tmp_dir8Desc" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="15" VariableName="tmp_relDir8" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="16" VariableName="tmp_relDir8Desc" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3a. 处理宝箱" Id="3965e388-bdc8-4696-9f6b-9247613b1107" RegularExpression="^新月_雷达:(?&lt;id&gt;[^:]+):(?&lt;type&gt;[铜银]):(?&lt;bnpcid&gt;[^:]*):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;modelstatus&gt;[^:]+):distance:(?&lt;distance&gt;[^:]+):dir8:(?&lt;dir8&gt;[^:]+):(?&lt;dir8Desc&gt;[^:]+):relDir8:(?&lt;relDir8&gt;[^:]+):(?&lt;relDir8Desc&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" LogLevel="Custom2" TableVariableOp="InsertLine" TableVariableName="新月宝箱" TableVariableExpression=",宝箱, ${bnpcid}, ${x}, ${y}, ${z}, ${modelstatus}" TableVariableY="1" TableSourcePersist="True" ActionType="TableVariable" DescBgColor="fdd" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="// 圆周预兆&#xD;&#xA;Omen: n4b5_tr_g05o0g&#xD;&#xA;delay: ${t1}&#xD;&#xA;t: ${t2} - ${t1}&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Scale: 22&#xD;&#xA;Color: ${if: ${b冰} ? &quot;1,1,1,1&quot; : &quot;4,0.5,0.2,1&quot; }&#xD;&#xA;---&#xD;&#xA;// 圆形&#xD;&#xA;Omen: k5d1_omen_o01pg&#xD;&#xA;delay: ${t2}&#xD;&#xA;t: ${t3} - ${t2}&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Scale: 22 * 1.09&#xD;&#xA;Color: ${if: ${b冰} ? &quot;1,1,1,1&quot; : &quot;4,0.5,0.2,1&quot; }" TableVariableOp="SortLine" TableVariableName="新月宝箱" TableVariableY="n+:${_row[2]}, s+:${_row[1]}" TableSourcePersist="True" Enabled="False" ActionType="TableVariable" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="仅在表格不包含此宝箱时触发; 仅维护四个记录" DescriptionOverride="True" />
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="6 列：bnpcid, x, y, z, 标点(1-4),到自身距离（移除宝箱时使用此列计算）" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetString" TableVariableOp="SetLine" TableVariableName="新月_宝箱" TableVariableExpression=",${bnpcid},${x},${y},${z},0,0" TableVariableY="${t:新月_宝箱.height} + 1" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="6" VariableOp="SetString" TableVariableOp="RemoveLine" TableVariableName="新月_宝箱" TableVariableY="1" ActionType="TableVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${t:新月_宝箱.height}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="为新的宝箱分配标点：选取当前没有分配的最小标点（1-4）" DescriptionOverride="True" />
<Action OrderNumber="8" VariableOp="SetString" TableVariableOp="Set" TableVariableExpressionType="Numeric" TableVariableName="新月_宝箱" TableVariableExpression="!${t:新月_宝箱.contain(1, 5)} ? 1 : !${t:新月_宝箱.contain(2, 5)} ? 2 : !${t:新月_宝箱.contain(3, 5)} ? 3 : 4" TableVariableX="5" TableVariableY="-1" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="生成标点参数" DescriptionOverride="True" />
<Action OrderNumber="10" ListVariableOp="SetAll" ListVariableName="tmp_AdvWm" ListVariableExpression="${t:新月_宝箱[5][${_idx}]}: ${t:新月_宝箱[2][${_idx}]}, ${t:新月_宝箱[3][${_idx}]}, ${t:新月_宝箱[4][${_idx}]}" ListVariableIndex="${t:新月_宝箱.height}" VariableOp="SetString" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="11" NamedCallbackName="AdvWm" NamedCallbackParam="${l:tmp_AdvWm.join(&quot;⏎&quot;)}" VariableOp="SetString" ActionType="NamedCallback" Asynchronous="False" />
<Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="播报" DescriptionOverride="True" />
<Action OrderNumber="13" UseTTSTextExpression="${relDir8Desc} ${n: round(d(${x}, ${y}, ${_me.xy}) / 10) * 10} 米${type}宝箱" UseTTSExclusive="False" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="14" NamedCallbackName="command" NamedCallbackParam="/e ${if: ${type} == 铜 ? &lt;se.14&gt; : &lt;se.15&gt; }&#xD;&#xA;[${type}宝箱] ${relDir8Desc}（${dir8Desc}）${distance} m &#xD;&#xA;@ ${f:format(System.Double,&quot;0.0&quot;):${x}}, ${f:format(System.Double,&quot;0.0&quot;):${y}}, ${f:format(System.Double,&quot;0.0&quot;):${z}}" ActionType="NamedCallback" Asynchronous="False" />
<Action OrderNumber="15" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True" />
<Action OrderNumber="16" ListVariableName="tmp_AdvWm" VariableOp="SetString" ActionType="ListVariable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${t:新月_宝箱.contain(${bnpcid}, 1)}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3b. 处理萝卜" Id="d63d3d16-4208-4156-ae02-da2bea350f86" RegularExpression="^新月_雷达:(?&lt;id&gt;[^:]+):(?&lt;type&gt;金):(?&lt;bnpcid&gt;[^:]*):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;modelstatus&gt;[^:]+):distance:(?&lt;distance&gt;[^:]+):dir8:(?&lt;dir8&gt;[^:]+):(?&lt;dir8Desc&gt;[^:]+):relDir8:(?&lt;relDir8&gt;[^:]+):(?&lt;relDir8Desc&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：与记录的 id 不符" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="${relDir8Desc} ${n: round(d(${x}, ${y}, ${_me.xy}) / 10) * 10} 米胡萝卜" UseTTSExclusive="False" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="3" NamedCallbackName="command" NamedCallbackParam="/e &lt;se.16&gt;&#xD;&#xA;[胡萝卜] ${relDir8Desc}（${dir8Desc}）${distance} m &#xD;&#xA;@ ${f:format(System.Double,&quot;0.0&quot;):${x}}, ${f:format(System.Double,&quot;0.0&quot;):${y}}, ${f:format(System.Double,&quot;0.0&quot;):${z}}" ActionType="NamedCallback" Asynchronous="False" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="B: ${x}, ${y}, ${z}" ActionType="NamedCallback" Asynchronous="False" />
<Action OrderNumber="5" DictVariableOp="Set" DictVariableName="新月_萝卜" DictVariableKey="ID" DictVariableValue="${id}" ActionType="DictVariable" Asynchronous="False" />
<Action OrderNumber="6" DictVariableOp="Set" DictVariableName="新月_萝卜" DictVariableKey="XY" DictVariableValue="${x}, ${y}" ActionType="DictVariable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="${d:新月_萝卜[ID]}" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="4a. 清除宝箱" Id="f647a0e2-ae08-42f6-8075-8f749e893532" RegularExpression="^.{15}\S+ 00:083E::(?&lt;name&gt;.{1,6})获得了“" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="限制触发频率；将第六列临时设置为到自身距离并排序，如果此时周围 30 米内有宝箱，则认为是开了此宝箱，移除标点及记录" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="command" NamedCallbackParam="/e [Debug] 获得" Enabled="False" ActionType="NamedCallback" Asynchronous="False" DescBgColor="fdd" />
<Action OrderNumber="3" VariableOp="SetString" TableVariableOp="SlicesSetAll" TableVariableExpressionType="Numeric" TableVariableName="新月_宝箱" TableVariableExpression="distance(${_row[2]}, ${_row[3]}, ${_me.xy})" TableVariableX="6" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetString" TableVariableOp="SortLine" TableVariableName="新月_宝箱" TableVariableY="n+: ${_row[6]}" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="${t:新月_宝箱[5][1]}: clear" VariableOp="SetString" ActionType="NamedCallback" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${t:新月_宝箱[6][1]}" ExpressionTypeL="String" ExpressionR="30" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Action>
<Action OrderNumber="6" VariableOp="SetString" TableVariableOp="RemoveLine" TableVariableName="新月_宝箱" TableVariableY="1" ActionType="TableVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${t:新月_宝箱[6][1]}" ExpressionTypeL="String" ExpressionR="30" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1252$" Id="4ed281f7-21db-4f52-ba0e-6bfc6e50bf4f" Name="CE（大地图）" Enabled="true" RawEnvironmentVariables="IsInZone = chebyshevdistance(${_me.XY}, ${env:X0}, ${env:Y0}) &lt; ${env:R}${env:L} + 20">
<Folders>
<Folder Id="8f39501f-c90b-4f53-a592-24c56750a38b" Name="09. 传说中的鲨鱼——尼姆瓣齿鲨 ✓" Enabled="true" RawEnvironmentVariables="X0 = -117&#xD;&#xA;Y0 = -850&#xD;&#xA;&#xA;Z0 = 1&#xD;&#xA;R = 20">
<Folders>
<Folder Id="409301bb-9771-4ce9-a831-8f9a5aad8506" Name="钢铁" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 红标移动" Id="f48f6722-c550-47c3-9d97-08b5ce1d0701" RegularExpression="^.{15}\S+ 108:4.{7}:A2D2:[^:]*:[^:]*:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_鲨_钢铁移动_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月_鲨_钢铁移动_${v:新月_鲨_钢铁移动_n}&#xD;&#xA;t: 20&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Scale: 20&#xD;&#xA;Color: ${?l: &quot;0.8, 1.1, 1, 1&quot;, &quot;0.6, 1.2, 1, 1&quot; [${v:新月_鲨_钢铁移动_n}]}" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 初始红标" Id="ef381c4e-406e-45d8-8cdc-bf31db14ada1" RegularExpression="^.{15}\S+ 105:Add.*?:BNpcID:4706.*?:Heading:(?&lt;h&gt;[^:]+).*?:PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):PosZ:(?&lt;z&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="500">
<Actions>
<Action OrderNumber="1" VariableName="新月_鲨_钢铁移动_n" ActionType="Variable" />
<Action OrderNumber="2" VariableName="新月_鲨_钢铁判定_n" ActionType="Variable" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 7.4&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Scale: 20&#xD;&#xA;Color: 1, 1, 1, 1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 判定" Id="87501d1d-ad47-4adc-8f80-ee8ef31fff41" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A2FA:">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_鲨_钢铁判定_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Delay: 0.7&#xD;&#xA;Tag: 新月_鲨_钢铁移动_${v:新月_鲨_钢铁判定_n}" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-16 04:38" Id="2ceadeae-ebc3-47b1-8741-d44b2c2a0718">
<Actions>
<Action OrderNumber="1" LogMessageText="[03:58:44.264] 261 105:Add:4000D294:BNpcID:4706:BNpcNameID:6C:CastTargetID:E0000000:CurrentMP:10000:CurrentWorldID:65535:Heading:0.0000:Level:100:MaxHP:10356500:MaxMP:10000:ModelStatus:2048:NPCTargetID:E0000000:PosX:-102.0000:PosY:-850.0000:PosZ:1.0000:Radius:1.0000:Type:2:WorldID:65535" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="1.60 * 1000" />
<Action OrderNumber="3" LogMessageText="[03:58:45.866] 264 108:4000D294:A2D2:0010FE7B:1:-128.178:-861.019:1.007:-1.969:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="1.51 * 1000" />
<Action OrderNumber="5" LogMessageText="[03:58:47.374] 264 108:4000D294:A2D2:0010FEB2:1:-99.338:-832.331:0.000:0.788:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="6.03 * 1000" />
<Action OrderNumber="7" LogMessageText="[03:58:53.402] StartsCasting 14:4000D26D:尼姆瓣齿鲨:A2FA:怒潮断头台:E0000000::0.900:-116.46:-849.92:1.00:-2.99" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="2.71 * 1000" />
<Action OrderNumber="9" LogMessageText="[03:58:56.116] StartsCasting 14:4000D26D:尼姆瓣齿鲨:A2FA:怒潮断头台:E0000000::0.900:-116.46:-849.92:1.00:-2.99" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="4.98 * 1000" />
<Action OrderNumber="11" LogMessageText="[03:59:01.098] 261 105:Add:4000D29E:BNpcID:4706:BNpcNameID:6C:CastTargetID:E0000000:CurrentMP:10000:CurrentWorldID:65535:Heading:0.0000:Level:100:MaxHP:10356500:MaxMP:10000:ModelStatus:2048:NPCTargetID:E0000000:PosX:-102.0000:PosY:-850.0000:PosZ:1.0000:Radius:1.0000:Type:2:WorldID:65535" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="1.88 * 1000" />
<Action OrderNumber="13" LogMessageText="[03:59:02.975] 264 108:4000D29E:A2D2:0011011C:1:-128.178:-861.019:1.007:-1.969:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="1.51 * 1000" />
<Action OrderNumber="15" LogMessageText="[03:59:04.489] 264 108:4000D29E:A2D2:0011015A:1:-134.678:-832.331:0.000:-0.223:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="6.03 * 1000" />
<Action OrderNumber="17" LogMessageText="[03:59:10.511] StartsCasting 14:4000D26D:尼姆瓣齿鲨:A2FA:怒潮断头台:E0000000::0.900:-116.46:-849.92:1.00:-2.99" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" ActionType="Placeholder" ExecutionDelayExpression="2.71 * 1000" />
<Action OrderNumber="19" LogMessageText="[03:59:13.227] StartsCasting 14:4000D26D:尼姆瓣齿鲨:A2FA:怒潮断头台:E0000000::0.900:-116.46:-849.92:1.00:-2.99" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="5.08 * 1000" />
<Action OrderNumber="21" LogMessageText="[03:59:18.303] 261 105:Add:4000D2A5:BNpcID:4706:BNpcNameID:6C:CastTargetID:E0000000:CurrentMP:10000:CurrentWorldID:65535:Heading:0.0000:Level:100:MaxHP:10356500:MaxMP:10000:ModelStatus:2048:NPCTargetID:E0000000:PosX:-132.0000:PosY:-850.0000:PosZ:1.0000:Radius:1.0000:Type:2:WorldID:65535" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="6a8c6c2c-f69a-417f-b6d4-e3f2d5a93ec3" Name="旋转水圈" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 循环" Id="b357546f-72c9-43c7-84d6-0a81d24cd90d" RegularExpression="^新月_鲨_水圈:b顺:(?&lt;b顺&gt;[01]):b外:(?&lt;b外&gt;[01]):θ0:(?&lt;θ0&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="读条与第一次判定间隔 5 秒" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="外圈 R = 19, 0.700 s 一次，28 次/圈，共 59 次" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="内圈 R = 11, 1.200 s 一次，16 次/圈，共 35 次" DescriptionOverride="True" />
<Action OrderNumber="4" LoopDelayExpression="0" ActionType="Loop" DescBgColor="ffd">
<LoopCondition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_i}" ExpressionTypeL="String" ExpressionR="${b外} ? 59 : 35" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
</LoopCondition>
<LoopActions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月_鲨_水圈${b外}_${_i}&#xD;&#xA;delay: 1 + ${_i} * (${b外} ? 0.7 : 1.2)&#xD;&#xA;t:     4&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: ${θ0} + ${_i} * (${b顺} ? -1 : 1) * π / (${b外} ? 14 : 8)&#xD;&#xA;Pos: 0, (${b外} ? -19 : -11)&#xD;&#xA;Scale: 4&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Tag: 新月_鲨_水圈${b外}_${_i}&#xD;&#xA;Delay: 3 + ${_i} * (${b外} ? 0.7 : 1.2)&#xD;&#xA;Color: 1.5, 0.5, 1, 1" ActionType="NamedCallback" DescBgColor="ffd" />
</LoopActions>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 初始读条 =&gt; 2" Id="19af3c44-c2ed-4915-a2f3-8e6f3e616783" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A2D7:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_b顺" VariableExpression="(${x} - ${env:X0}) * cos(${h}) - (${y} - ${env:Y0}) * sin(${h}) &gt; 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_b外" VariableExpression="distance(${x}, ${y}, ${env:X0}, ${env:Y0}) &gt; 15" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="新月_鲨_水圈:b顺:${v:tmp_b顺}:b外:${v:tmp_b外}:θ0:${n: θ(${env:X0}, ${env:Y0}, ${x}, ${y})}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="4" VariableName="tmp_b顺" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" VariableName="tmp_b外" ActionType="Variable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="深水切割者 顺劈" Id="08ad4d15-56e8-4aed-a21c-7edface57b8d" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A88D):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan60&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 4.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 65" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" UseTTSTextExpression="躲开正面" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="场边鲨鱼扇形" Id="c0a9f24d-44b7-4115-987f-418f700833cd" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A3F2):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan60&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 6.7&#xD;&#xA;t: 2.0&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 50&#xD;&#xA;Color: 1, 0.2, 1, 1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="海之骚动 AoE" Id="a74c21a4-6a7f-4197-a2a0-a2143a5f59c7" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A2D9:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="f7acdce5-8508-44a0-a23a-bb4d97633baa" Name="14. 城塞守卫——复原狮像 ✓" Enabled="true" RawEnvironmentVariables="X0 = 870&#xD;&#xA;Y0 = 180&#xD;&#xA;&#xA;Z0 = 122&#xD;&#xA;R = 25">
<Folders>
<Folder Id="2dadb4ce-4d8b-48a5-88ed-1282cc1e3ccc" Name="球" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 记录球" Id="fc1bb5a3-5d0e-4393-88e9-37c49c83d6a6" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}18125:([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" DictVariableOp="Set" DictVariableName="新月_狮像_球_xy" DictVariableKey="${id}" DictVariableValue="${x}, ${y}" ActionType="DictVariable" />
<Action OrderNumber="2" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="新月_狮像_球_dirN6" DictVariableKey="${id}" DictVariableValue="roundvec(${x} - ${env:X0}, ${y} - ${env:Y0}, -6)" ActionType="DictVariable" />
<Action OrderNumber="3" DictVariableOp="Set" DictVariableName="新月_狮像_球_type" DictVariableKey="${id}" DictVariableValue="光" ActionType="DictVariable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 初始化 光明噪声 AoE" Id="1a791c33-101e-4afe-84dd-b5a136397ad7" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A13F:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^新月_狮像_球" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="4b. 风土读条（双重咏唱）" Id="322534ca-990d-4bff-9953-67bb5f56edcb" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A14[CD]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" DictVariableOp="Filter" DictVariableValueType="Numeric" DictVariableName="新月_狮像_球_xy" DictVariableTarget="tmp_激活" DictVariableValue="${d:新月_狮像_球_type[${_key}]} == ${if: 0x${aid} = 0xA14C ? 风 : 土 } &amp;&amp; &#xD;&#xA;roundvec(-${env:X0} + ${_val} - ${env:Y0}, -6) = roundir(${h}, -6)" ActionType="DictVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="tts:9.5:${if: distance(${env:X0}, ${env:Y0}, ${d:tmp_激活.joinvalues}) &lt; 10 ? 远离 : 靠近 }" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${aid}" ExpressionTypeL="Numeric" ExpressionR="0xA14C" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="// 扇形&#xD;&#xA;Omen: er_gl_fan060_1bf&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 8&#xD;&#xA;t: 3.7&#xD;&#xA;Pos: ${env:X0}, ${env:Y0}, ${env:Z0} + 0.1&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 30&#xD;&#xA;Color: ${if: 0x${aid} = 0xA14C ? 1,0.3,1,1 : 1.2,0,1,1 }&#xD;&#xA;---&#xD;&#xA;// 最终的圈&#xD;&#xA;Omen: m0532_gimc_ae01f&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 10.2&#xD;&#xA;t: 4&#xD;&#xA;Pos: ${d:tmp_激活.joinvalues}, ${env:Z0}&#xD;&#xA;Scale: 15&#xD;&#xA;Color: 1,0.3,1,1&#xD;&#xA;---&#xD;&#xA;// 圆形边界&#xD;&#xA;Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 0.1&#xD;&#xA;t: 14.1&#xD;&#xA;Pos: ${d:tmp_激活.joinvalues}, ${env:Z0}&#xD;&#xA;Scale: 15 * 1.09&#xD;&#xA;Color: ${if: 0x${aid} = 0xA14C ? 0, 0.8, 0, 1 : 0.8, 0.5, 0, 1 }" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd" />
<Action OrderNumber="4" DictVariableValueType="Numeric" DictVariableName="tmp_激活" ActionType="DictVariable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 连线" Id="f5dd692e-3e2b-4066-a36b-7d665269bec6" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;.{8}):[^:]*:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;012[01])">
<Actions>
<Action OrderNumber="1" DictVariableOp="Set" DictVariableName="新月_狮像_球_type" DictVariableKey="${sid}" DictVariableValue="${if: 0x${type} = 0x0120 ? 土 : 风 }" ActionType="DictVariable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-14 22:08" Id="49e2ebec-7395-4b71-bcd6-1723895d3f6f" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[19:43:35.004] StartsCasting 14:4001F8FF:复原狮像:A13F:光明噪声:4001F8FF:复原狮像:4.700:870.08:179.47:122.00:-0.87" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="3" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9A5:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::867.63:187.61:122.00:2.83" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9A6:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::875.45:185.95:122.00:-2.41" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9A4:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::862.27:181.66:122.00:1.78" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9A8:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::872.57:172.39:122.00:-0.31" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9A9:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::864.75:174.05:122.00:0.73" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9AA:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::850.18:178.26:122.00:1.48" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9A7:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::877.93:178.34:122.00:-1.36" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9AC:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::878.55:198.13:122.00:-2.71" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9AB:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::858.63:196.38:122.00:2.53" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9AE:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::881.57:163.62:122.00:-0.61" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9AF:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::861.65:161.87:122.00:0.44" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[19:43:41.169] AddCombatant 03:4001F9AD:光球:00:64:0000:00::13650:18125:10187030:10187030:10000:10000:::890.02:181.74:122.00:-1.66" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" ActionType="Placeholder" ExecutionDelayExpression="0.88 * 1000" />
<Action OrderNumber="16" LogMessageText="[19:43:42.044] Tether 23:4001F9AF:光球:4001F8FF:复原狮像:0000:0000:0121:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[19:43:42.044] Tether 23:4001F9AE:光球:4001F8FF:复原狮像:0000:0000:0120:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[19:43:42.044] Tether 23:4001F9AD:光球:4001F8FF:复原狮像:0000:0000:0121:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="[19:43:42.044] Tether 23:4001F9AC:光球:4001F8FF:复原狮像:0000:0000:0120:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" LogMessageText="[19:43:42.044] Tether 23:4001F9AB:光球:4001F8FF:复原狮像:0000:0000:0121:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[19:43:42.044] Tether 23:4001F9AA:光球:4001F8FF:复原狮像:0000:0000:0120:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogMessageText="[19:43:42.044] Tether 23:4001F9A9:光球:4001F8FF:复原狮像:0000:0000:0120:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" LogMessageText="[19:43:42.044] Tether 23:4001F9A8:光球:4001F8FF:复原狮像:0000:0000:0121:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" LogMessageText="[19:43:42.044] Tether 23:4001F9A7:光球:4001F8FF:复原狮像:0000:0000:0120:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="25" LogMessageText="[19:43:42.044] Tether 23:4001F9A6:光球:4001F8FF:复原狮像:0000:0000:0121:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" LogMessageText="[19:43:42.048] Tether 23:4001F9A5:光球:4001F8FF:复原狮像:0000:0000:0120:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="27" LogMessageText="[19:43:42.048] Tether 23:4001F9A4:光球:4001F8FF:复原狮像:0000:0000:0121:4001F8FF:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="29" LogMessageText="[19:43:47.255] 263 107:4001F90A:A14D:870.113:179.998:122.013:1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" LogMessageText="[19:43:47.255] 263 107:4001F90B:A14C:870.113:179.998:122.013:-1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="31" ActionType="Placeholder" ExecutionDelayExpression="4.01 * 1000" />
<Action OrderNumber="32" LogMessageText="[19:43:51.260] 263 107:4001F916:A14D:870.113:179.998:122.013:0.523" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="33" LogMessageText="[19:43:51.264] 263 107:4001F917:A14C:870.113:179.998:122.013:-2.618" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" ActionType="Placeholder" ExecutionDelayExpression="4.01 * 1000" />
<Action OrderNumber="35" LogMessageText="[19:43:55.273] 263 107:4001F915:A14C:870.113:179.998:122.013:-0.524" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="36" LogMessageText="[19:43:55.273] 263 107:4001F914:A14D:870.113:179.998:122.013:2.618" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="37" ActionType="Placeholder" ExecutionDelayExpression="15.19 * 1000" />
<Action OrderNumber="38" LogMessageText="[19:44:10.462] 263 107:4001F917:A14C:870.113:179.998:122.013:1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="39" LogMessageText="[19:44:10.462] 263 107:4001F916:A14D:870.113:179.998:122.013:-1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="40" ActionType="Placeholder" ExecutionDelayExpression="4.01 * 1000" />
<Action OrderNumber="41" LogMessageText="[19:44:14.475] 263 107:4001F915:A14C:870.113:179.998:122.013:2.618" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="42" LogMessageText="[19:44:14.475] 263 107:4001F914:A14D:870.113:179.998:122.013:-0.524" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="43" ActionType="Placeholder" ExecutionDelayExpression="4.01 * 1000" />
<Action OrderNumber="44" LogMessageText="[19:44:18.487] 263 107:4001F912:A14D:870.113:179.998:122.013:-2.618" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="45" LogMessageText="[19:44:18.487] 263 107:4001F913:A14C:870.113:179.998:122.013:0.523" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4a. 风土读条（普通）" Id="e4937d5d-0996-43da-9e32-34530c2aac89" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A14[68]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: 0x${aid} = 0xA146 ? 靠近土球 : 靠近风球 }" ActionType="UseTTS" />
<Action OrderNumber="2" DictVariableOp="Filter" DictVariableValueType="Numeric" DictVariableName="新月_狮像_球_xy" DictVariableTarget="tmp_激活" DictVariableValue="${d:新月_狮像_球_type[${_key}]} == ${if: 0x${aid} = 0xA146 ? 风 : 土 }" ActionType="DictVariable" Asynchronous="False" />
<Action OrderNumber="3" DictVariableValueType="Numeric" ListVariableOp="Build" ListVariableExpression=":${d:tmp_激活.joinvalues(:)}" ListVariableTarget="tmp_激活" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="新月_狮像_风土1:b风:${n: 0x${aid} = 0xA146}:xy:${l:tmp_激活[1]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="5" LogMessageText="新月_狮像_风土1:b风:${n: 0x${aid} = 0xA146}:xy:${l:tmp_激活[2]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="6" LogMessageText="新月_狮像_风土1:b风:${n: 0x${aid} = 0xA146}:xy:${l:tmp_激活[3]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:tmp_激活.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" LogMessageText="新月_狮像_风土1:b风:${n: 0x${aid} = 0xA146}:xy:${l:tmp_激活[4]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:tmp_激活.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" DictVariableValueType="Numeric" DictVariableName="tmp_激活" ActionType="DictVariable" ExecutionDelayExpression="1000" />
<Action OrderNumber="9" DictVariableValueType="Numeric" ListVariableName="tmp_激活" ActionType="ListVariable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 1" Id="3b364240-bad6-4495-aade-c3017f92f529" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[03:35:52.957] StartsCasting 14:4000CFD8:复原狮像:A13F:光明噪声:4000CFD8:复原狮像:4.700:871.12:180.01:122.00:0.02" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="3" LogMessageText="[03:35:59.008] AddCombatant 03:4000D000:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::865.41:191.09:122.00:2.75" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[03:35:59.008] AddCombatant 03:4000D001:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::881.09:184.59:122.00:-1.96" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[03:35:59.008] AddCombatant 03:4000D002:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::874.59:168.91:122.00:-0.39" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[03:35:59.008] AddCombatant 03:4000CFFF:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::858.91:175.41:122.00:1.18" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="8" LogMessageText="[03:36:00.353] Tether 23:4000D002:光球:4000CFD8:复原狮像:0000:0000:0120:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[03:36:00.353] Tether 23:4000D001:光球:4000CFD8:复原狮像:0000:0000:0121:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[03:36:00.353] Tether 23:4000D000:光球:4000CFD8:复原狮像:0000:0000:0121:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[03:36:00.353] Tether 23:4000CFFF:光球:4000CFD8:复原狮像:0000:0000:0120:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="13" LogMessageText="[03:36:05.566] 263 107:4000CFEA:A148:870.113:179.998:122.013:0.785" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="7.14 * 1000" />
<Action OrderNumber="15" LogMessageText="[03:36:12.704] 263 107:4000CFEE:A146:870.113:179.998:122.013:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="[F] 风土（普通）" Id="61ed98f8-c6b6-47d1-bcae-df881874890d" RegularExpression="^新月_狮像_风土1:b风:(?&lt;b风&gt;[01]):xy:(?&lt;x&gt;[^,:]*),(?&lt;y&gt;[^,:]*)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="// 圆形边界&#xD;&#xA;Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 0.1&#xD;&#xA;t: 7&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Scale: 15 * 1.09&#xD;&#xA;Color: ${if: ${b风} ? 0, 0.8, 0, 1 : 0.8, 0.5, 0, 1 }&#xD;&#xA;---&#xD;&#xA;Omen: circle&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 1&#xD;&#xA;t: 6.1&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Scale: 15" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4c. 光读条" Id="d4889fe5-bc08-474e-ae58-f36744115af7" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A144):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="3000" />
<Action OrderNumber="2" DictVariableOp="Filter" DictVariableValueType="Numeric" DictVariableName="新月_狮像_球_xy" DictVariableTarget="tmp_激活" DictVariableValue="${d:新月_狮像_球_type[${_key}]} == 光" ActionType="DictVariable" Asynchronous="False" />
<Action OrderNumber="3" DictVariableValueType="Numeric" ListVariableOp="Build" ListVariableExpression=":${d:tmp_激活.joinvalues(:)}" ListVariableTarget="tmp_激活" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="新月_狮像_光:xy:${l:tmp_激活[1]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="5" LogMessageText="新月_狮像_光:xy:${l:tmp_激活[2]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="6" LogMessageText="新月_狮像_光:xy:${l:tmp_激活[3]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="7" LogMessageText="新月_狮像_光:xy:${l:tmp_激活[4]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="8" DictVariableValueType="Numeric" DictVariableName="tmp_激活" ActionType="DictVariable" ExecutionDelayExpression="1000" />
<Action OrderNumber="9" DictVariableValueType="Numeric" ListVariableName="tmp_激活" ActionType="ListVariable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="[F] 光" Id="97fb8a13-6cb8-44d2-8c3b-a9d733709cfc" RegularExpression="^新月_狮像_光:xy:(?&lt;x&gt;[^,:]*),(?&lt;y&gt;[^,:]*)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="// 圆形边界&#xD;&#xA;Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 0.1&#xD;&#xA;t: 10&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Scale: 15 * 1.09&#xD;&#xA;Color: 0.7, 1, 0.3&#xD;&#xA;---&#xD;&#xA;Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 6.1&#xD;&#xA;t: 4&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Scale: 15" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 3" Id="2675ef6c-1776-4aee-a61a-86de5bea614d" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[03:38:41.172] StartsCasting 14:4000CFD8:复原狮像:A13F:光明噪声:4000CFD8:复原狮像:4.700:869.51:179.58:122.00:2.12" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="3" LogMessageText="[03:38:46.957] AddCombatant 03:4000D059:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::858.91:184.59:122.00:1.96" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[03:38:46.957] AddCombatant 03:4000D058:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::858.91:175.41:122.00:1.18" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[03:38:46.957] AddCombatant 03:4000D05A:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::874.59:191.09:122.00:-2.75" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="0.11 * 1000" />
<Action OrderNumber="7" LogMessageText="[03:38:47.067] AddCombatant 03:4000D05F:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::862.35:198.48:122.00:2.75" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[03:38:47.067] AddCombatant 03:4000D05D:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::865.41:168.91:122.00:0.39" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[03:38:47.067] AddCombatant 03:4000D05C:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::881.09:175.41:122.00:-1.18" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[03:38:47.067] AddCombatant 03:4000D05B:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::881.09:184.59:122.00:-1.96" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[03:38:47.067] AddCombatant 03:4000D060:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::877.65:198.48:122.00:-2.75" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[03:38:47.067] AddCombatant 03:4000D05E:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::851.52:187.65:122.00:1.96" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[03:38:47.067] AddCombatant 03:4000D061:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::888.48:172.35:122.00:-1.18" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[03:38:47.067] AddCombatant 03:4000D062:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::877.65:161.52:122.00:-0.39" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[03:38:47.067] AddCombatant 03:4000D063:光球:00:64:0000:00::13650:18125:8831270:8831270:10000:10000:::862.35:161.52:122.00:0.39" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="1.22 * 1000" />
<Action OrderNumber="17" LogMessageText="[03:38:48.284] 263 107:4000CFEA:A144:851.528:172.338:122.013:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[03:38:48.289] 263 107:4000CFED:A144:888.485:187.658:122.013:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="2.01 * 1000" />
<Action OrderNumber="20" LogMessageText="[03:38:50.295] Tether 23:4000D063:光球:4000CFD8:复原狮像:0000:0000:0120:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[03:38:50.295] Tether 23:4000D062:光球:4000CFD8:复原狮像:0000:0000:0121:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogMessageText="[03:38:50.295] Tether 23:4000D060:光球:4000CFD8:复原狮像:0000:0000:0121:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" LogMessageText="[03:38:50.295] Tether 23:4000D05F:光球:4000CFD8:复原狮像:0000:0000:0120:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" LogMessageText="[03:38:50.295] Tether 23:4000D05C:光球:4000CFD8:复原狮像:0000:0000:0121:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="25" LogMessageText="[03:38:50.295] Tether 23:4000D05B:光球:4000CFD8:复原狮像:0000:0000:0121:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" LogMessageText="[03:38:50.295] Tether 23:4000D059:光球:4000CFD8:复原狮像:0000:0000:0120:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="27" LogMessageText="[03:38:50.295] Tether 23:4000D058:光球:4000CFD8:复原狮像:0000:0000:0120:4000CFD8:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="圣焰" Id="512d6a64-e625-42c7-a153-ca91884e2dc0" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A151:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="躲正面" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: 新月_狮像_圣焰&#xD;&#xA;t: 3.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 2.5, 60" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="抓击 死刑" Id="d7389d7a-5258-47bb-a170-95c8d1555cb5" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A155:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${tid} == ${_me.id} ? 死刑点名 : 队友死刑 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].InParty}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="光球核爆" Id="8123d269-3396-44e5-ba85-9b9dd465135f" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A144):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 2&#xD;&#xA;t: 9.0&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Scale: 25&#xD;&#xA;Color: 0.5, 0.8, 1, 1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="35e5e469-e85a-4ef2-ad10-046ef5aee95f" Name="13. 贩卖诅咒的商贩——金钱龟 ✓" Enabled="true" RawEnvironmentVariables="X0 = 72&#xD;&#xA;Y0 = -545&#xD;&#xA;&#xA;Z0 = 20&#xD;&#xA;R = 25">
<Folders>
<Folder Id="2495cad4-5f21-4310-9635-e25b00f12959" Name="击退" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 扇形" Id="9f5441d6-639e-4da8-8f74-fa71cb9faafe" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A96C:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;-?1.5)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="10000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="只看横向的扇形" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Tag: 新月_龟_击退&#xD;&#xA;Angle: ${h} &gt; 0 ? 5° : -5°" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. X币咒爆风" Id="137b31d1-bb3d-4456-88e4-a1f94bd034cc" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A230|A915|A231):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="r 18, 正北逆固定 4 2 1" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="击退，${?d: A230=4, A915=2, A231=1 [${aid}]}" UseTTSExclusive="False" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m0830_laser_light_01k1&#xD;&#xA;Tag: 新月_龟_击退&#xD;&#xA;t: 8&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: dir2rad(${?d: A230=0, A915=1, A231=2 [${aid}]}, 3)&#xD;&#xA;Pos: 0, -18&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 0.15, 20&#xD;&#xA;Color: 1, 1, 2, 5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m0501_nockback_omen01d1&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 6.7&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: dir2rad(${?d: A230=0, A915=1, A231=2 [${aid}]}, 3)&#xD;&#xA;Pos: 0, -18&#xD;&#xA;Scale: 50" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="冰火风" Id="e8f9f072-b300-4aea-a61e-0e0cde62a7b8" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;0249|0251|0252):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d: 0249 = 强制飞行, 0251 = 停手, 0252 = 保持移动 [${type}] }" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:7" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="金币连线" Id="78a72cb7-e097-42c4-9712-97497062c551" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;014[89ABCD])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?l: 壹, 贰, 贰加壹, 肆, 肆加壹, 肆加贰 [${n: 0x${type} - 0x0147}] }" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${sid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="564ac696-dd28-4aa2-b6a1-82d0ff6429ab" Name="11. 防御指令 ✓ R?" Enabled="true" RawEnvironmentVariables="X0 = -352&#xD;&#xA;Y0 = -608&#xD;&#xA;&#xA;Z0 = 5&#xD;&#xA;R = 20">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="钢铁线" Id="b40c2b5a-83de-45db-a3f5-60bf760785cb" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;.{8}):[^:]*:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:012F:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="钢铁" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 5.7&#xD;&#xA;Pos: ${_entity[${tid}].pos}&#xD;&#xA;Scale: 16" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="十字线" Id="8caaa4aa-e653-49d9-9ae5-c9d43e1028f6" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;.{8}):[^:]*:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0130:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="十字" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 5.7&#xD;&#xA;Pos: ${_entity[${tid}].pos}&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 5, 40&#xD;&#xA;---&#xD;&#xA;Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 5.7&#xD;&#xA;Pos: ${_entity[${tid}].pos}&#xD;&#xA;Angle: π/2&#xD;&#xA;Scale: 5, 40" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="钢铁线（*6）" Id="dc11a595-1312-4986-889b-ac4fcde66e7d" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;.{8}):[^:]*:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0132:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 2&#xD;&#xA;t: 3.8&#xD;&#xA;Pos: ${_entity[${sid}].pos}&#xD;&#xA;Scale: 16" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="以太爆发 AoE" Id="4fc5e5b6-2479-4cff-a3b7-7110692b4d57" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A1D0:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="2df348c8-51c0-4cfd-8e02-d7ab6ffee4e5" Name="03. 愤怒的人造人——新月狂战士 ✓" Enabled="true" RawEnvironmentVariables="X0 = 620&#xD;&#xA;Y0 = 800&#xD;&#xA;&#xA;Z0 = 79&#xD;&#xA;R = 25">
<Folders>
<Folder Id="130c849f-1f1c-40d3-ad6b-d082e03c2f47" Name="气焰 扩大红圈" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 读条" Id="4a2adf7d-7965-49b6-9abf-ccbb197e6c2a" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):93AC:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_狂战_气焰_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="如果是每组 9 个的前 4 个，或是三次红圈阶段以后（3 个一组），立刻画出，否则等待前一组再画出" DescriptionOverride="True" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 5.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 13 * 1.09&#xD;&#xA;Color: 1, 0.3, 0, 2" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="(${v:新月_狂战_气焰_n} - 1) % 9" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericLess" />
<ConditionSingle Enabled="true" ExpressionL="${ev:新月_狂战_气焰_flag}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 2&#xD;&#xA;t: 3.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 13 * 1.09&#xD;&#xA;Color: 1, 0.3, 0, 2" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="(${v:新月_狂战_气焰_n} - 1) % 9" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
<ConditionSingle Enabled="true" ExpressionL="${ev:新月_狂战_气焰_flag}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 震击怒涛 (设置 flag)" Id="00309822-111d-45b7-b18c-4ebc2f498d00" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:90B1:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="新月_狂战_气焰_flag" VariableExpression="1" ActionType="Variable" ExecutionDelayExpression="5000" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="765fa35d-f9df-4ccb-b581-4036a31b511b" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:93A8:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^新月_狂战_气焰" ActionType="Variable" />
<Action OrderNumber="2" UseTTSTextExpression="连续红圈" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="横砍 正面180" Id="5dad59bc-97e3-4516-a2a9-46d5b6b7c1fc" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A6C3:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 5.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 30, 60" ActionType="NamedCallback" />
<Action OrderNumber="2" UseTTSTextExpression="去背面" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="发怒/燥怒/狂怒 AoE" Id="713fb7bb-04a7-4d74-be20-c80758b3ba0a" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(7844|7846|93B1):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="震击怒涛 初始 （钢铁+月环）" Id="2a5b3f58-dddd-40a9-8958-98e06f6c9601" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:91BA:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="跟随跳跃" UseTTSExclusive="False" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="bd18af35-1e53-4d2e-91ba-ba45b30c8fcc" Name="02. 黑色连队 ✓" Enabled="true" RawEnvironmentVariables="X0 = 450&#xD;&#xA;Y0 = 357&#xD;&#xA;&#xA;Z0 = 65&#xD;&#xA;L = 20">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="分身钢铁" Id="d1953449-5030-4ee1-8209-306d03f3c6b3" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A0CC:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="boss 存在时不画外圈小钢铁" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 4.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 8" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_entity[bnpcid=18085].Exist}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="abs(${x}-${env:X0}) + abs(${y}-${env:Y0})" ExpressionTypeL="Numeric" ExpressionR="15" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="本体钢铁" Id="ceed9532-268a-4fd1-870f-a967cb26cc7e" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A0BB:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 6.6&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 16" ActionType="NamedCallback" />
<Action OrderNumber="2" UseTTSTextExpression="大钢铁" ActionType="UseTTS" />
<Action OrderNumber="3" LogMessageText="cd5:6.6" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="本体月环" Id="e9432aea-7f4d-4de3-b465-e66a74d1dd24" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A0BC:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: gl_sircle_3008bf&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 7.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 30" ActionType="NamedCallback" />
<Action OrderNumber="2" UseTTSTextExpression="月环" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="分身直条" Id="f1f34051-3f23-4201-a965-e49ded7c601b" RegularExpression="^.{15}\S+ AAA:203:11D1:4.{7}:[^:]*:[^:]*:18088:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="三条合并，只保留距离场中 6/14 的" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 8.8&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 6, 42" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionGroup Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(abs(${x} - ${env:X0}))" ExpressionTypeL="Numeric" ExpressionR="^(6|14)$" ExpressionTypeR="String" ConditionType="RegexMatch" />
<ConditionSingle Enabled="true" ExpressionL="round(abs(${y} - ${env:Y0}))" ExpressionTypeL="Numeric" ExpressionR="^(6|14)$" ExpressionTypeR="String" ConditionType="RegexMatch" />
</ConditionGroup>
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-13 21:25 直条" Id="bdabdd16-43bf-483c-a9f7-510381c47168" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[20:05:43.716] _PlayActionTimeline AAA:203:11D1:4000E962:黑陆行鸟:13637:18088:471:367:65.012:-1.570868" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E95F:黑陆行鸟:13637:18088:439.9997:378:65.01199:-3.141593" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E95C:黑陆行鸟:13637:18088:429:347:65.012:1.570772" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E965:黑陆行鸟:13637:18088:460:336:65.01199:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E960:黑陆行鸟:13637:18088:435.9997:378:65.01199:-3.141593" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E966:黑陆行鸟:13637:18088:456:336:65.012:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E967:黑陆行鸟:13637:18088:452:336:65.012:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E963:黑陆行鸟:13637:18088:471:363:65.012:-1.570868" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E964:黑陆行鸟:13637:18088:471:359:65.01199:-1.570868" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E961:黑陆行鸟:13637:18088:431.9997:378:65.012:-3.141593" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E95D:黑陆行鸟:13637:18088:429:343:65.012:1.570772" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[20:05:43.721] _PlayActionTimeline AAA:203:11D1:4000E95E:黑陆行鸟:13637:18088:429:339:65.012:1.570772" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="a2e919cf-d953-4295-b0e2-a7a2cb80ae7e" Name="01. 脑髓爱好者——夺心魔 ?" Enabled="true" RawEnvironmentVariables="X0 = 300&#xD;&#xA;Y0 = 730&#xD;&#xA;&#xA;Z0 = 70&#xD;&#xA;R = 30">
<Folders>
<Folder Id="d80faea8-e63e-4df7-a81c-69d711199905" Name="精神冲击" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 读条精神冲击" Id="f5a3b5c6-af40-4e33-bd6a-072986978307" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A0CF:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="6000" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_t火" VariableExpression="${_me.StatusTimer(4211)}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_t冰" VariableExpression="${_me.StatusTimer(4212)}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" ActionType="Placeholder" Description="phase = 1（第一次）; 2（后续）; 0（各种原因没 debuff）" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="新月_夺心_b冰" VariableExpression="${v:tmp_t冰} &gt; 1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" VariableOp="SetNumeric" VariableName="新月_夺心_phase" VariableExpression="round(max(${v:tmp_t火}, ${v:tmp_t冰}) / 10)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="7" ActionType="Placeholder" Description="由于解析插件在新月岛的 bug，手动获取实体     status 0x891, extraParam=836/837 (火/冰)" DescriptionOverride="True" />
<Action OrderNumber="8" TableVariableOp="GetAllEntities" TableVariableName="新月_夺心_冰恶魔" TableVariableX="X, Y, StatusStack(0x891)" TableVariableY="BNpcID = 18102" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="9" TableVariableOp="FilterLine" TableVariableName="新月_夺心_冰恶魔" TableVariableTarget="新月_夺心_冰恶魔" TableVariableY="${_row[3]} = 837" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="10" ActionType="Placeholder" />
<Action OrderNumber="11" LogMessageText="新月_夺心_冰火${v:新月_夺心_phase}:b冰:${v:新月_夺心_b冰}:x1y1x2y2:${t:新月_夺心_冰恶魔.hjoin(:, :, &quot;1,2&quot;)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 生成小妖魔" Id="4b26fa28-43d5-4228-98dd-9089b7d1fe44" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18102:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions />
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化 读条召唤" Id="166b334a-47aa-428a-88f5-5e90ef0a5011" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A0D0:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^新月_夺心_冰火" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="触手 直条" Id="cd6fd97a-ebae-4869-950c-d9ed92c7b99c" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A12[89]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 10.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 0x${aid} = 0xA128 ? 5 : 10, 60" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="昏暗 顺劈" Id="175118b6-0cf5-49af-a12d-d54c2103f244" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A0D2):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 5.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 65" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" UseTTSTextExpression="躲开正面" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="虚空暴雷 死刑" Id="d8ec7090-35cd-4b2c-88fd-2aa71b568687" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A0D4:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${tid} == ${_me.id} ? 死刑点名 : 队友死刑 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].InParty}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="触手 直条 (场边)" Id="80b68eca-c035-448f-a3c8-4bb31b061920" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A162):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 6.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 5, 60" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="a688be5b-2c3e-4674-86de-dc3966e9596c" Name="06. 拟造使魔——水晶龙 ✓" Enabled="true" RawEnvironmentVariables="X0 = -414&#xD;&#xA;Y0 = 75&#xD;&#xA;&#xA;Z0 = 92&#xD;&#xA;R = 25&#xD;&#xA;R1 = 7&#xD;&#xA;R2 = 13&#xD;&#xA;R3 = 19">
<Folders>
<Folder Id="43f3e53b-8437-40a6-bc4c-fba64fcc4e6b" Name="水晶连线" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="3. 播报" Id="9f3edbe8-21c7-4d23-a473-ad7d9fa2d4bb" RegularExpression="^新月_水晶龙_水晶:order:(?&lt;order&gt;[123]):safe:(?&lt;safe&gt;[123])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?l: 壹, 贰, 叁 [${order}]}${?l: 前, 中, 后 [${safe}]}" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: ${v:新月_水晶龙_水晶_θ}&#xD;&#xA;ScaleY: ${safe} * 6 + 2.4&#xD;&#xA;${order}: 0, -1&#xD;&#xA;${?l: A, B, C [${order}]}: 0, 1" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;load" ActionType="NamedCallback" ExecutionDelayExpression="18450" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${order}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1b. 获取连线" Id="e176b591-5997-4933-a910-6cdd47652c9a" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;.{8}):[^:]*:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;013[ABC]):">
<Actions>
<Action OrderNumber="1" LogMessageText="_新月_水晶龙_水晶:order:${n:0x${type} - 0x0139}:circle:${d:新月_水晶龙_钢月_水晶位置[${sid}]}" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 处理" Id="aa284aaa-68ec-445c-90ea-1d41a1f63f8e" RegularExpression="^_新月_水晶龙_水晶:order:(?&lt;order&gt;[123]):circle:(?&lt;circle&gt;[123])">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="新月_水晶龙_水晶_${order}" ListVariableExpression="${circle}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_水晶龙_水晶_θ" VariableExpression="θ(${env:X0}, ${env:Y0}, ${_me.XY})" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${order}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" LogMessageText="新月_水晶龙_水晶:order:${order}:safe:${n: 6 - ${l:新月_水晶龙_水晶_${order}.sum()}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:新月_水晶龙_水晶_${order}.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ListVariableName="新月_水晶龙_水晶_${order}" ActionType="ListVariable" ExecutionDelayExpression="1000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1a. 记录水晶位置" Id="ba07e7d6-62c0-4ba1-9f09-bad172bb654b" RegularExpression="^.{15}\S+ AAA:203:(?&lt;type&gt;11D[123]):(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18199:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="PlayActionTimeline，水晶 pos 都在场中，实际靠这个显示不同位置" DescriptionOverride="True" />
<Action OrderNumber="1" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="新月_水晶龙_钢月_水晶位置" DictVariableKey="${id}" DictVariableValue="0x${type} - 0x11D0" ActionType="DictVariable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-13 03:31" Id="7657d0ed-a109-4566-9958-6e3ca0d679c5">
<Actions>
<Action OrderNumber="1" LogMessageText="[03:12:25.009] _PlayActionTimeline AAA:203:11D3:40008FD2:晶石:13698:18199:-414:75:92:2.740163" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[03:12:25.009] _PlayActionTimeline AAA:203:11D1:40008FD3:晶石:13698:18199:-414:75:92:-1.186888" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[03:12:25.009] _PlayActionTimeline AAA:203:11D2:40008FD5:晶石:13698:18199:-414:75:92:0.3839324" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[03:12:25.009] _PlayActionTimeline AAA:203:11D3:40008FD4:晶石:13698:18199:-414:75:92:-0.4014778" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="4.06 * 1000" />
<Action OrderNumber="6" LogMessageText="[03:12:29.066] Tether 23:40008FD5:晶石:40008FC5:水晶龙:0000:0000:013A:40008FC5:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[03:12:29.066] Tether 23:40008FD4:晶石:40008FC5:水晶龙:0000:0000:013A:40008FC5:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="9" LogMessageText="[03:12:31.071] Tether 23:40008FD3:晶石:40008FC5:水晶龙:0000:0000:013B:40008FC5:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[03:12:31.071] Tether 23:40008FD2:晶石:40008FC5:水晶龙:0000:0000:013B:40008FC5:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="042b238c-2e29-4d30-a5fc-dcb44921b268" Name="钢铁月环" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化" Id="10e76bed-a1e5-47a4-b55f-b9c564f6498f" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;type&gt;A315):" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^新月_水晶龙_钢月" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 分身钢铁月环" Id="ffc09874-0be8-468c-a950-ed1196407925" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;type&gt;A70E|A70F):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="新月_水晶龙_钢月_b钢" VariableExpression="0x${type} = 0xA70E" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${v:新月_水晶龙_钢月_b钢} ? 远离分身 : 去分身脚下 }" ActionType="UseTTS" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="如果有符文，计算符文角度，代替水晶角度" DescriptionOverride="True" />
<Action OrderNumber="4" LogMessageText="cd5:6.6" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="cd5:11.1" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: θ(${env:X0}, ${env:Y0}, 0${x}, 0${y})&#xD;&#xA;Scale: ${v:新月_水晶龙_钢月_b钢} ? 15.1 : 14.1&#xD;&#xA;Waymarks: ABCD1234&#xD;&#xA;Start: ${if: ${v:新月_水晶龙_钢月_b钢} ? -1, 0 : 0, -1 }&#xD;&#xA;End:   ${if: ${v:新月_水晶龙_钢月_b钢} ?  1, 0 :  0, 1 }" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="6600" Asynchronous="False" />
<Action OrderNumber="8" VariableOp="SetNumeric" VariableName="新月_水晶龙_钢月_θ2" VariableExpression="(${v:新月_水晶龙_钢月_黄_n} = 4 ? 0 : π/2) + ${v:新月_水晶龙_钢月_黄_θ}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0${v:新月_水晶龙_钢月_黄_n}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="9" UseTTSTextExpression="${if: ${v:新月_水晶龙_钢月_b钢} = (${v:新月_水晶龙_钢月_黄_n} = 4) ? 去蓝色 : 去橙色 }符文" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0${v:新月_水晶龙_钢月_黄_n}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="10" UseTTSTextExpression="${if: ${v:新月_水晶龙_钢月_b钢} ? 远离 : 靠近 }水晶" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0${v:新月_水晶龙_钢月_黄_n}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericEqual" />
</Condition>
</Action>
<Action OrderNumber="11" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: ${v:新月_水晶龙_钢月_θ2}&#xD;&#xA;Scale: ${v:新月_水晶龙_钢月_b钢} ? 15.1 : 14.1&#xD;&#xA;Waymarks: ABCD1234&#xD;&#xA;Start: ${if: ${v:新月_水晶龙_钢月_b钢} ? -1, 0 : 0, -1 }&#xD;&#xA;End:   ${if: ${v:新月_水晶龙_钢月_b钢} ?  1, 0 :  0, 1 }" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="5400" Asynchronous="False" />
<Action OrderNumber="13" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1a. 记录水晶顺序" Id="a1090847-eff2-4c74-853e-364cf399c6c4" RegularExpression="^.{15}\S+ AAA:204:1:2:4.{7}:[^:]*:[^:]*:2014544:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="EObjAnimation" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_水晶龙_钢月_θ2" VariableExpression="θ(${env:X0}, ${env:Y0}, ${x}, ${y})" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 1" Id="d63e970f-f045-4c26-9c44-b47a0322ccb9" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[01:35:53.650] StartsCasting 14:4000613C:水晶龙:A315:幻影晶石:4000613C:水晶龙:2.700:-413.96:75.91:92.00:0.02" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.94 * 1000" />
<Action OrderNumber="3" LogMessageText="[01:35:56.591] _EObjAnimation AAA:204:1:2:40006145::256:2014544:-401.2721:62.27208:92:-0.7854581" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[01:35:56.591] _EObjAnimation AAA:204:1:2:40006141::1101004800:2014544:-426.7279:87.72792:92:2.356182" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="3.21 * 1000" />
<Action OrderNumber="6" LogMessageText="[01:35:59.797] 263 107:40006151:A70E:-414.014:57.009:92.013:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[01:35:59.797] 263 107:40006154:A70E:-414.014:92.990:92.013:3.141" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2" Id="24ad2c2a-41fa-48e2-a97e-c53fcdd5ec90" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[01:36:51.248] StartsCasting 14:4000613C:水晶龙:A315:幻影晶石:4000613C:水晶龙:2.700:-413.05:75.97:92.00:-2.10" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.95 * 1000" />
<Action OrderNumber="3" LogMessageText="[01:36:54.201] _EObjAnimation AAA:204:1:2:4000613E::256:2014544:-419:75:92:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[01:36:54.201] _EObjAnimation AAA:204:1:2:4000613D::1119354893:2014544:-409:75:92:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="3.22 * 1000" />
<Action OrderNumber="6" LogMessageText="[01:36:57.413] 263 107:40006151:A70F:-396.008:74.984:92.013:-1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[01:36:57.413] 263 107:40006154:A70F:-432.020:74.984:92.013:1.570" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="3.03 * 1000" />
<Action OrderNumber="9" LogMessageText="[01:37:00.452] StartsCasting 14:4000613C:水晶龙:A31A:转移晶石:4000613C:水晶龙:5.700:-414.02:75.00:92.00:-0.04" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[01:37:00.354] 261 105:Add:40006265:BNpcID:1EBD8E:BNpcNameID:41A00000:CastBuffID:256:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:A000000:CurrentMP:5178883:Heading:2.3562:ModelStatus:2048:NPCTargetID:A96A8E:PosX:-426.7279:PosY:87.7279:PosZ:92.0000:Radius:0.5000:Type:7" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[01:37:00.354] 261 105:Add:40006266:BNpcID:1EBD8E:BNpcNameID:100:CastBuffID:256:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:A000000:CurrentMP:5113347:CurrentWorldID:21666:Heading:-0.7855:ModelStatus:2048:NPCTargetID:3004576:PosX:-401.2721:PosY:62.2721:PosZ:92.0000:Radius:0.5000:Type:7:WorldID:512" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1b. 记录符文角度" Id="107af923-da0a-45c7-8af6-e0b71ab57d8c" RegularExpression="^.{15}\S+ 105:Add:(?&lt;id&gt;4.{7}).*?:BNpcID:1EBD8E.*?:Heading:(?&lt;h&gt;[^:]+).*?:PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):PosZ:(?&lt;z&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="1EBD8E 黄色符文  F 蓝色" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="新月_水晶龙_钢月_黄_n" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:新月_水晶龙_钢月_已记录id.contain(${id})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="新月_水晶龙_钢月_黄_θ" VariableExpression="θ(${env:X0}, ${env:Y0}, ${x}, ${y})" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="d(${env:X0}, ${env:Y0}, ${x}, ${y})" ExpressionTypeL="Numeric" ExpressionR="10" ExpressionTypeR="String" ConditionType="NumericGreater" />
<ConditionSingle Enabled="true" ExpressionL="${l:新月_水晶龙_钢月_已记录id.contain(${id})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ListVariableOp="Push" ListVariableName="新月_水晶龙_钢月_已记录id" ListVariableExpression="${id}" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:新月_水晶龙_钢月_已记录id.contain(${id})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${l:新月_水晶龙_钢月_已记录id.contain(${id})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="AoE" Id="03649fcc-5d40-4bea-9fb7-f7574ed7419a" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A322:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="2fd00040-cbe8-47aa-96b9-723ba5398204" Name="08. 石制骑士团 ✓" Enabled="true" RawEnvironmentVariables="X0 = 680&#xD;&#xA;Y0 = -280&#xD;&#xA;&#xA;Z0 = 96&#xD;&#xA;R = 20">
<Folders>
<Folder Id="6e27f931-5adc-4ca3-85f1-94ec95d061d9" Name="阶段1a 直条" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="阶段1 直条" Id="45a52127-bd82-4139-b10a-e8a5d21c4153" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A359:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="10000">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="去数字点" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: ${h}&#xD;&#xA;ScaleX: 13.1&#xD;&#xA;ScaleY: 5.1&#xD;&#xA;1: -1, -1&#xD;&#xA;2: -1,  1&#xD;&#xA;3:  1,  1&#xD;&#xA;4:  1, -1" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" LogMessageText="beep:7" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" UseTTSTextExpression="穿" ActionType="UseTTS" ExecutionDelayExpression="7000" />
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: ${h}&#xD;&#xA;ScaleX: 10.9&#xD;&#xA;ScaleY: 2.9&#xD;&#xA;1: -1, -1&#xD;&#xA;2: -1,  1&#xD;&#xA;3:  1,  1&#xD;&#xA;4:  1, -1" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;load" ActionType="NamedCallback" ExecutionDelayExpression="3000" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="0d79ede6-ea38-4dc0-8824-b720d72f3ee7" Name="阶段2a 转转手" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 获取" Id="63b1c613-893e-4e27-8847-426f9c744711" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A35E:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_石骑_转转手_Σx" VariableExpression="${x}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="新月_石骑_转转手_Σy" VariableExpression="${y}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="Increment" VariableName="新月_石骑_转转手_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="新月_石骑_转转手:θ黄间:${n: θ(${env:X0}, ${env:Y0}, ${v:新月_石骑_转转手_Σx}/2, ${v:新月_石骑_转转手_Σy}/2)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_石骑_转转手_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="dd609666-1f9e-47cc-87c7-ac2bddc1b074" RegularExpression="^.{15}\S+ 21:.{8}:80000027:14:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^新月_石骑_转转手" ActionType="Variable" />
<Action OrderNumber="2" UseTTSTextExpression="转转手" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 播报" Id="37e8e22d-c44c-404b-8e1c-94430da49aca" RegularExpression="^新月_石骑_转转手:θ黄间:(?&lt;θ黄间&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="站在 A 点" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: ${θ黄间}&#xD;&#xA;A: 5.65, 0" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;load" ActionType="NamedCallback" ExecutionDelayExpression="17400" DescBgColor="dff" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="6c1b1f03-e061-43fe-af45-20dee2f40f4d" Name="阶段2b 击退+直条" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="读条" Id="bff89854-0ad7-4618-a047-e6d7782c91d1" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A361:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="10000">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: d(${x}, ${env:X0}) &lt; 1 ? -π : -π/2&#xD;&#xA;1: -8, -16&#xD;&#xA;2:  8, -16&#xD;&#xA;3: -8,  16&#xD;&#xA;4:  8,  16&#xD;&#xA;A: -8,  0&#xD;&#xA;B:  8,  0" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;load" ActionType="NamedCallback" ExecutionDelayExpression="6800" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="d(${x}, ${env:X0}) &lt; 1 || d(${y}, ${env:Y0}) &lt; 1" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="7b5cb0e8-6a9c-4fc8-8079-4b297441d868" Name="阶段3 地火" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="[F] 地火" Id="3921a9d2-d6cf-423c-b56b-8687c68e7dac" RegularExpression="^新月_石骑_地火:n:(?&lt;n&gt;[0-5]):x0:(?&lt;x&gt;[^:]*):y0:(?&lt;y&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: circle&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 8 + ${n}&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${x}, ${y} + (${y} &gt; ${env:Y0} ? -1 : 1) * ${n} * 7, ${env:Z0}&#xD;&#xA;Angle: ${y} &gt; ${env:Y0} ? π : 0&#xD;&#xA;Scale: 6" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="地火预兆" Id="635aeca8-5742-4120-9cd5-b4b2c2136d2b" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A364:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_石骑_地火:n:0:x0:${x}:y0:${y}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="新月_石骑_地火:n:1:x0:${x}:y0:${y}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="新月_石骑_地火:n:2:x0:${x}:y0:${y}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="新月_石骑_地火:n:3:x0:${x}:y0:${y}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="新月_石骑_地火:n:4:x0:${x}:y0:${y}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="新月_石骑_地火:n:5:x0:${x}:y0:${y}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-14 18:57" Id="370b9505-23ea-48b0-9102-45f816b613ca">
<Actions>
<Action OrderNumber="1" LogMessageText="[04:40:58.313] 263 107:4000EE88:A364:690.512:-297.494:96.011:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[04:40:58.313] 263 107:4000EE8A:A364:662.496:-297.494:96.042:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[04:40:58.317] 263 107:4000EE89:A364:676.504:-297.494:96.011:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="4.01 * 1000" />
<Action OrderNumber="5" LogMessageText="[04:41:02.326] 263 107:4000EE82:A364:697.501:-297.494:96.042:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[04:41:02.326] 263 107:4000EE84:A364:669.515:-297.494:96.011:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[04:41:02.326] 263 107:4000EE83:A364:683.523:-297.494:96.011:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="feed6099-bd0a-4331-affa-3b40bed09c0c" Name="07. 双极的造物——神秘土偶 ✓" Enabled="true" RawEnvironmentVariables="X0 = -800&#xD;&#xA;Y0 = 245&#xD;&#xA;&#xA;Z0 = 44&#xD;&#xA;R = 25">
<Folders>
<Folder Id="5eeffea6-e4d1-47f8-b58a-219f3fb79bd6" Name="分身" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="分身：飞剑强袭（米字）" Id="fb7f15c4-b499-4cf8-ad23-13cf7877f48b" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A0AB:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_土偶_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="新月_土偶_nTotal" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${v:新月_土偶_n} &lt;= 2 ? 0.0 : 2.1&#xD;&#xA;t:     ${v:新月_土偶_n} &lt;= 2 ? 7.7 : 5.6&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 5, 40&#xD;&#xA;---&#xD;&#xA;Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${v:新月_土偶_n} &lt;= 2 ? 0.0 : 2.1&#xD;&#xA;t:     ${v:新月_土偶_n} &lt;= 2 ? 7.7 : 5.6&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: π/4&#xD;&#xA;Scale: 5, 40&#xD;&#xA;---&#xD;&#xA;Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${v:新月_土偶_n} &lt;= 2 ? 0.0 : 2.1&#xD;&#xA;t:     ${v:新月_土偶_n} &lt;= 2 ? 7.7 : 5.6&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: π/2&#xD;&#xA;Scale: 5, 40&#xD;&#xA;---&#xD;&#xA;Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${v:新月_土偶_n} &lt;= 2 ? 0.0 : 2.1&#xD;&#xA;t:     ${v:新月_土偶_n} &lt;= 2 ? 7.7 : 5.6&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: 3*π/4&#xD;&#xA;Scale: 5, 40" ActionType="NamedCallback" />
<Action OrderNumber="4" UseTTSTextExpression="八方剑" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_土偶_nTotal}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="分身：死亡射线（扇形）" Id="1c534502-818a-4f86-814e-a7c194702648" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A0AD:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_土偶_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="新月_土偶_nTotal" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${v:新月_土偶_n} &lt;= 2 ? 0.0 : 2.1&#xD;&#xA;t:     ${v:新月_土偶_n} &lt;= 2 ? 7.7 : 5.6&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 60" ActionType="NamedCallback" />
<Action OrderNumber="4" UseTTSTextExpression="顺劈" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_土偶_nTotal}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="分身：大爆炸（钢铁）" Id="c5bc472f-1e4b-41f5-a5b8-01941a28553d" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A0AA:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_土偶_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="新月_土偶_nTotal" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${v:新月_土偶_n} &lt;= 2 ? 0.0 : 2.1&#xD;&#xA;t:     ${v:新月_土偶_n} &lt;= 2 ? 7.7 : 5.6&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 26" ActionType="NamedCallback" />
<Action OrderNumber="4" UseTTSTextExpression="钢铁" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_土偶_nTotal}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="941fbf12-a902-40f4-9e57-b3d8a276e134" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A0A6:">
<Actions>
<Action OrderNumber="1" VariableName="新月_土偶_n" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="107c0c09-dfc4-4b7e-a0ba-eaf72b2900af" Name="魔连弹" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="每个 AoE" Id="358d9a25-7536-4ebd-ae6e-26b5d9cd7f0e" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A0AF:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_土偶_魔连弹_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 6.3&#xD;&#xA;t: 3&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 6&#xD;&#xA;Color: ${if: ${v:新月_土偶_魔连弹_n} &lt; 20 ? 1, 0, 1, 1 : 0.5, 1, 1, 1 }" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="09c539af-a075-4cd4-96f4-831890148ca4" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A0AE:">
<Actions>
<Action OrderNumber="1" VariableName="新月_土偶_魔连弹_n" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="魔爆炸 AoE" Id="0eb5175a-f8d9-46e8-8e7f-673e84c1e492" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A0B2:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE，分散" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="死刑/分散点名" Id="b1b7eb27-19b9-4958-8f22-d7d0af99b58e" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;type&gt;A0B[34]):[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: 0x${type} = 0xA0B3 ? 死刑 : 分散 }点名" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="魔射线 正面扇形" Id="972bc5c6-0f3d-43eb-b62b-a63dda0e60ae" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A0B1:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan60&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 0.5&#xD;&#xA;t: 4.2&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 60" ActionType="NamedCallback" />
<Action OrderNumber="2" UseTTSTextExpression="躲开正面" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="魔闪光 AoE" Id="7d9321bc-2f75-4f87-ba39-a7901db9be94" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A0B5:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="e19f01b3-6198-4416-8475-0a4ad8670186" Name="10. 双足狮人——跃立狮 ✓?" Enabled="true" RawEnvironmentVariables="X0 = 636&#xD;&#xA;Y0 = -54&#xD;&#xA;&#xA;Z0 = 108&#xD;&#xA;R = 26&#xD;&#xA;// 都不太确定">
<Folders>
<Folder Id="e7fb78d5-b07a-4453-935f-2df6cd15dc10" Name="旋转激光" Enabled="true">
<Folders>
<Folder Id="88b7656a-6762-4d49-ae8a-c95a46b10081" Name="test -- 写不了 圆形旋转aoe缺少解析日志" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="false" Name="0. 连线倒计时" Id="2a843d7f-e306-4db9-ac62-05950fd043a8" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;.{8}):[^:]*:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0138" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="2000">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="time" VariableExpression="${_systemtimems}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" TableVariableOp="GetAllEntities" TableVariableName="test" TableVariableX="BNpcID, X, Y, Heading" TableVariableY="BNpcID = 18141 || BNpcID = 18142 || BNpcID = 17901 || BNpcID = 17863" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="3" TableVariableOp="RemoveLine" TableVariableName="test" TableVariableY="1" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="4" TableVariableOp="SlicesSetAll" TableVariableExpressionType="Numeric" TableVariableName="test" TableVariableExpression="${_this} - ${env:X0}" TableVariableX="2" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="5" TableVariableOp="SlicesSetAll" TableVariableExpressionType="Numeric" TableVariableName="test" TableVariableExpression="${_this} - ${env:Y0}" TableVariableX="3" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="6" TableVariableOp="SortLine" TableVariableName="test" TableVariableY="n: ${_row[1]}, n: ${_row[4]}" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="7" VariableOp="SetNumeric" VariableName="time" VariableExpression="${_systemtimems} - ${v:time}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="8" LogMessageText="TEST:初始:${t:test.hjoin(&quot;,&quot;, &quot;:&quot;)}|time = ${v:time} ms" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="9" LogProcess="True" LogProcessACT="True" NamedCallbackName="command" NamedCallbackParam="/e ${v:time} ms⏎${t:test.hjoin(&quot;,&quot;, &quot;⏎&quot;)}" ActionType="NamedCallback" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Name="1. 判定" Id="ad2c0d0f-62ea-4df1-83ab-8412ec128a02" RegularExpression="^.{15}\S+ 108:4.{7}:(?&lt;type&gt;A1B[AB]):[^:]*:[^:]*:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" LogMessageText="TEST:${if: ${type} == A1BA ? 激光 : 圆形 }:${x}:${y}:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="2" LogProcess="True" LogProcessACT="True" NamedCallbackName="command" NamedCallbackParam="/e TEST:${if: ${type} == A1BA ? 激光 : 圆形 }:${x}:${y}:${h}" ActionType="NamedCallback" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 获取球" Id="82cba8d7-515b-4e56-943a-adf842bfaeb0" RegularExpression="^.{15}\S+ 1A:891:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:(?&lt;stack&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e [test] ${_entity[${tid}].id, pos}" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="1. 获取激光实时角度" Id="80674dac-183f-49ba-b581-22be035b218e" RegularExpression="^.{15}\S+ AAA:23:0138:([^:]*:){15}(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="新月_狮人_激光_θ" ListVariableExpression="${h}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="_新月_狮人_激光:${l:新月_狮人_激光_θ.join(:)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:新月_狮人_激光_θ.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ListVariableName="新月_狮人_激光_θ" ActionType="ListVariable" ExecutionDelayExpression="2000" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 播报" Id="6a671b5f-d8c9-4f5f-a675-b93b34f163eb" RegularExpression="^新月_狮人_激光:(?&lt;θ&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 4.5&#xD;&#xA;Pos: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;Angle: ${θ}&#xD;&#xA;Scale: 5, 40&#xD;&#xA;---&#xD;&#xA;Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 4.5&#xD;&#xA;Pos: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;Angle: ${θ} + π/2&#xD;&#xA;Scale: 5, 28" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-14 00:52" Id="92bc55de-affb-4dac-83c0-36d659ca2d8d" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[00:18:56.804] _Tether AAA:23:0138:400042AE:跃立狮:13809:18100:636:-54:108:-0.00004792213:400042CF:魔炮:13813:18141:633.2787:-26.68186:108.03:-1.731287:0" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[00:18:56.804] _Tether AAA:23:0138:400042AD:跃立狮:13809:18100:636:-54:108:-0.00004792213:400042CE:魔炮:13813:18141:608.655:-56.75206:108.03:2.981047:0" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[00:18:56.804] _Tether AAA:23:0138:400042AC:跃立狮:13809:18100:636:-54:108:-0.00004792213:400042CD:魔炮:13813:18141:637.8889:-81.53462:108.03:1.576605:0" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[00:18:56.804] _Tether AAA:23:0138:400042AB:跃立狮:13809:18100:636:-54:108:-0.00004792213:400042CC:魔炮:13813:18141:663.482:-52.24645:108.03:0.03588379:0" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 预测激光判定角度" Id="7b77ebc7-b13a-4ef7-b505-f211e9997ba4" RegularExpression="^_新月_狮人_激光">
<Actions>
<Action OrderNumber="1" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="tmp_θ" ListVariableExpression="(${l:新月_狮人_激光_θ[${_idx}]} - ${l:新月_狮人_激光_θ[1]} + π/4) %% (π/2) + ${l:新月_狮人_激光_θ[1]} - π/4" ListVariableIndex="4" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="新月_狮人_激光:${n: (${l:tmp_θ.sum} / 4 + 0.322) % (π/2)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:新月_狮人_激光_θ.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="裂魄惊芒爪（正面顺劈）" Id="7405f33a-c51b-4b43-88a0-4bd64584c59c" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A1C3:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 5.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 40" ActionType="NamedCallback" />
<Action OrderNumber="2" UseTTSTextExpression="顺劈" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="冲击波 （四连 AoE）" Id="dcdcde39-c105-47fd-97ab-b83a641b0e9e" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A1C4:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="四连 AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="跺脚（藏进石头的光球爆炸）" Id="da28cba3-2b3b-4e8a-8c89-9eee3e68be52" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A1BF:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 4.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 12" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="d71006b3-ff50-430e-9af2-30d4881bdf20" Name="12. 厌鸟巨兽——进化加鲁拉 ✓" Enabled="true" RawEnvironmentVariables="X0 = 461&#xD;&#xA;Y0 = -363&#xD;&#xA;Z0 = 97&#xD;&#xA;R = 23">
<Folders>
<Folder Id="837ed264-3dad-4bbb-a14f-ee6f587085b5" Name="组合技" Enabled="true">
<Folders>
<Folder Id="c72f3652-c9e7-4926-a764-9e540325c162" Name="B. 突进掀地（顺劈）" Enabled="true" RawEnvironmentVariables="phase = 突进掀地">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 读条" Id="1bc1c728-72ea-4c6c-a986-46dc8727ef15" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;..{7}):A0D8:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="跟随突进，顺劈" ActionType="UseTTS" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="等待记录鸟的 ! 标记" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="4" NamedCallbackName="Channeling" NamedCallbackParam="${_entity[${sid}].Address}, ${_entity[${l:新月_厌鸟_鸟id[1]}].Address}, chn_m0272_laser_0c, 5.2" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="等待鸟停下" DescriptionOverride="True" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="5200" />
<Action OrderNumber="7" VariableOp="SetNumeric" VariableName="新月_厌鸟_掀地_θ0" VariableExpression="θ(${env:X0}, ${env:Y0}, ${_entity[${l:新月_厌鸟_鸟id[1]}].XY})" ActionType="Variable" />
<Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="等待鸟飞走" DescriptionOverride="True" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="1200" />
<Action OrderNumber="10" VariableOp="SetNumeric" VariableName="新月_厌鸟_掀地_b顺" VariableExpression="relθ(${v:新月_厌鸟_掀地_θ0}, θ(${env:X0}, ${env:Y0}, ${_entity[${l:新月_厌鸟_鸟id[1]}].XY})) &lt; 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" UseTTSTextExpression="去${if: ${v:新月_厌鸟_掀地_b顺} ? 左 : 右 }侧" ActionType="UseTTS" />
<Action OrderNumber="12" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan120&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 3.3&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: θ(${env:X0}, ${env:Y0}, ${_entity[${sid}].XY})&#xD;&#xA;Pos: 0, -23&#xD;&#xA;Angle: ${v:新月_厌鸟_掀地_b顺} ? 33.6° : -33.6°&#xD;&#xA;Scale: 60" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="13" ListVariableOp="Remove" ListVariableName="新月_厌鸟_鸟id" ListVariableIndex="1" ActionType="ListVariable" ExecutionDelayExpression="1000" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-16 03:02" Id="d10fe81c-2794-487a-a022-0c2655d214c6" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[00:47:58.127] TargetIcon 1B:${_entity[新月捕捉草].id}:叽喳鸟:0000:0000:0242:${_entity[新月捕捉草].id}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[00:47:58.214] 263 107:${_me.id}:A0D8:461.013:-363.018:97.171:-0.922" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="3ef9b0fb-6ae8-48f7-98f7-042c895974e9" Name="C. 连续突进跺地" Enabled="true" RawEnvironmentVariables="phase = 连续突进跺地">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 读条" Id="1e2411df-13cf-4e7b-93f5-a0da4618d3ca" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;..{7}):A0D9:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="等待记录鸟的 ! 标记" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="3" LogMessageText="新月_厌鸟_突进跺地:x:${x}:y:${y}:t1:5.2:t2:8.4" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="8400" />
<Action OrderNumber="5" LogMessageText="新月_厌鸟_突进跺地:x:${_entity[${sid}].x}:y:${_entity[${sid}].y}:t1:3.9:t2:7.2" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="7200" />
<Action OrderNumber="7" LogMessageText="新月_厌鸟_突进跺地:x:${_entity[${sid}].x}:y:${_entity[${sid}].y}:t1:3.9:t2:7.1" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-16 03:02" Id="9a999928-6a73-4b8a-8bea-45c75f21475d" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[00:49:08.984] TargetIcon 1B:${_entity[新月捕捉草].id}:叽喳鸟:0000:0000:0242:${_entity[新月捕捉草].id}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[00:49:09.065] 263 107:${_me.id}:A0D9:461.013:-363.018:97.171:0.417" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="6.23 * 1000" />
<Action OrderNumber="4" LogMessageText="[00:49:15.216] TargetIcon 1B:${_entity[新月莱西].id}:叽喳鸟:0000:0000:0242:${_entity[新月捕捉草].id}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="7.13 * 1000" />
<Action OrderNumber="6" LogMessageText="[00:49:22.344] TargetIcon 1B:${_entity[新月捕捉草].id}:叽喳鸟:0000:0000:0242:${_entity[新月捕捉草].id}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="de60aeef-210d-4fcc-8ea3-a97b1695166e" Name="A. 突进跺地（钢铁）" Enabled="true" RawEnvironmentVariables="phase = 突进跺地">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 读条" Id="c1cfe78b-35a2-4b75-aed4-6593d2064ec8" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;..{7}):A0D7:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="等待记录鸟的 ! 标记" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="3" LogMessageText="新月_厌鸟_突进跺地:x:${x}:y:${y}:t1:5.2:t2:8.3" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-16 03:02" Id="c84cf33c-4029-46d0-83ca-dea151728fc4" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[00:47:25.727] TargetIcon 1B:${_entity[新月捕捉草].id}:叽喳鸟:0000:0000:0242:${_entity[新月捕捉草].id}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[00:47:25.813] 263 107:${_me.id}:A0D7:461.013:-363.018:97.171:-0.524" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="鸟 ! 标记" Id="580b55fd-aaf4-46e5-bb80-758876015eac" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0242:">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="新月_厌鸟_鸟id" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="[F] 突进跺地" Id="f3031c62-bc57-4982-ad33-e90c0293217d" RegularExpression="^新月_厌鸟_突进跺地:x:(?&lt;x&gt;[^:]*):y:(?&lt;y&gt;[^:]*):t1:(?&lt;t1&gt;[^:]*):t2:(?&lt;t2&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="冲锋终点为鸟所在的径向的场边，但冲锋之后面向（决定扇形方向）是按照 boss → 鸟（在场外，而非 boss 在场边的落点）的方向" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="command" NamedCallbackParam="/e [Debug] Status&#xD;&#xA;0x808: ${_entity[bnpcid = 18078].StatusStack(0x808)}&#xD;&#xA;0x891: ${_entity[bnpcid = 18078].StatusStack(0x891)}" Enabled="False" ActionType="NamedCallback" DescBgColor="fdd" />
<Action OrderNumber="3" UseTTSTextExpression="突进，钢铁" ActionType="UseTTS" />
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="鸟的 xy、中心到鸟的方向" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetString" VariableName="tmp_鸟XY" VariableExpression="${_entity[${l:新月_厌鸟_鸟id[1]}].XY}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" VariableOp="SetNumeric" VariableName="tmp_鸟θ" VariableExpression="θ(${env:X0}, ${env:Y0}, ${v:tmp_鸟XY})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="该方向场边的 xy（即冲锋终点）" DescriptionOverride="True" />
<Action OrderNumber="8" VariableOp="SetString" VariableName="tmp_鸟场边XY" VariableExpression="${n: ${env:X0} + 23 * sin(${v:tmp_鸟θ})}, ${n: ${env:Y0} + 23 * cos(${v:tmp_鸟θ})}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="读取 boss 的 vfx buff 判断正 (848)/斜 (849)，解析插件新月岛 Status 相关日志行暂时有 bug" DescriptionOverride="True" />
<Action OrderNumber="10" VariableOp="SetNumeric" VariableName="tmp_b正十字雷" VariableExpression="${_entity[bnpcid = 18078].StatusStack(0x891)} = 848" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" ActionType="Placeholder" Asynchronous="False" Description="boss 绝对面向（跳跃方向）" DescriptionOverride="True" />
<Action OrderNumber="12" VariableOp="SetNumeric" VariableName="tmp_angle" VariableExpression="θ(${x}, ${y}, ${v:tmp_鸟场边XY})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="13" ActionType="Placeholder" Asynchronous="False" Description="画直条+钢铁范围" DescriptionOverride="True" />
<Action OrderNumber="14" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 0.001&#xD;&#xA;t: ${t1}&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Angle: θ(${x}, ${y}, ${v:tmp_鸟XY})&#xD;&#xA;Scale: 4, ${n: d(${x}, ${y}, ${v:tmp_鸟XY})}&#xD;&#xA;---&#xD;&#xA;// 边缘&#xD;&#xA;Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 0.001&#xD;&#xA;t: ${t2}&#xD;&#xA;Pos: ${v:tmp_鸟场边XY}, ${env:Z0}&#xD;&#xA;Scale: 30 * 1.09&#xD;&#xA;---&#xD;&#xA;Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${t1}&#xD;&#xA;t: ${t2} - ${t1}&#xD;&#xA;Pos: ${v:tmp_鸟场边XY}, ${env:Z0}&#xD;&#xA;Scale: 30" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd" />
<Action OrderNumber="15" ActionType="Placeholder" Asynchronous="False" Description="正/斜两种情况分别画扇形 （比钢铁时间长一秒）" DescriptionOverride="True" />
<Action OrderNumber="16" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan45&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${t1}&#xD;&#xA;t: ${t2} - ${t1} + 1&#xD;&#xA;Pos: ${v:tmp_鸟场边XY}, ${env:Z0}&#xD;&#xA;Angle: ${v:tmp_angle} + 90°&#xD;&#xA;Scale: 60&#xD;&#xA;---&#xD;&#xA;Omen: Fan45&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${t1}&#xD;&#xA;t: ${t2} - ${t1} + 1&#xD;&#xA;Pos: ${v:tmp_鸟场边XY}, ${env:Z0}&#xD;&#xA;Angle: ${v:tmp_angle} + 180°&#xD;&#xA;Scale: 60&#xD;&#xA;---&#xD;&#xA;Omen: Fan45&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${t1}&#xD;&#xA;t: ${t2} - ${t1} + 1&#xD;&#xA;Pos: ${v:tmp_鸟场边XY}, ${env:Z0}&#xD;&#xA;Angle: ${v:tmp_angle} + 270°&#xD;&#xA;Scale: 60" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_b正十字雷}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="17" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan45&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${t1}&#xD;&#xA;t: ${t2} - ${t1} + 1&#xD;&#xA;Pos: ${v:tmp_鸟场边XY}, ${env:Z0}&#xD;&#xA;Angle: ${v:tmp_angle} + 135°&#xD;&#xA;Scale: 60&#xD;&#xA;---&#xD;&#xA;Omen: Fan45&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${t1}&#xD;&#xA;t: ${t2} - ${t1} + 1&#xD;&#xA;Pos: ${v:tmp_鸟场边XY}, ${env:Z0}&#xD;&#xA;Angle: ${v:tmp_angle} + 225°&#xD;&#xA;Scale: 60" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_b正十字雷}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="18" VariableName="tmp_鸟XY" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="19" VariableName="tmp_鸟θ" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="20" VariableName="tmp_鸟场边XY" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="21" VariableName="tmp_b正十字雷" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="22" VariableName="tmp_angle" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="23" ListVariableOp="Remove" ListVariableName="新月_厌鸟_鸟id" ListVariableIndex="1" ActionType="ListVariable" Asynchronous="False" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="踩扁 死刑" Id="ff5c5e98-22cc-47ad-adb7-a8b00946ae45" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A0E5:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${tid} == ${_me.id} ? 死刑点名 : 队友死刑 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].InParty}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="掀地" Id="4677270b-bcb9-45b9-b887-0ff6fe1f49fd" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A8FE:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="躲正面" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan120&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 3.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 40" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="盛怒咆哮 AoE" Id="e6943bb4-9c17-4a3d-90e6-e4f0cefa49b4" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A0E4:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="d20ddd61-acc1-40b1-8ddb-41c5f12968d9" Name="04. 潜影撕裂者——死亡爪 ✓" Enabled="true" RawEnvironmentVariables="X0 = 681&#xD;&#xA;Y0 = 534&#xD;&#xA;&#xA;Z0 = 74&#xD;&#xA;L = 21">
<Folders>
<Folder Id="bf2cf557-c3eb-45d2-8400-86b682157e8b" Name="A. 抓痕" Enabled="true" RawEnvironmentVariables="phase = 抓痕">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化" Id="5f7f3dde-3dc3-467b-baa0-5a63325c7f48" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A15D:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="新月_死爪_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^新月_死爪_抓痕_1" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 抓痕" Id="2ca48a03-38b7-499e-9712-76fbca4b8596" RegularExpression="^新月_死爪_抓痕:b列:1:idx:(?&lt;idx&gt;1|6)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="5000">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${idx} = 1 ? 右穿左 : 左穿右 }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;ScaleX: ${idx} = 1 ? 1 : -1&#xD;&#xA;1:  8.1, 0&#xD;&#xA;2: -8.1, 0" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 0&#xD;&#xA;t: 6.5&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;Pos: ${idx} = 1 ? -7 : 7, -21&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 14, 42&#xD;&#xA;---&#xD;&#xA;Omen: Rect&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 6.5&#xD;&#xA;t: 4.2&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;Pos: ${idx} = 1 ? 7 : -7, -21&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 14, 42" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;load" ActionType="NamedCallback" ExecutionDelayExpression="11200" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_死爪_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="805baf37-a255-4782-8573-f3d3e5e83264" Name="C. 三重抓痕" Enabled="true" RawEnvironmentVariables="phase = 三重抓痕">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化" Id="11b9ef0f-5a44-41eb-90b5-920e3cac2c45" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A15E:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="新月_死爪_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^新月_死爪_抓痕_3" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 抓痕 =&gt; 2" Id="806e0036-a3d2-46ed-a165-5eb3d0d00d76" RegularExpression="^新月_死爪_抓痕:b列:1:idx:(?&lt;idx&gt;[1-6])">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="新月_死爪_抓痕_3" ListVariableExpression="${idx}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="新月_死爪_抓痕_3:n:${n: ${l:新月_死爪_抓痕_3.size} / 5}:idx:${n: 21 - ${l:新月_死爪_抓痕_3.sum(-5:)}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:新月_死爪_抓痕_3.size} % 5" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_死爪_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 播报" Id="b522cace-8993-4af2-bb5f-e1b2d1c0200d" RegularExpression="^新月_死爪_抓痕_3:n:(?&lt;n&gt;[1-3]):idx:(?&lt;idx&gt;[1-6])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="第${idx}列" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;${n}: ${idx} * 7 - 24.5, 0" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m0531_sp03l_o0v&#xD;&#xA;Tag: 新月_死爪_抓痕_3_${n}&#xD;&#xA;t: 4.2 + 2.1 * ${n}&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;Pos: ${idx} * 7 - 24.5, -21&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 3.5, 42&#xD;&#xA;Color: ${if: ${n} = 1 ? 1,1,1,1 : 0.5,1,0.3,1 }&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Tag: 新月_死爪_抓痕_3_${n}&#xD;&#xA;delay: 2.1 * ${n}&#xD;&#xA;color: 1,1,1,1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" UseTTSTextExpression="穿" ActionType="UseTTS" ExecutionDelayExpression="4200 + 2100 * ${n}">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="${n}: clear" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-14 17:12" Id="13304f99-0b5e-46b7-8781-d54cd1ceba35" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[05:47:02.166] StartsCasting 14:4000FA4B:死亡爪:A15E:三重抓痕:4000FA4B:死亡爪:4.700:681.20:534.18:74.00:-2.83" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="3" LogMessageText="[05:47:08.588] AddCombatant 03:4000FAB2:抓痕:00:64:0000:00::13658:18120:8322860:8322860:10000:10000:::691.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[05:47:08.588] AddCombatant 03:4000FAB3:抓痕:00:64:0000:00::13658:18120:8322860:8322860:10000:10000:::684.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[05:47:08.588] AddCombatant 03:4000FAB1:抓痕:00:64:0000:00::13658:18120:8322860:8322860:10000:10000:::698.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[05:47:08.588] AddCombatant 03:4000FAB4:抓痕:00:64:0000:00::13658:18120:8322860:8322860:10000:10000:::677.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[05:47:08.588] AddCombatant 03:4000FAB5:抓痕:00:64:0000:00::13658:18120:8322860:8322860:10000:10000:::663.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="1.96 * 1000" />
<Action OrderNumber="9" LogMessageText="[05:47:10.550] AddCombatant 03:4000FAB6:抓痕:00:64:0000:00::13658:18119:8322860:8322860:10000:10000:::698.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[05:47:10.550] AddCombatant 03:4000FAB7:抓痕:00:64:0000:00::13658:18119:8322860:8322860:10000:10000:::684.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[05:47:10.550] AddCombatant 03:4000FAB8:抓痕:00:64:0000:00::13658:18119:8322860:8322860:10000:10000:::677.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[05:47:10.550] AddCombatant 03:4000FAB9:抓痕:00:64:0000:00::13658:18119:8322860:8322860:10000:10000:::670.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[05:47:10.550] AddCombatant 03:4000FABA:抓痕:00:64:0000:00::13658:18119:8322860:8322860:10000:10000:::663.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="15" LogMessageText="[05:47:12.644] AddCombatant 03:4000FAC5:抓痕:00:64:0000:00::13658:18118:8322860:8322860:10000:10000:::684.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[05:47:12.644] AddCombatant 03:4000FAC6:抓痕:00:64:0000:00::13658:18118:8322860:8322860:10000:10000:::670.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[05:47:12.644] AddCombatant 03:4000FAC3:抓痕:00:64:0000:00::13658:18118:8322860:8322860:10000:10000:::698.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[05:47:12.644] AddCombatant 03:4000FAC4:抓痕:00:64:0000:00::13658:18118:8322860:8322860:10000:10000:::691.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="[05:47:12.644] AddCombatant 03:4000FAC7:抓痕:00:64:0000:00::13658:18118:8322860:8322860:10000:10000:::663.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="74599bd4-cb51-4e9d-a2da-ee644108401f" Name="B. 多重抓痕" Enabled="true" RawEnvironmentVariables="phase = 多重抓痕">
<Folders />
<Triggers>
<Trigger Enabled="true" Sequential="True" Name="0. 初始化" Id="5ad3bfe9-a938-42b1-95bc-0905ed5e9e9e" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A15F:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="新月_死爪_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^新月_死爪_抓痕_2" ActionType="Variable" />
<Action OrderNumber="3" ListVariableOp="SetAll" ListVariableName="新月_死爪_抓痕_2_行1" ListVariableExpression="${_idx}" ListVariableIndex="6" ActionType="ListVariable" />
<Action OrderNumber="4" ListVariableOp="SetAll" ListVariableName="新月_死爪_抓痕_2_行2" ListVariableExpression="${_idx}" ListVariableIndex="6" ActionType="ListVariable" />
<Action OrderNumber="5" ListVariableOp="SetAll" ListVariableName="新月_死爪_抓痕_2_列1" ListVariableExpression="${_idx}" ListVariableIndex="6" ActionType="ListVariable" />
<Action OrderNumber="6" ListVariableOp="SetAll" ListVariableName="新月_死爪_抓痕_2_列2" ListVariableExpression="${_idx}" ListVariableIndex="6" ActionType="ListVariable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 抓痕 =&gt; 2" Id="d996db6c-1f1c-4481-9d27-9bc3ebd28acf" RegularExpression="^新月_死爪_抓痕:b列:(?&lt;b列&gt;[01]):idx:(?&lt;idx&gt;[1-6])">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_死爪_抓痕_2_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" ListVariableOp="Remove" ListVariableName="新月_死爪_抓痕_2_${if: ${b列} ? 列 : 行 }1" ListVariableIndex="${l:新月_死爪_抓痕_2_${if: ${b列} ? 列 : 行 }1.indexof(${idx})}" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_死爪_抓痕_2_n}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Action>
<Action OrderNumber="3" ListVariableOp="Remove" ListVariableName="新月_死爪_抓痕_2_${if: ${b列} ? 列 : 行 }2" ListVariableIndex="${l:新月_死爪_抓痕_2_${if: ${b列} ? 列 : 行 }2.indexof(${idx})}" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_死爪_抓痕_2_n}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="4" LogMessageText="新月_死爪_抓痕_2:n:1:行:${l:新月_死爪_抓痕_2_行1.join(&quot;&quot;)}:列:${l:新月_死爪_抓痕_2_列1.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_死爪_抓痕_2_n}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" LogMessageText="新月_死爪_抓痕_2:n:2:行:${l:新月_死爪_抓痕_2_行2.join(&quot;&quot;)}:列:${l:新月_死爪_抓痕_2_列2.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_死爪_抓痕_2_n}" ExpressionTypeL="String" ExpressionR="16" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_死爪_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 播报" Id="c948adb7-5eb1-4619-9020-2d2ba31272ab" RegularExpression="^新月_死爪_抓痕_2:n:(?&lt;n&gt;[12]):行:(?&lt;row1&gt;[1-6])(?&lt;row2&gt;[1-6]):列:(?&lt;col1&gt;[1-6])(?&lt;col2&gt;[1-6])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;1: ${col1} * 7 - 24.5, ${row1} * 7 - 24.5&#xD;&#xA;A: ${col2} * 7 - 24.5, ${row1} * 7 - 24.5&#xD;&#xA;3: ${col1} * 7 - 24.5, ${row2} * 7 - 24.5&#xD;&#xA;C: ${col2} * 7 - 24.5, ${row2} * 7 - 24.5" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${env:X0}, ${env:Y0}, ${env:Z0} - 2&#xD;&#xA;2: ${col1} * 7 - 24.5, ${row1} * 7 - 24.5&#xD;&#xA;B: ${col2} * 7 - 24.5, ${row1} * 7 - 24.5&#xD;&#xA;4: ${col1} * 7 - 24.5, ${row2} * 7 - 24.5&#xD;&#xA;D: ${col2} * 7 - 24.5, ${row2} * 7 - 24.5" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m0531_sp03l_o0v&#xD;&#xA;Tag: 新月_死爪_抓痕_2_${n}&#xD;&#xA;t: ${n} = 1 ? 6.7 : 8.7&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;Pos: ${col1} * 7 - 24.5, ${row1} * 7 - 28&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 3.5, 7&#xD;&#xA;Color: ${if: ${n} = 1 ? 0,1,1,1 : 0.5,1,0.3,1 }&#xD;&#xA;---&#xD;&#xA;Omen: m0531_sp03l_o0v&#xD;&#xA;Tag: 新月_死爪_抓痕_2_${n}&#xD;&#xA;t: ${n} = 1 ? 6.7 : 8.7&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;Pos: ${col2} * 7 - 24.5, ${row1} * 7 - 28&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 3.5, 7&#xD;&#xA;Color: ${if: ${n} = 1 ? 0,1,1,1 : 0.5,1,0.3,1 }&#xD;&#xA;---&#xD;&#xA;Omen: m0531_sp03l_o0v&#xD;&#xA;Tag: 新月_死爪_抓痕_2_${n}&#xD;&#xA;t: ${n} = 1 ? 6.7 : 8.7&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;Pos: ${col1} * 7 - 24.5, ${row2} * 7 - 28&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 3.5, 7&#xD;&#xA;Color: ${if: ${n} = 1 ? 0,1,1,1 : 0.5,1,0.3,1 }&#xD;&#xA;---&#xD;&#xA;Omen: m0531_sp03l_o0v&#xD;&#xA;Tag: 新月_死爪_抓痕_2_${n}&#xD;&#xA;t: ${n} = 1 ? 6.7 : 8.7&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;Pos: ${col2} * 7 - 24.5, ${row2} * 7 - 28&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 3.5, 7&#xD;&#xA;Color: ${if: ${n} = 1 ? 0,1,1,1 : 0.5,1,0.3,1 }" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="${n} = 1 ? 6700 : 8700" />
<Action OrderNumber="5" UseTTSTextExpression="穿" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="1: clear&#xD;&#xA;A: clear&#xD;&#xA;3: clear&#xD;&#xA;C: clear" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="AdvWm" NamedCallbackParam="2: clear&#xD;&#xA;B: clear&#xD;&#xA;4: clear&#xD;&#xA;D: clear" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-14 17:37" Id="209f4b9a-2866-4d98-ba02-5eb0fa8d8c4b" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[17:32:37.260] StartsCasting 14:4001D485:死亡爪:A15F:多重抓痕:4001D485:死亡爪:4.700:680.96:533.99:74.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="3" LogMessageText="[17:32:43.779] AddCombatant 03:4001D537:抓痕:00:64:0000:00::13658:18118:9339680:9339680:10000:10000:::670.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[17:32:43.779] AddCombatant 03:4001D538:抓痕:00:64:0000:00::13658:18118:9339680:9339680:10000:10000:::705.97:551.52:74.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[17:32:43.779] AddCombatant 03:4001D539:抓痕:00:64:0000:00::13658:18118:9339680:9339680:10000:10000:::705.98:516.52:74.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[17:32:43.779] AddCombatant 03:4001D53A:抓痕:00:64:0000:00::13658:18118:9339680:9339680:10000:10000:::698.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[17:32:43.779] AddCombatant 03:4001D53B:抓痕:00:64:0000:00::13658:18118:9339680:9339680:10000:10000:::663.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[17:32:43.889] AddCombatant 03:4001D534:抓痕:00:64:0000:00::13658:18118:9339680:9339680:10000:10000:::705.97:530.52:74.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[17:32:43.889] AddCombatant 03:4001D536:抓痕:00:64:0000:00::13658:18118:9339680:9339680:10000:10000:::677.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[17:32:43.889] AddCombatant 03:4001D535:抓痕:00:64:0000:00::13658:18118:9339680:9339680:10000:10000:::705.98:523.52:74.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="1910" />
<Action OrderNumber="12" LogMessageText="[17:32:45.686] AddCombatant 03:4001D541:抓痕:00:64:0000:00::13658:18119:9339680:9339680:10000:10000:::705.97:551.52:74.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[17:32:45.686] AddCombatant 03:4001D540:抓痕:00:64:0000:00::13658:18119:9339680:9339680:10000:10000:::684.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[17:32:45.686] AddCombatant 03:4001D542:抓痕:00:64:0000:00::13658:18119:9339680:9339680:10000:10000:::705.98:516.52:74.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[17:32:45.796] AddCombatant 03:4001D543:抓痕:00:64:0000:00::13658:18119:9339680:9339680:10000:10000:::698.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[17:32:45.796] AddCombatant 03:4001D544:抓痕:00:64:0000:00::13658:18119:9339680:9339680:10000:10000:::663.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[17:32:45.796] AddCombatant 03:4001D53F:抓痕:00:64:0000:00::13658:18119:9339680:9339680:10000:10000:::691.47:509.00:74.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[17:32:45.796] AddCombatant 03:4001D53E:抓痕:00:64:0000:00::13658:18119:9339680:9339680:10000:10000:::705.97:537.52:74.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="[17:32:45.796] AddCombatant 03:4001D53D:抓痕:00:64:0000:00::13658:18119:9339680:9339680:10000:10000:::705.97:544.52:74.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="9de0e361-9e08-42c3-aafd-abe706ae0c17" Name="双重抓 + 处刑令" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 处刑令" Id="033a18d4-2be1-4ca1-badb-ed4bef5a0b00" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;type&gt;A16E|A171):">
<Actions>
<Action OrderNumber="1" VariableName="新月_死爪_处刑令_n" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 纵/横向双重抓（有抓痕）" Id="e5609a71-4ff9-4ec5-a5bd-93a80b72a55a" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A16[BC]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="前一组 id 的技能有后续抓痕扇形？" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_死爪_双重抓_b纵向" VariableExpression="0x${aid} = 0xA16B" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" UseTTSTextExpression="${if: ${v:新月_死爪_双重抓_b纵向} ? 先去左右 : 先去前后 }" ActionType="UseTTS" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 0&#xD;&#xA;t: 4.6&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} + (${v:新月_死爪_双重抓_b纵向} ? 0 : π/2)&#xD;&#xA;Scale: 40&#xD;&#xA;---&#xD;&#xA;Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: 0&#xD;&#xA;t: 4.6&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} + π + (${v:新月_死爪_双重抓_b纵向} ? 0 : π/2)&#xD;&#xA;Scale: 40&#xD;&#xA;---&#xD;&#xA;Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 4.6&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} + π/2 + (${v:新月_死爪_双重抓_b纵向} ? 0 : π/2)&#xD;&#xA;Scale: 40&#xD;&#xA;---&#xD;&#xA;Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 4.6&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} - π/2 + (${v:新月_死爪_双重抓_b纵向} ? 0 : π/2)&#xD;&#xA;Scale: 40" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 扇形" Id="a3e0e5e6-a1f1-4974-aae5-9126fd8731c4" RegularExpression="^.{15}\S+ AAA:204:10:20:[^:]*:[^:]*:[^:]*:2014448:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_死爪_处刑令_n" VariableExpression="1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${v:新月_死爪_处刑令_n} &lt;= 2 ? 0.0 : 5.0&#xD;&#xA;t:     ${v:新月_死爪_处刑令_n} &lt;= 2 ? 7.5 : 5.0&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 40" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 纵/横向双重抓 (无抓痕)" Id="8e0e01c2-28e1-447f-92f6-4ac7607808f4" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A17[23]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="前一组 id 的技能有后续抓痕扇形？" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_死爪_双重抓_b纵向" VariableExpression="0x${aid} = 0xA172" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" UseTTSTextExpression="${if: ${v:新月_死爪_双重抓_b纵向} ? 先去左右 : 先去前后 }" ActionType="UseTTS" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: ${v:新月_死爪_phase} == 多重抓痕 ? 1.4 : 0&#xD;&#xA;t:     ${v:新月_死爪_phase} == 多重抓痕 ? 5.7 : 7.1&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} + (${v:新月_死爪_双重抓_b纵向} ? 0 : π/2)&#xD;&#xA;Scale: 40&#xD;&#xA;---&#xD;&#xA;Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;Delay: ${v:新月_死爪_phase} == 多重抓痕 ? 1.4 : 0&#xD;&#xA;t:     ${v:新月_死爪_phase} == 多重抓痕 ? 5.7 : 7.1&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} + π + (${v:新月_死爪_双重抓_b纵向} ? 0 : π/2)&#xD;&#xA;Scale: 40&#xD;&#xA;---&#xD;&#xA;Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 7.1&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} + π/2 + (${v:新月_死爪_双重抓_b纵向} ? 0 : π/2)&#xD;&#xA;Scale: 40&#xD;&#xA;---&#xD;&#xA;Omen: Fan90&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 7.1&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} - π/2 + (${v:新月_死爪_双重抓_b纵向} ? 0 : π/2)&#xD;&#xA;Scale: 40" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="腐坏爪 死刑" Id="de72e995-7c68-442a-90be-cdea62f74855" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A174:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${tid} == ${_me.id} ? 死刑点名 : 队友死刑 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].InParty}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="抓痕转录" Id="5bf2cbcb-fae7-488a-aead-f86e4020f67a" RegularExpression="^.{15}\S+ 03:4.{7}:([^:]*:){7}181(18|19|20):([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_b列" VariableExpression="roundir(${h}, 4) % 2 = 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="新月_死爪_抓痕:b列:${v:tmp_b列}:idx:${n: round((${v:tmp_b列} ? ${x} - ${env:X0} + 24.5 : ${y} - ${env:Y0} + 24.5) / 7) }" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="3" VariableName="tmp_b列" ActionType="Variable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="流血 AoE" Id="1ac03427-1d7d-4543-a1db-0e793013d184" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A175:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="流血AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="4efc6bfa-9e1d-429d-8377-fa0ba3c99e03" Name="05. 挣脱封印的大妖异——回廊恶魔 ✓" Enabled="true" RawEnvironmentVariables="X0 = -340&#xD;&#xA;Y0 = 800&#xD;&#xA;&#xA;Z0 = 75&#xD;&#xA;R = 20">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="小圆形 (后半段读条时间加红)" Id="aea04796-48c7-4cd0-8c1f-aed7c4caa798" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A18C:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: circle&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: 3&#xD;&#xA;t: 2.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 10&#xD;&#xA;Color: 1,0,1,1" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="火球" Id="3fed5091-1700-420a-8c1e-8cd00533d329" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A18D:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: circle&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 4.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 22&#xD;&#xA;color: 1, 0.3, 1, 1.5" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="流血 AoE" Id="a6c1f9ba-4544-4dec-9490-1f2eafe42877" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A191:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="流血AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="怒潮吐息 正面180" Id="8639ba4c-58a5-46a2-8b9b-a7b21a6aa24d" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A190:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan180&#xD;&#xA;Tag: 新月_妖异_怒潮吐息&#xD;&#xA;t: 6.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: 0${h}&#xD;&#xA;Scale: 40&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Tag: 新月_妖异_怒潮吐息&#xD;&#xA;Delay: 3.7&#xD;&#xA;Color: 1, 0.3, 1, 1.5" ActionType="NamedCallback" />
<Action OrderNumber="2" UseTTSTextExpression="去背面" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="AoE" Id="af2ec05b-6781-4728-815c-2472e9ec22d3" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A178:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="1264d9d8-1509-4106-ab6e-7a14d2630f83" Name="15. 昏暗妖魂——鬼火苗 ✓" Enabled="true" RawEnvironmentVariables="X0 = -570&#xD;&#xA;Y0 = -160&#xD;&#xA;&#xA;Z0 = 97&#xD;&#xA;R = 20">
<Folders>
<Folder Id="121a339a-6653-4938-8ca0-4d6426b59f16" Name="附身" Enabled="true">
<Folders>
<Folder Id="7b7bec96-0d0a-4fc5-a042-e71dbb8ff50b" Name="附身2（双分身）" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 处理" Id="84052ea9-ffe2-4989-a5a5-dee8ff658ea4" RegularExpression="^新月_鬼火_附身2_转移:n:(?&lt;n&gt;[12]):ΔdirN4:(?&lt;ΔdirN4&gt;[13])" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="每接收一次顺/逆转移的转发日志，播报两次技能" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="第一次接收到时，将偏移量加在记录的第一个方向上" DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="新月_鬼火_附身2_dirN4" VariableExpression="(${v:新月_鬼火_附身_dirN4_0} + ${ΔdirN4}) %% 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="第二次接收到时，将偏移量加在第一次加完的方向上" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="新月_鬼火_附身2_dirN4" VariableExpression="(${v:新月_鬼火_附身2_dirN4} + ${ΔdirN4}) %% 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" LogMessageText="新月_鬼火_附身:${l:新月_鬼火_附身[${n: ${n} * 2 - 1}]}:dirN4:${v:新月_鬼火_附身2_dirN4}:t:4.5" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="4500" />
<Action OrderNumber="8" LogMessageText="新月_鬼火_附身:${l:新月_鬼火_附身[${n: ${n} * 2}]}:dirN4:${n: (${v:新月_鬼火_附身2_dirN4} + 2) % 4}:t:3" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化 附魂" Id="21ae49d5-9b3a-40c7-ac00-d67d846a5719" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A19A:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^新月_鬼火_附身" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="新月_鬼火_附身_phase" VariableExpression="2" ActionType="Variable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 附身转移 =&gt; 2" Id="01fe4112-6194-4b0c-96b7-b947549dafd6" RegularExpression="^.{15}\S+ 1[56]:(?&lt;sid&gt;4.{7}):[^:]*:A19B:[^:]*:(?&lt;tid&gt;4.{7}):" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="这条和setpos同时 所以需要读取位置" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="第 1/4 组转移是 boss 本体 ↔ 分身，所以只在 n = 2/3 时输出" DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="Increment" VariableName="新月_鬼火_附身2_转移_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="新月_鬼火_附身2_转移:n:${n: ${v:新月_鬼火_附身2_转移_n} - 1}:ΔdirN4:${n: (roundvec(${_entity[${tid}].x} - ${env:X0}, ${_entity[${tid}].y} - ${env:Y0}, -4) - roundvec(${_entity[${sid}].x} - ${env:X0}, ${_entity[${sid}].y} - ${env:Y0}, -4)) %% 4}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_鬼火_附身2_转移_n}" ExpressionTypeL="String" ExpressionR="[23]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#xD;&#xA;n - 1 = ${n: ${v:新月_鬼火_附身2_转移_n} - 1}&#xD;&#xA;src = ${_entity[${sid}].pos}&#xD;&#xA;tgt = ${_entity[${tid}].pos}" Enabled="False" ActionType="NamedCallback" DescBgColor="fdd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_鬼火_附身2_转移_n}" ExpressionTypeL="String" ExpressionR="[23]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:新月_鬼火_附身_phase}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-13 17:40" Id="8db63ab3-263f-4f69-ad0d-f30f47539913" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[20:28:06.737] StartsCasting 14:40003C7B:鬼火苗:A19A:附魂:40003C7B:鬼火苗:4.700:-568.80:-160.18:97.00:-2.34" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="400" />
<Action OrderNumber="3" LogMessageText="[20:28:12.698] ActionEffect 15:40003C84:鬼火苗:A19B:unknown_a19b:40003C77:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-559.39:-149.39:97.00:-2.36:44:44:0:10000:::-570.00:-160.00:97.00:-3.14:0003E04F:0:1:00::01:A19B:A19B:1.600:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[20:28:12.698] ActionEffect 15:40003C85:鬼火苗:A19B:unknown_a19b:40003C7A:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-580.61:-170.61:97.00:0.79:44:44:0:10000:::-570.00:-160.00:97.00:-3.14:0003E050:0:1:00::01:A19B:A19B:1.600:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="400" />
<Action OrderNumber="6" LogMessageText="[20:28:18.361] 263 107:40003C7D:A1A1:-559.404:-149.388:96.988:-2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="400" />
<Action OrderNumber="8" LogMessageText="[20:28:21.121] 263 107:40003C7C:A1A3:-580.615:-170.599:96.988:0.785" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="400" />
<Action OrderNumber="10" LogMessageText="[20:28:23.844] 263 107:40003C7D:A19E:-559.404:-149.388:96.988:-2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="400" />
<Action OrderNumber="12" LogMessageText="[20:28:26.606] 263 107:40003C7C:A1A1:-580.615:-170.599:96.988:0.785" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="400" />
<Action OrderNumber="14" LogMessageText="[20:28:31.241] ActionEffect 15:40003C7C:鬼火苗:A19B:unknown_a19b:40003C79:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-559.39:-170.61:97.00:-0.79:44:44:0:10000:::-580.61:-170.61:97.00:0.79:0003E295:0:1:00::01:A19B:A19B:1.600:9FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[20:28:31.241] ActionEffect 15:40003C7D:鬼火苗:A19B:unknown_a19b:40003C78:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-580.61:-149.39:97.00:2.36:44:44:0:10000:::-559.39:-149.39:97.00:-2.36:0003E296:0:1:00::01:A19B:A19B:1.600:1FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="12.71 * 1000" />
<Action OrderNumber="17" LogMessageText="[20:28:43.942] ActionEffect 15:40003C7C:鬼火苗:A19B:unknown_a19b:40003C77:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-559.39:-149.39:97.00:-2.36:44:44:0:10000:::-559.39:-170.61:97.00:-0.79:0003E3D1:0:1:00::01:A19B:A19B:1.600:5FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[20:28:43.942] ActionEffect 15:40003C7D:鬼火苗:A19B:unknown_a19b:40003C7A:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-580.61:-170.61:97.00:0.79:44:44:0:10000:::-580.61:-149.39:97.00:2.36:0003E3D2:0:1:00::01:A19B:A19B:1.600:DFFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="7.93 * 1000" />
<Action OrderNumber="20" LogMessageText="[20:28:51.881] ActionEffect 15:40003C7C:鬼火苗:A19B:unknown_a19b:40003C7B:鬼火苗:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:99357554:158098186:10000:10000:::-570.00:-160.02:97.00:2.36:44:44:0:10000:::-559.39:-149.39:97.00:-2.36:0003E493:0:1:00::01:A19B:A19B:1.600:1FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[20:28:51.881] ActionEffect 15:40003C7D:鬼火苗:A19B:unknown_a19b:40003C7B:鬼火苗:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:99357554:158098186:10000:10000:::-570.00:-160.02:97.00:2.36:44:44:0:10000:::-580.61:-170.61:97.00:0.79:0003E494:0:1:00::01:A19B:A19B:1.600:9FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="163df8d9-fb7a-4c3d-b91a-486a4f55b1ee" Name="附身1（本体）" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化 附身" Id="f17336a3-931c-4d51-918f-0fc10f7c8a74" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A198:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^新月_鬼火_附身" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="新月_鬼火_附身_phase" VariableExpression="1" ActionType="Variable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 附身转移" Id="50689b99-eedf-4765-9009-becf6ebefa5d" RegularExpression="^.{15}\S+ 1[56]:(?&lt;sid&gt;4.{7}):[^:]*:A19B:[^:]*:(?&lt;tid&gt;4.{7}):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="这条和setpos同时 所以需要读取位置" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="新月_鬼火_附身1_转移_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="新月_鬼火_附身:${l:新月_鬼火_附身[${v:新月_鬼火_附身1_转移_n}]}:dirN4:${n: roundvec(${_entity[${tid}].x} - ${env:X0}, ${_entity[${tid}].y} - ${env:Y0}, -4)}:t:${n: ${v:新月_鬼火_附身1_转移_n} = 1 ? 5.7 : 4.7}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_鬼火_附身1_转移_n}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:新月_鬼火_附身_phase}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-13 17:40" Id="af130e0e-d623-4646-afe1-528c3f3d8ab6" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[20:27:05.913] StartsCasting 14:40003C7B:鬼火苗:A198:附身:40003C7B:鬼火苗:12.700:-569.99:-160.41:97.00:1.70" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="3" LogMessageText="[20:27:07.019] 263 107:40003C83:A1A3:-569.994:-160.009:96.988:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="5" LogMessageText="[20:27:09.733] 263 107:40003C83:A19E:-569.994:-160.009:96.988:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="7" LogMessageText="[20:27:12.449] 263 107:40003C83:A1A3:-569.994:-160.009:96.988:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="9" LogMessageText="[20:27:15.169] 263 107:40003C83:A1A1:-569.994:-160.009:96.988:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="11" LogMessageText="[20:27:19.847] ActionEffect 15:40003C82:鬼火苗:A19B:unknown_a19b:40003C78:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-580.61:-149.39:97.00:2.36:44:44:0:10000:::-570.00:-160.00:97.00:0.00:0003D9B7:0:1:00::01:A19B:A19B:1.600:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="6.07 * 1000" />
<Action OrderNumber="13" LogMessageText="[20:27:25.910] ActionEffect 15:40003C82:鬼火苗:A19B:unknown_a19b:40003C7A:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-580.61:-170.61:97.00:0.79:44:44:0:10000:::-580.61:-149.39:97.00:2.36:0003DA53:0:1:00::01:A19B:A19B:1.600:DFFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="5.08 * 1000" />
<Action OrderNumber="15" LogMessageText="[20:27:30.989] ActionEffect 15:40003C82:鬼火苗:A19B:unknown_a19b:40003C78:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-580.61:-149.39:97.00:2.36:44:44:0:10000:::-580.61:-170.61:97.00:0.79:0003DACD:0:1:00::01:A19B:A19B:1.600:9FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="5.08 * 1000" />
<Action OrderNumber="17" LogMessageText="[20:27:36.076] ActionEffect 15:40003C82:鬼火苗:A19B:unknown_a19b:40003C77:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-559.39:-149.39:97.00:-2.36:44:44:0:10000:::-580.61:-170.61:97.00:0.79:0003DB3B:0:1:00::01:A19B:A19B:1.600:DFFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" ActionType="Placeholder" ExecutionDelayExpression="5.08 * 1000" />
<Action OrderNumber="19" LogMessageText="[20:27:41.149] ActionEffect 15:40003C82:鬼火苗:A19B:unknown_a19b:40003C76:空壳:1B:A19B8000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:7644980:7644980:10000:10000:::-570.00:-160.00:97.00:-3.14:44:44:0:10000:::-559.39:-149.39:97.00:-2.36:0003DB85:0:1:00::01:A19B:A19B:1.600:1FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="储存技能" Id="b81df73f-2ee9-4ee4-bc23-5e6afbea6d4a" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A19E|A1A1|A1A3):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="新月_鬼火_附身" ListVariableExpression="${?d: A19E = 月环, A1A1 = 十字 , A1A3 = 击退 [${aid}]}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_鬼火_附身_dirN4_0" VariableExpression="roundvec(${x} - ${env:X0}, ${y} - ${env:Y0}, -4)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:新月_鬼火_附身_dirN4_0}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="[F] 技能" Id="78d4b627-99ee-4582-ad5e-961c69f1cacb" RegularExpression="^新月_鬼火_附身:(?&lt;type&gt;月环|十字|击退):dirN4:(?&lt;dirN4&gt;[0-3]):t:(?&lt;t&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: gl_circle_5007_x1&#xD;&#xA;Tag: 新月&#xD;&#xA;t: ${t}&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: dir2rad(${dirN4}, -4)&#xD;&#xA;Pos: 0, -15&#xD;&#xA;Scale: 50" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="月环" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;t: ${t}&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: dir2rad(${dirN4}, -4)&#xD;&#xA;Pos: 0, -15&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 7.5, 50&#xD;&#xA;---&#xD;&#xA;Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;t: ${t}&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: dir2rad(${dirN4}, -4)&#xD;&#xA;Pos: 0, -15&#xD;&#xA;Angle: π/2&#xD;&#xA;Scale: 7.5, 50" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="十字" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m0501_nockback_omen01d1&#xD;&#xA;Tag: 新月&#xD;&#xA;t: ${t}&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: dir2rad(${dirN4}, -4)&#xD;&#xA;Pos: 0, -15&#xD;&#xA;Scale: 50" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="击退" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="4" UseTTSTextExpression="${type}" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="落喙俯冲 死刑" Id="ab46c8b2-4e42-4260-8e80-ae2ce2df9fee" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A1A4:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${tid} == ${_me.id} ? 死刑点名 : 队友死刑 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].InParty}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="幽魂光 AoE" Id="6a44487e-be70-4b87-82c7-d415278964d4" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A1A5:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${env:IsInZone}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="9d9a53a8-7d62-47fc-9b22-93fd4d0b0085" Name="CE 计时器 (注：相比抹茶简化 CE 名称，且不会在塔里报 CE)" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="退本" Id="fe613f64-d059-4515-8087-0e61b26f0559" RegularExpression="^.{15}\S+ 01:4FE:">
<Actions>
<Action OrderNumber="1" TriggerOp="CancelTrigger" TriggerId="0d8b5323-6887-4003-a6c0-1a52e54c0849" ActionType="Trigger" />
<Action OrderNumber="2" DictVariableName="新月_CE" DictVariableKey="startTimeStamp" ActionType="DictVariable" />
<Action OrderNumber="3" TextAuraOp="DeactivateAura" TextAuraAlignment="TopLeft" TextAuraEffect="Bold" TextAuraFontSize="14.25" TextAuraName="新月_CE" TextAuraFontName="微软雅黑" ActionType="TextAura" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="CE 开始 (zone 1252)" Id="0d8b5323-6887-4003-a6c0-1a52e54c0849" RegularExpression="^.{15}\S+ 103:(?&lt;popTime&gt;.{8}):(?&lt;timeRemaining&gt;0000):[^:]*:(?&lt;ceId&gt;0[1-9A-F]):(?&lt;numPlayers&gt;[^:]*):(?&lt;status&gt;01):00:(?&lt;progress&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：自己不在塔里" DescriptionOverride="True" />
<Action OrderNumber="2" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="新月_CE" DictVariableKey="startTimeStamp" DictVariableValue="0x${popTime} = 0 ? (${_systemtime} + 180) : 0x${popTime}" ActionType="DictVariable" />
<Action OrderNumber="3" DictVariableOp="Set" DictVariableName="新月_CE" DictVariableKey="name" DictVariableValue="${?d:&#xD;&#xA;  01 = 脑髓爱好者—夺心魔, &#xD;&#xA;  02 = 黑色连队, &#xD;&#xA;  03 = 愤怒的人造人—新月狂战士, &#xD;&#xA;  04 = 潜影撕裂者—死亡爪, &#xD;&#xA;  05 = 挣脱封印的大妖异—回廊恶魔, &#xD;&#xA;  06 = 拟造使魔—水晶龙, &#xD;&#xA;  07 = 双极的造物—神秘土偶, &#xD;&#xA;  08 = 石制骑士团, &#xD;&#xA;  09 = 传说中的鲨鱼—尼姆瓣齿鲨, &#xD;&#xA;  0A = 双足狮人—跃立狮, &#xD;&#xA;  0B = 防御指令, &#xD;&#xA;  0C = 厌鸟巨兽—进化加鲁拉, &#xD;&#xA;  0D = 贩卖诅咒的商贩—金钱龟, &#xD;&#xA;  0E = 城塞守卫—复原狮像, &#xD;&#xA;  0F = 昏暗妖魂—鬼火苗, &#xD;&#xA;  [${ceId}]&#xD;&#xA;}" ActionType="DictVariable" />
<Action OrderNumber="4" DictVariableOp="Set" DictVariableName="新月_CE" DictVariableKey="nameAbbrev" DictVariableValue="${?d:&#xD;&#xA;  01 = 夺心魔, &#xD;&#xA;  02 = 黑色连队, &#xD;&#xA;  03 = 狂战士, &#xD;&#xA;  04 = 死亡爪, &#xD;&#xA;  05 = 回廊恶魔, &#xD;&#xA;  06 = 水晶龙, &#xD;&#xA;  07 = 神秘土偶, &#xD;&#xA;  08 = 骑士团, &#xD;&#xA;  09 = 鲨鱼, &#xD;&#xA;  0A = 双足狮人, &#xD;&#xA;  0B = 防御指令, &#xD;&#xA;  0C = 厌鸟巨兽, &#xD;&#xA;  0D = 金钱龟, &#xD;&#xA;  0E = 复原狮像, &#xD;&#xA;  0F = 鬼火苗, &#xD;&#xA;  [${ceId}]&#xD;&#xA;}" ActionType="DictVariable" />
<Action OrderNumber="5" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="新月_CE" DictVariableKey="initSeconds" DictVariableValue="round(${d:新月_CE[startTimeStamp]} - ${_systemtimems}/1000)" ActionType="DictVariable" />
<Action OrderNumber="6" TextAuraAlignment="TopCenter" TextAuraEffect="Bold" TextAuraFontSize="14.25" TextAuraForeground="def" TextAuraOutline="026" TextAuraName="新月_CE" TextAuraExpression="${d:新月_CE[name]}  倒计时：${n: round(${d:新月_CE[startTimeStamp]} - ${_systemtimems}/1000) // 60}:${f:padleft(0, 2):${n: round(${d:新月_CE[startTimeStamp]} - ${_systemtimems}/1000) % 60}}" TextAuraXIniExpression="0" TextAuraYIniExpression="0" TextAuraWIniExpression="${_screenwidth}" TextAuraHIniExpression="${_screenheight} * 0.1" TextAuraOIniExpression="100" TextAuraTTLTickExpression="${d:新月_CE[startTimeStamp]} - ${_systemtimems}/1000" TextAuraFontName="微软雅黑" ActionType="TextAura" />
<Action OrderNumber="7" UseTTSTextExpression="${d:新月_CE[nameAbbrev]}，${if: ${d:新月_CE[initSeconds]} &gt; 60 ? ${n: ${d:新月_CE[initSeconds]} // 60}分 : &quot;&quot; }${n: ${d:新月_CE[initSeconds]} % 60}秒" ActionType="UseTTS" />
<Action OrderNumber="8" UseTTSTextExpression="倒计时一分钟" ActionType="UseTTS" ExecutionDelayExpression="(${d:新月_CE[initSeconds]} - 60) * 1000">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${d:新月_CE[initSeconds]}" ExpressionTypeL="String" ExpressionR="80" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1252" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_me.z}" ExpressionTypeL="String" ExpressionR="-10" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1252$" Id="d1e9c66c-5d9d-4dc2-9a72-8bf604fbf204" Name="CE（力之塔）" Enabled="true" RawEnvironmentVariables="IsInZone = ${_me.z} &lt; -10&#xD;&#xA;">
<Folders>
<Folder Id="2cdc5489-55b6-40e0-9785-2731832d78b1" Name="1. 恶魔板" Enabled="true" RawEnvironmentVariables="X0 = 700&#xD;&#xA;Y0 = 379&#xD;&#xA;&#xA;Z0 = -481&#xD;&#xA;// 南北两侧都是 30*30 的正方形，中心还额外有 30*6 的墙厚度&#xD;&#xA;Lx = 15&#xD;&#xA;Ly = 33&#xD;&#xA;b防击退 = ${n: ${_me.HasStatus(0xA0)} || ${_me.HasStatus(0x4B9)}}">
<Folders>
<Folder Id="b0be4f8f-32d3-4c0f-ae70-1fb05ab781b3" Name="A. 暗黑射线（击退/远离+激光）" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 播报" Id="80243ff0-832d-4b9f-9e7e-cf80079ae31c" RegularExpression="^新月_力1_射线:b朝北:(?&lt;b朝北&gt;[01]):b击退:(?&lt;b击退&gt;[01]):b穿:(?&lt;b穿&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b穿} ? 穿到对侧 : 留在同侧 }，${if: ${b击退} ? 靠近击退 : 后退远离 }" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:10.2" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;t: 10.2&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: ${b朝北} ? π : 0&#xD;&#xA;Pos: 0, ${b击退} ? 3 : 18&#xD;&#xA;Scale: 15, ${b击退} ? 36 : 51" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" LogMessageText="新月_力1_击退:b朝北:${n: !${b朝北}}" LogProcess="True" ActionType="LogMessage" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b击退}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取初始读条 * 2 =&gt; 2" Id="935b8636-aff7-49f1-87a3-2c10790dc510" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A2F[345]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="A2F4/3: 击退/矩形；A2F5: 激光（判断方向）" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_力1_射线_b朝北" VariableExpression="round(${h}) != 0" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${aid}" ExpressionTypeL="Numeric" ExpressionR="0xA2F5" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="新月_力1_射线_b击退" VariableExpression="0x${aid} = 0xA2F4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${aid}" ExpressionTypeL="Numeric" ExpressionR="0xA2F5" ExpressionTypeR="Numeric" ConditionType="NumericNotEqual" />
</Condition>
</Action>
<Action OrderNumber="4" LogMessageText="新月_力1_射线:b朝北:${v:新月_力1_射线_b朝北}:b击退:${v:新月_力1_射线_b击退}:b穿:${n: ${v:新月_力1_射线_b朝北} = (${_me.y} &lt; ${env:Y0})}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:新月_力1_射线_b朝北}${ev:新月_力1_射线_b击退}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="6" VariableName="新月_力1_射线_b朝北" ActionType="Variable" />
<Action OrderNumber="7" VariableName="新月_力1_射线_b击退" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 击退" Id="fcf23840-2c68-4873-adba-8e21230b83cf" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[18:40:56.970] 263 107:40007DC8:A2F4:700.003:379.009:-481.002:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[18:40:56.970] 263 107:40007DDE:A2F5:700.003:382.000:-481.002:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 远离" Id="4524348d-6981-441f-afe4-027f18176bdc" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[18:41:10.113] 263 107:40007DC8:A2F3:700.003:379.009:-481.002:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[18:41:10.113] 263 107:40007DE0:A2F5:700.003:376.019:-481.002:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="6f5e1c55-135f-47a0-b5e1-0236312c1758" Name="C. 左右转向" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 读条" Id="500c57ef-6398-4c0b-8ec7-af120379eb70" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A30[12]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="20000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="共三次，分别固定为最终南、南、北侧安全" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="新月_力1_转向_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="新月_力1_转向_b初始左转" VariableExpression="0x${aid} = 0xA302" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="新月_力1_转向_b最终朝北" VariableExpression="${?l: 1, 1, 0 [${v:新月_力1_转向_n}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="新月_力1_转向_b初始朝北" VariableExpression="round(${h}) != 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" VariableOp="SetNumeric" VariableName="新月_力1_转向_b初始在北" VariableExpression="${_me.y} &lt; ${env:Y0}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="7" VariableOp="SetNumeric" VariableName="新月_力1_转向_b旋转反向" VariableExpression="${v:新月_力1_转向_b最终朝北} = ${v:新月_力1_转向_b初始朝北}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="8" VariableOp="SetNumeric" VariableName="新月_力1_转向_b初始在正面" VariableExpression="${v:新月_力1_转向_b初始在北} = ${v:新月_力1_转向_b初始朝北}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="9" UseTTSTextExpression="先去${if: ${v:新月_力1_转向_b初始左转} ? 右 : 左 }侧" ActionType="UseTTS" />
<Action OrderNumber="10" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan270&#xD;&#xA;t: 7.7&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;+X: ${v:新月_力1_转向_b初始左转}&#xD;&#xA;θ: ${v:新月_力1_转向_b初始在北} ? 0 : π&#xD;&#xA;Pos: 3, 3&#xD;&#xA;Angle: -135°&#xD;&#xA;Scale: 50&#xD;&#xA;---&#xD;&#xA;Omen: Fan270&#xD;&#xA;delay: 7.7&#xD;&#xA;t: 12.1&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;+X: ${v:新月_力1_转向_b初始左转} = ${v:新月_力1_转向_b初始朝北}&#xD;&#xA;+Y: ${v:新月_力1_转向_b最终朝北}&#xD;&#xA;Pos: 0, 3&#xD;&#xA;Angle: -135°&#xD;&#xA;Scale: 50" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="11" UseTTSTextExpression="${?d:&#xD;&#xA;  000 = 再去左侧,&#xD;&#xA;  001 = 再去右侧,&#xD;&#xA;  010 = 绕回右侧,&#xD;&#xA;  011 = 绕回左侧,&#xD;&#xA;  100 = 原地不动,&#xD;&#xA;  101 = 原地不动,&#xD;&#xA;  110 = 绕到对角,&#xD;&#xA;  111 = 绕到对角&#xD;&#xA;  [${v:新月_力1_转向_b旋转反向}${v:新月_力1_转向_b初始在正面}${v:新月_力1_转向_b初始左转}]&#xD;&#xA;}" ActionType="UseTTS" ExecutionDelayExpression="7700" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="0d7be0fd-3eeb-427a-ae8e-ce9b5f65bc68" Name="D. 微型陨石（击退/远离+陨石）" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1b. 获取陨石位置 =&gt; 2" Id="4ae87912-2462-4287-9a57-eb709ad55867" RegularExpression="^.{15}\S+ 105:Add.*?:BNpcID:1EBD76.*?:Heading:(?&lt;h&gt;[^:]+).*?:PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):PosZ:(?&lt;z&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="30000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="禁止重复触发（后续放的标记也是这个）" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="新月_力1_陨石_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="新月_力1_陨石_b北陨石" VariableExpression="${y} &lt; ${env:Y0}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="_新月_力1_陨石" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_力1_陨石_n}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1c. 获取击飞标记 * 4 =&gt; 2" Id="5755e3c2-829c-4a5c-baeb-4ebfd068d128" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;023[EF]):">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_力1_陨石_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_力1_陨石_b击飞朝北" VariableExpression="0x${type} = 0x023E" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" LogMessageText="_新月_力1_陨石" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_力1_陨石_n}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1a. 获取读条 =&gt; 2" Id="56dac585-adeb-4a18-aa1c-53bfa0cb31bf" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A2E4|A2E5):">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_力1_陨石_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_力1_陨石_b击退" VariableExpression="0x${aid} = 0xA2E5" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="_新月_力1_陨石" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_力1_陨石_n}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="c1de0e66-0b49-48ca-a0ab-99f45cecdf5f" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A30[12]):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="用的是左右转的读条，固定出现在陨石前" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^新月_力1_陨石" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 处理 =&gt; 3" Id="141b87d5-6079-4ebd-94fc-acb49714fce8" RegularExpression="^_新月_力1_陨石">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="此时 buff 约有 11.5 s" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_力1_陨石_b陨石" VariableExpression="${_me.HasStatus(0x1102)}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="新月_力1_陨石_b陨石同侧" VariableExpression="${v:新月_力1_陨石_b陨石} || (${ev:新月_力1_陨石_b击飞朝北} &amp;&amp; ${v:新月_力1_陨石_b北陨石} = !0${v:新月_力1_陨石_b击飞朝北})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="新月_力1_陨石_b去北" VariableExpression="${v:新月_力1_陨石_b北陨石} = ${v:新月_力1_陨石_b陨石同侧}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="新月_力1_陨石_b穿" VariableExpression="(${_me.y} &gt; ${env:Y0}) = ${v:新月_力1_陨石_b去北}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" VariableOp="SetString" VariableName="新月_力1_陨石_type" VariableExpression="${if: ${ev:新月_力1_陨石_b击飞朝北} ? 击飞 : ${if: ${v:新月_力1_陨石_b陨石} ? 陨石 : 无 } }" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="7" LogMessageText="新月_力1_陨石:type:${v:新月_力1_陨石_type}:b去北:${v:新月_力1_陨石_b去北}:b击退:${v:新月_力1_陨石_b击退}:b穿:${v:新月_力1_陨石_b穿}:b陨石同侧:${v:新月_力1_陨石_b陨石同侧}:b击飞朝北:${n: 0${v:新月_力1_陨石_b击飞朝北}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 播报" Id="a0f50587-0aaa-47d8-82ba-93451129d9a1" RegularExpression="^新月_力1_陨石:type:(?&lt;type&gt;击飞|陨石|无):b去北:(?&lt;b去北&gt;[01]):b击退:(?&lt;b击退&gt;[01]):b穿:(?&lt;b穿&gt;[01]):b陨石同侧:(?&lt;b陨石同侧&gt;[01]):b击飞朝北:(?&lt;b击飞朝北&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${type}点名，${if: ${b穿} ? 穿到对侧 : 留在同侧 }，${if: ${b击退} ? 靠近击退 : 后退远离 }" UseTTSExclusive="False" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:10.2" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b击退}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_me.isTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;t: 10.2&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: ${b去北} ? 0 : π&#xD;&#xA;Pos: 0, ${b击退} ? 3 : 18&#xD;&#xA;Scale: 15, ${b击退} ? 36 : 51" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" LogMessageText="新月_力1_击退:b朝北:${b去北}" LogProcess="True" ActionType="LogMessage" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b击退}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="6000" />
<Action OrderNumber="6" UseTTSTextExpression="靠近击退" UseTTSExclusive="False" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b击退}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="abs(${_me.y} - ${env:Y0})" ExpressionTypeL="Numeric" ExpressionR="6" ExpressionTypeR="String" ConditionType="NumericGreater" />
<ConditionSingle Enabled="true" ExpressionL="${env:b防击退}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="4000" />
<Action OrderNumber="8" UseTTSTextExpression="${?d:&#xD;&#xA;  陨石 = 贴边放陨石,&#xD;&#xA;  击飞 = ${if: ${b陨石同侧} ? 靠前分摊 : 靠后分摊 },&#xD;&#xA;  无 = ${if: ${_me.IsTM} ? 靠前输出 : 靠后参与分摊 }&#xD;&#xA;  [${type}]&#xD;&#xA;}" UseTTSExclusive="False" ActionType="UseTTS" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="2800" />
<Action OrderNumber="10" UseTTSTextExpression="去前方分摊" UseTTSExclusive="False" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="陨石" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-19 23:25" Id="92ae4780-f6dd-47b3-8871-846b38a8b8b6">
<Actions>
<Action OrderNumber="1" LogMessageText="[18:42:34.110] StartsCasting 14:40007DC8:恶魔板:A301:右转向:40007DC8:恶魔板:7.700:700.00:379.00:-481.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="0.72 * 1000" />
<Action OrderNumber="3" LogMessageText="[18:42:34.831] StartsCasting 14:40007DC8:恶魔板:A301:右转向:40007DC8:恶魔板:7.700:699.98:378.99:-481.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="0.69 * 1000" />
<Action OrderNumber="5" LogMessageText="[18:42:35.516] StartsCasting 14:40007DC8:恶魔板:A2E5:排斥式恶魔微型陨石:40007DC8:恶魔板:9.700:699.98:378.99:-481.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[18:42:35.607] TargetIcon 1B:${l:party[1]}:队员:0000:0000:023F:${l:party[1]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[18:42:35.607] TargetIcon 1B:${l:party[2]}:队员:0000:0000:023F:${l:party[2]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[18:42:35.607] TargetIcon 1B:${l:party[3]}:队员:0000:0000:023E:${l:party[3]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[18:42:35.607] TargetIcon 1B:${l:party[4]}:队员:0000:0000:023E:${l:party[4]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[18:42:35.337] 261 105:Add:40007F23:BNpcID:1EBD76:BNpcNameID:100:CastBuffID:256:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:A000000:CurrentMP:4198403:CurrentWorldID:20589:Heading:0.0000:Level:2:ModelStatus:2048:NPCTargetID:300193D:PCTargetID:A000000:PosX:700.0000:PosY:349.0000:PosZ:-481.0000:Radius:0.5000:TransformationId:256:Type:7:WorldID:512" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="11.85 * 1000" />
<Action OrderNumber="12" LogMessageText="[18:42:47.372] 261 105:Add:40007F28:BNpcID:1EBD76:BNpcNameID:100:CastBuffID:256:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:A000000:CurrentMP:4526083:CurrentWorldID:27963:Heading:1.8523:Job:2:Level:37:ModelStatus:2048:NPCTargetID:100683B:PosX:697.6754:PosY:349.1770:PosZ:-481.0002:Radius:0.5000:Type:7:WorldID:1792" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[18:42:47.372] 261 105:Add:40007F29:BNpcID:1EBD76:BNpcNameID:100:CastBuffID:256:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:A000000:CurrentMP:4460547:CurrentWorldID:32828:Heading:-3.0170:Job:2:Level:165:ModelStatus:2048:NPCTargetID:500833A:PCTargetID:A000000:PosX:703.3631:PosY:405.9852:PosZ:-481.0002:Radius:0.5000:Type:7:WorldID:3840" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[18:42:47.372] 261 105:Add:40007F2A:BNpcID:1EBD76:BNpcNameID:100:CastBuffID:256:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:A000000:CurrentMP:4395011:CurrentWorldID:9088:Heading:3.1188:Job:3:Level:101:ModelStatus:2048:NPCTargetID:D00A17A:PCTargetID:A000000:PosX:700.2607:PosY:359.3044:PosZ:-481.0002:Radius:0.5000:Type:7:WorldID:256" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[18:42:47.372] 261 105:Add:40007F2B:BNpcID:1EBD76:BNpcNameID:100:CastBuffID:256:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:A000000:CurrentMP:4329475:CurrentWorldID:3680:Heading:-0.0078:Job:2:Level:229:ModelStatus:2048:NPCTargetID:2000D60:PCTargetID:A000000:PosX:697.9067:PosY:349.5249:PosZ:-481.0002:Radius:0.5000:Type:7:WorldID:256" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[18:42:47.372] 261 105:Add:40007F2C:BNpcID:1EBD76:BNpcNameID:100:CastBuffID:256:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:A000000:CurrentMP:4263939:CurrentWorldID:29845:Heading:0.0793:Job:3:Level:165:ModelStatus:2048:NPCTargetID:3006F95:PCTargetID:A000000:PosX:697.5890:PosY:348.9640:PosZ:-481.0002:Radius:0.5000:Type:7:WorldID:2048" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="9450fbaa-3f6f-4c5d-b505-7b4030c9c501" Name="B. 恶魔录１（击退/远离+两侧塔）" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 读条" Id="68dbe1e9-9f9c-4306-ad3b-6920766ec43b" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A2F[67]):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="新月_力1_恶魔录_b击退" VariableExpression="0x0${aid} = 0xA2F7" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="找自己的塔，${if: ${v:新月_力1_恶魔录_b击退} ? 靠近击退 : 后退远离 }" ActionType="UseTTS" />
<Action OrderNumber="3" LogMessageText="cd5:10.2" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_力1_恶魔录_b击退}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_me.isTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect2&#xD;&#xA;t: 10.2&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;Scale: 15, ${v:新月_力1_恶魔录_b击退} ? 3 : 18" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="5" LogMessageText="新月_力1_击退:b朝北:0" LogProcess="True" ActionType="LogMessage" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_力1_恶魔录_b击退}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" LogMessageText="新月_力1_击退:b朝北:1" LogProcess="True" ActionType="LogMessage" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_力1_恶魔录_b击退}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" UseTTSTextExpression="踩塔" ActionType="UseTTS" ExecutionDelayExpression="10100" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="9ba9ecdb-40fb-4d7d-aad9-224e4af1ec4e" Name="E. 恶魔录２（击退/远离+浮空塔）" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="3. XX式微重力 读条" Id="aff80dee-0fa5-43a3-b0f5-65ea1fafa760" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A2EA|AA01):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="新月_力1_恶魔录_b击退" VariableExpression="0x${aid} = 0xAA01" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_力1_恶魔录_b穿" VariableExpression="${v:新月_力1_恶魔录_b北塔} = (${_me.y} &gt; ${env:Y0})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" UseTTSTextExpression="${if: ${v:新月_力1_恶魔录_b穿} ? 穿到对侧 : 留在同侧 }，${if: ${v:新月_力1_恶魔录_b击退} ? 靠近击退 : 后退远离 }" ActionType="UseTTS" />
<Action OrderNumber="4" LogMessageText="cd5:10.2" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_力1_恶魔录_b击退}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_me.isTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;t: 10.2&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: ${v:新月_力1_恶魔录_b北塔} ? 0 : π&#xD;&#xA;Pos: 0, ${v:新月_力1_恶魔录_b击退} ? 3 : 18&#xD;&#xA;Scale: 15, ${v:新月_力1_恶魔录_b击退} ? 36 : 51" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="6" LogMessageText="新月_力1_击退:b朝北:${v:新月_力1_恶魔录_b北塔}" LogProcess="True" ActionType="LogMessage" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_力1_恶魔录_b击退}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" UseTTSTextExpression="准备浮空或踩塔" ActionType="UseTTS" ExecutionDelayExpression="7000" />
<Action OrderNumber="8" UseTTSTextExpression="踩塔" ActionType="UseTTS" ExecutionDelayExpression="7400" />
<Action OrderNumber="9" UseTTSTextExpression="去${f:pick(${v:新月_力1_恶魔录_安全relDirN4}): 左前, 左后, 右后, 右前 }" ActionType="UseTTS" ExecutionDelayExpression="5100" />
<Action OrderNumber="10" LogMessageText="cd5:5.8" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 记录角落石像位置" Id="54f7d3a9-fbdc-4453-8f22-095cae1011be" RegularExpression="^.{15}\S+ 105:Add.*?:BNpcID:1EBD75.*?:Heading:(?&lt;h&gt;[^:]+).*?:PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):PosZ:(?&lt;z&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="用两侧方形区域四角的石像的 dirN4 与 1 异或得到安全区 dirN4 （0↔1 2↔3）" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_力1_恶魔录_北安全relDirN4" VariableExpression="(roundvec(${x} - ${env:X0}, ${y} - (${env:Y0} - 18), -4) + 2) % 4 ⊕ 1" ActionType="Variable">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${y}" ExpressionTypeL="String" ExpressionR="${env:Y0}" ExpressionTypeR="String" ConditionType="NumericLess" />
<ConditionSingle Enabled="true" ExpressionL="d(d(${y}, ${env:Y0}), 17)" ExpressionTypeL="Numeric" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="新月_力1_恶魔录_南安全relDirN4" VariableExpression="roundvec(${x} - ${env:X0}, ${y} - (${env:Y0} + 18), -4) ⊕ 1" ActionType="Variable">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${y}" ExpressionTypeL="String" ExpressionR="${env:Y0}" ExpressionTypeR="String" ConditionType="NumericGreater" />
<ConditionSingle Enabled="true" ExpressionL="d(d(${y}, ${env:Y0}), 17)" ExpressionTypeL="Numeric" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;t: 6.3&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Scale: 18" ActionType="NamedCallback" ExecutionDelayExpression="31500" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 记录塔" Id="bc96f2e3-1434-4d91-8ccb-61e6a27ba235" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A2F1:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="5000">
<Actions>
<Action OrderNumber="1" UseTTSExclusive="False" VariableOp="SetNumeric" VariableName="新月_力1_恶魔录_b北塔" VariableExpression="${y} &lt; ${env:Y0}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSExclusive="False" VariableOp="SetNumeric" VariableName="新月_力1_恶魔录_安全relDirN4" VariableExpression="${v:新月_力1_恶魔录_b北塔} ? ${v:新月_力1_恶魔录_北安全relDirN4} : ${v:新月_力1_恶魔录_南安全relDirN4}" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-20 06:41" Id="efce1f68-4d21-440f-a646-19636c05ea24" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[18:44:31.625] 261 105:Add:40007F7D:BNpcID:1EBD75:Heading:1.5704:PosX:687.9794:PosY:395.4997:PosZ:-481.0000:Radius:0.5000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[18:44:31.625] 261 105:Add:40007F7F:BNpcID:1EBD75:Heading:1.5704:PosX:688.0176:PosY:351.9997:PosZ:-481.0000:Radius:0.5000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[18:44:31.625] 261 105:Add:40007F7C:BNpcID:1EBD75:Heading:1.5704:PosX:712.0334:PosY:405.9997:PosZ:-481.0000:Radius:0.5000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[18:44:31.625] 261 105:Add:40007F7E:BNpcID:1EBD75:Heading:1.5704:PosX:711.9852:PosY:362.4997:PosZ:-481.0000:Radius:0.5000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="11.12 * 1000" />
<Action OrderNumber="6" LogMessageText="[18:44:42.743] 263 107:40007DE1:A2F1:700.003:355.510:-481.002:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[18:44:42.743] 263 107:40007DE3:A2F1:704.520:365.398:-481.002:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[18:44:42.743] 263 107:40007DE5:A2F1:695.517:365.398:-481.002:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="1.29 * 1000" />
<Action OrderNumber="10" LogMessageText="[18:44:44.035] StartsCasting 14:40007DC8:恶魔板:A2EA:压溃式微重力:40007DC8:恶魔板:9.700:699.98:378.99:-481.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="魔启示 狂暴" Id="095e7b8a-4aef-453d-9fe6-a7ed13c1e16f" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A30B:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="狂暴" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="魔录凿刻 死刑" Id="a0b921eb-f842-49bc-8bf5-2316030beaf0" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A308:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${tid} == ${_me.id} ? 死刑点名 : ${_entity[${tid}].JobCN2}死刑 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionGroup Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].InParty}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionSingle Enabled="true" ExpressionL="${_me.IsTH}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="时间轴" Id="fba61868-169d-4d03-b933-8bfc36b3eefe" RegularExpression="^.{15}\S+ 29:.{8}:7DC:02:1450:">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:2.1:aoe" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:40.1:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:53.9:找半场，准备踩塔" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:75.7:转向" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:100.9:准备陨石" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:140.2:转向" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:165.5:找半场，准备小怪" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:184.3:驱散大怪" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.HasStatus(${env:辅助时魔法师})}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" LogMessageText="tts:223.2:准备浮空塔" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="tts:269.9:转向" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="tts:296.4:准备陨石" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="tts:335.1:准备射线" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="tts:351.5:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="tts:364.0:aoe" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="标点（两歧塔 力之塔:下层）" Id="f6ece347-fbf8-473a-a588-246aa0605ec7" RegularExpression="^.{15}\S+ 28:968:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;A:  13, -18&#xD;&#xA;B:  0,  -31&#xD;&#xA;C: -13, -18&#xD;&#xA;D:  clear&#xD;&#xA;1: -13,  18&#xD;&#xA;2:  0,   31&#xD;&#xA;3:  13,  18&#xD;&#xA;4:  clear&#xD;&#xA;local: false" UseTTSExclusive="False" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="召唤" Id="af7311ce-e959-4967-aca8-3063388586c6" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A30D:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="准备打小怪" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:10.2" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="[F] 击退" Id="b573eaef-1783-4d18-a849-949e2ca1f714" RegularExpression="^新月_力1_击退:b朝北:(?&lt;b朝北&gt;[01])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m0532_hukitobashi_o0w&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 10.2&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: 0${b朝北} ? π : 0&#xD;&#xA;Pos: 0, -3&#xD;&#xA;Scale: 14.5, 30, 10" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="21c2c1ec-911e-46b0-a270-fa48a13b1753" Name="0. 初始化" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 老二" Id="01c3a42f-ff52-4954-9814-cdd80543b3a4" RegularExpression="^.{15}\S+ 29:.{8}:7DC:02:1451:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^新月_力2" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 老一" Id="b173f87d-3395-4757-8bd5-bc24f5f518de" RegularExpression="^.{15}\S+ 29:.{8}:7DC:02:1450:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^新月_力1" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="解除封锁" Id="4a79a319-dcb4-405c-a9a7-caa2385333b6" RegularExpression="^.{15}\S+ 29:.{8}:7DE:02:145.:">
<Actions>
<Action OrderNumber="1" TriggerOp="CancelAllTrigger" ActionType="Trigger" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="ffee7d38-6e9a-45c8-956b-66f4e5e4989d" Name="2. 三兄弟" Enabled="true" RawEnvironmentVariables="X0 = -800&#xD;&#xA;Y0 = 360&#xD;&#xA;Z0 = -876&#xD;&#xA;R = 30">
<Folders>
<Folder Id="34e40ccc-6fcb-4922-8926-c2fc100070b3" Name="A. 毒" Enabled="true" RawEnvironmentVariables="火stack = ${_me.StatusStack(4441)}&#xD;&#xA;冰stack = ${_me.StatusStack(4442)}&#xD;&#xA;热度 = &quot;${?d: 3-1 = 3, 2-1 = 2, 1-1 = 1, -1-1= 0, -11 =-1, -12 =-2, -13 =-3 [${_me.StatusStack(4441)}${_me.StatusStack(4442)}]}&quot;">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="[F] 冰火圈" Id="751fe401-548b-4e15-b24f-fdc10f9117bb" RegularExpression="^新月_力2_毒_Omen:n:(?&lt;n&gt;[1-4]):b火:(?&lt;b火&gt;[01]):dirN4:(?&lt;dirN4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="// 圆周预兆&#xD;&#xA;Omen: n4b5_tr_g05o0g&#xD;&#xA;delay: ${?l: 0.01, 6.9, 6.3, 9.3 [${n}]}&#xD;&#xA;t:     ${?l: 9.4,  1.9, 5.5, 5.5 [${n}]}&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: dir2rad(${dirN4}, -4)&#xD;&#xA;Pos: 0, -20&#xD;&#xA;Scale: 22 * 1.09&#xD;&#xA;Color: ${if: !${b火} ? &quot;0.5, 1, 0.5, 1&quot; : &quot;3, 0.5, 0, 1&quot; }" Enabled="False" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="// 圆形范围&#xD;&#xA;Omen: k5d1_omen_o01pg&#xD;&#xA;delay: ${?l: 8.4, 8.8, 11.8, 14.8 [${n}]}&#xD;&#xA;t:     ${?l: 2.9, 5.5,  5.5,  5.5 [${n}]}&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: dir2rad(${dirN4}, -4)&#xD;&#xA;Pos: 0, -20&#xD;&#xA;Scale: 22&#xD;&#xA;Color: ${if: !${b火} ? &quot;0.2, 0.5, 1.5, 1&quot; : &quot;5, 0.4, 0.1, 1&quot; }" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取冰火位置 =&gt; 2" Id="ac8e0d4d-6f8c-43e2-b3f5-d1808607e006" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A5DF|A5E0):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="新月_力2_毒_${if: 0x${aid} = 0xA5DF ? 火 : 冰 }dirN4" ListVariableExpression="roundvec(${x} - ${env:X0}, ${y} - ${env:Y0}, -4)" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="_新月_力2_毒:n:${l:新月_力2_毒_冰dirN4.size}:冰火dirN4:${l:新月_力2_毒_冰dirN4[-1]}:${l:新月_力2_毒_火dirN4[-1]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:新月_力2_毒_冰dirN4.size}" ExpressionTypeL="String" ExpressionR="${l:新月_力2_毒_火dirN4.size}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-21 03:50" Id="30b470e3-b746-4767-b180-2ebb5d3a7684" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogProcess="True" LogProcessACT="True" VariableOp="UnsetRegexUniversal" VariableName="^新月_力2_毒" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="新月_力2_毒_热度" VariableExpression="1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="[00:52:07.710] 263 107:400053C8:A5E0:-785.882:374.157:-876.003:0.785" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[00:52:07.710] 263 107:400053C9:A5DF:-785.882:345.866:-876.003:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="2.49 * 1000" />
<Action OrderNumber="6" LogMessageText="[00:52:12.692] 263 107:400053C8:A5E0:-814.142:374.157:-876.003:-0.785" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[00:52:12.692] 263 107:400053C9:A5DF:-814.142:345.866:-876.003:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="2.54 * 1000" />
<Action OrderNumber="9" LogMessageText="[00:52:05.171] 263 107:400053CA:A5E0:-814.142:345.866:-876.003:-2.295" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[00:52:05.171] 263 107:400053CB:A5DF:-785.882:374.157:-876.003:0.506" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="2.49 * 1000" />
<Action OrderNumber="12" LogMessageText="[00:52:10.203] 263 107:400053CA:A5E0:-785.882:345.866:-876.003:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[00:52:10.203] 263 107:400053CB:A5DF:-814.142:374.157:-876.003:-0.785" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="临时说明" Id="dd710a75-6602-468b-8cbe-1ea632d2986a" RegularExpression="^.{15}\S+ 28:985:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e &lt;se.10&gt;&#xD;&#xA;【冰火报点临时说明（使用必读）】&#xD;&#xA;&#xD;&#xA;默认使用 1 在 A 逆时针的八方标点&#xD;&#xA;即进入区域时的自动标点&#xD;&#xA;&#xD;&#xA;注意报点会优化出全局最短移动路径&#xD;&#xA;可以少移动、少远离&#xD;&#xA;这意味着并不一定先解除所有层数&#xD;&#xA;&#xD;&#xA;报点可能如 “A” “3” “1远” “2”&#xD;&#xA;没说“远”：去这个方向的目标圈&#xD;&#xA;说了“远”：去这个方向场地中心黄圈边缘&#xD;&#xA;&#xD;&#xA;只有在 1 层 debuff 时会出现一次远&#xD;&#xA;2/3 层时均可在目标圈处理&#xD;&#xA;&#xD;&#xA;【冰火报点临时说明（使用必读）】" UseTTSExclusive="False" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 预处理 =&gt; 6 * 3 + [F]" Id="b2c97b70-c3c9-4ba6-ba6b-f3eefb84a6bf" RegularExpression="^_新月_力2_毒:n:(?&lt;n&gt;[1-4]):冰火dirN4:(?&lt;冰dirN4&gt;[0-3]):(?&lt;火dirN4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_力2_毒_Omen:n:${n}:b火:1:dirN4:${火dirN4}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="2" LogMessageText="新月_力2_毒_Omen:n:${n}:b火:0:dirN4:${冰dirN4}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="tmp_b邻" VariableExpression="(${冰dirN4} - ${火dirN4}) %% 4 != 2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" VariableOp="Increment" VariableName="新月_力2_毒_n邻" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_b邻}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" VariableOp="Increment" VariableName="新月_力2_毒_n对" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_b邻}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="计算冰火分别去的方向 (dirN8，1 3 5 7 在目标圈上)；无 去的方向（dir8，0 2 4 6 正点目标圈，1 3 5 7 斜点远离 （5=1 7=3））" DescriptionOverride="True" />
<Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="  邻位：" DescriptionOverride="True" />
<Action OrderNumber="9" VariableOp="SetNumeric" VariableName="tmp_冰" VariableExpression="(${冰dirN4} * 2 + 1 + ((${冰dirN4} - ${火dirN4}) %% 4 = 1 ? 1 : -1)) %% 8" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_b邻}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="10" VariableOp="SetNumeric" VariableName="tmp_火" VariableExpression="(${火dirN4} * 2 + 1 + ((${火dirN4} - ${冰dirN4}) %% 4 = 1 ? 1 : -1)) %% 8" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_b邻}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="11" VariableOp="SetNumeric" VariableName="tmp_无" VariableExpression="(${火dirN4} * 2 + 1 + ((${火dirN4} - ${冰dirN4}) %% 4 = 1 ? 3 : -3)) %% 8" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_b邻}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="  对位：" DescriptionOverride="True" />
<Action OrderNumber="13" VariableOp="SetNumeric" VariableName="tmp_冰" VariableExpression="${冰dirN4} * 2 + 1" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_b邻}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="14" VariableOp="SetNumeric" VariableName="tmp_火" VariableExpression="${火dirN4} * 2 + 1" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_b邻}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="15" VariableOp="SetNumeric" VariableName="tmp_无" VariableExpression="(${火dirN4} * 2 + 3) % 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_b邻}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="16" ActionType="Placeholder" Asynchronous="False" Description="输出" DescriptionOverride="True" />
<Action OrderNumber="17" VariableOp="SetString" VariableName="tmp_data" VariableExpression="n:${n}:b邻:${v:tmp_b邻}:n邻对:${n: ${v:tmp_b邻} ? 0${v:新月_力2_毒_n邻} : 0${v:新月_力2_毒_n对}}:吃冰dir8:${v:tmp_冰}:吃火dir8:${v:tmp_火}:无dir8:${v:tmp_无}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="18" LogMessageText="_新月_力2_毒_点名:热度:3:${v:tmp_data}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="19" LogMessageText="_新月_力2_毒_点名:热度:2:${v:tmp_data}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="20" LogMessageText="_新月_力2_毒_点名:热度:1:${v:tmp_data}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="21" LogMessageText="_新月_力2_毒_点名:热度:-1:${v:tmp_data}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="22" LogMessageText="_新月_力2_毒_点名:热度:-2:${v:tmp_data}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="23" LogMessageText="_新月_力2_毒_点名:热度:-3:${v:tmp_data}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="24" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True" />
<Action OrderNumber="25" VariableName="tmp_b邻" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="26" VariableName="tmp_冰" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="27" VariableName="tmp_火" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="28" VariableName="tmp_无" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化 + 获取毒" Id="8228b0ea-ce27-49f1-8ad5-9ecd20223d52" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A5D9:">
<Actions>
<Action OrderNumber="1" LogProcess="True" LogProcessACT="True" VariableOp="UnsetRegexUniversal" VariableName="^新月_力2_毒" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="新月_力2_毒_热度" VariableExpression="${env:热度}" ActionType="Variable" ExecutionDelayExpression="8000" Asynchronous="False" />
<Action OrderNumber="3" UseTTSTextExpression="${?d: 3 = 三层火, 2 = 两层火, 1 = 一层火, -1 = 一层冰, -2 = 两层冰, -3 = 三层冰 [${v:新月_力2_毒_热度}]}" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 处理点名" Id="d78e796e-3f84-4c4e-833c-7c428a5b8e72" RegularExpression="^_新月_力2_毒_点名:热度:(?&lt;热度&gt;-?[1-3]):n:(?&lt;n&gt;[1-4]):b邻:(?&lt;b邻&gt;[01]):n邻对:(?&lt;n邻对&gt;[1-2]):吃冰dir8:(?&lt;吃冰dir8&gt;[0-7]):吃火dir8:(?&lt;吃火dir8&gt;[0-7]):无dir8:(?&lt;无dir8&gt;[0-7])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="1层：不吃12邻2对  2层：不吃12邻  3层：不吃2邻" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_b吃" VariableExpression="abs(${热度}) = 1 &amp;&amp; ${b邻} = 0 &amp;&amp; ${n邻对} = 1 ||&#xD;&#xA;abs(${热度}) = 2 &amp;&amp; ${b邻} = 0 ||&#xD;&#xA;abs(${热度}) = 3 &amp;&amp; !(${b邻} = 1 &amp;&amp; ${n邻对} = 2)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="表格第 1 列：是否吃  第 2 列：方向（dir8）   不吃的情况下斜方向暂时记为负数，代表未确定是哪一侧" DescriptionOverride="True" />
<Action OrderNumber="4" TableVariableOp="SetLine" TableVariableName="新月_力2_毒_${热度}" TableVariableExpression=",${v:tmp_b吃},${n: ${v:tmp_b吃} ? (${热度} &gt; 0 ? ${吃冰dir8} : ${吃火dir8}) : (${无dir8} + (${无dir8} % 2 = 0 ? 0 : -8))}" TableVariableY="${t:新月_力2_毒_${热度}.height} + 1" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="5" VariableName="tmp_b吃" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="如果前一次记录为负数，根据这一次二选一" DescriptionOverride="True" />
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="  这一次也是负数：随意" DescriptionOverride="True" />
<Action OrderNumber="8" TableVariableOp="Set" TableVariableExpressionType="Numeric" TableVariableName="新月_力2_毒_${热度}" TableVariableExpression="(${t:新月_力2_毒_${热度}[2][-2]}) %% 8" TableVariableX="2" TableVariableY="-2" ActionType="TableVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}.height}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}[2][-1]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericLess" />
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}[2][-2]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Action>
<Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="  这一次不是负数：就近" DescriptionOverride="True" />
<Action OrderNumber="10" TableVariableOp="Set" TableVariableExpressionType="Numeric" TableVariableName="新月_力2_毒_${热度}" TableVariableExpression="((${t:新月_力2_毒_${热度}[2][-2]} - ${t:新月_力2_毒_${热度}[2][-1]} + 1) %% 8 &lt; 3 ? 0 : 4) + (${t:新月_力2_毒_${热度}[2][-2]}) %% 8" TableVariableX="2" TableVariableY="-2" ActionType="TableVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}.height}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}[2][-1]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}[2][-2]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Action>
<Action OrderNumber="11" ActionType="Placeholder" Asynchronous="False" Description="如果当前记录了负数，根据前一次就近二选一" DescriptionOverride="True" />
<Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="  前一次正好垂直，且不是第四轮：待定（不变）" DescriptionOverride="True" />
<Action OrderNumber="13" ActionType="Placeholder" Asynchronous="False" Description="  前一次确实有距离差异，或是第四轮：就近二选一" DescriptionOverride="True" />
<Action OrderNumber="14" TableVariableOp="Set" TableVariableExpressionType="Numeric" TableVariableName="新月_力2_毒_${热度}" TableVariableExpression="((${t:新月_力2_毒_${热度}[2][-2]} - ${t:新月_力2_毒_${热度}[2][-1]} + 1) %% 8 &lt; 3 ? 0 : 4) + (${t:新月_力2_毒_${热度}[2][-1]}) %% 8" TableVariableX="2" TableVariableY="-1" ActionType="TableVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}.height}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}[2][-2]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}[2][-1]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericLess" />
<ConditionGroup Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="(${t:新月_力2_毒_${热度}[2][-1]} - ${t:新月_力2_毒_${热度}[2][-2]}) %% 4" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}.height}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
</Condition>
</Action>
<Action OrderNumber="15" ActionType="Placeholder" Asynchronous="False" Description="在第3列添加 这一个方向的标点名称（若已确定）；若上一次的未确定则补上" DescriptionOverride="True" />
<Action OrderNumber="16" TableVariableOp="Set" TableVariableName="新月_力2_毒_${热度}" TableVariableExpression="${f:pick(${t:新月_力2_毒_${热度}[2][-1]}): Ａ,１,Ｄ,４,Ｃ,３,Ｂ,２}" TableVariableX="3" TableVariableY="-1" ActionType="TableVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}[2][-1]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="17" TableVariableOp="Set" TableVariableName="新月_力2_毒_${热度}" TableVariableExpression="${f:pick(${t:新月_力2_毒_${热度}[2][-2]}): Ａ,１,Ｄ,４,Ｃ,３,Ｂ,２}" TableVariableX="3" TableVariableY="-2" ActionType="TableVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}[3][-2]}" ExpressionTypeL="String" ExpressionR="" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${t:新月_力2_毒_${热度}.height}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="18" ActionType="Placeholder" Asynchronous="False" Description="在第4列添加 这一次是否要远离" DescriptionOverride="True" />
<Action OrderNumber="19" TableVariableOp="Set" TableVariableExpressionType="Numeric" TableVariableName="新月_力2_毒_${热度}" TableVariableExpression="!${t:新月_力2_毒_${热度}[1][-1]} &amp;&amp; ${t:新月_力2_毒_${热度}[2][-1]} % 2 != 0" TableVariableX="4" TableVariableY="-1" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="20" VariableOp="SetString" VariableName="新月_力2_毒_${热度}_text" VariableExpression="${t:新月_力2_毒_${热度}[3][1]}${if: ${t:新月_力2_毒_${热度}[1][1]} ? 吃 : ${if: ${t:新月_力2_毒_${热度}[4][1]} ? 远 : 躲 } } 》 ${t:新月_力2_毒_${热度}[3][2]}${if: ${t:新月_力2_毒_${热度}[1][2]} ? 吃 : ${if: ${t:新月_力2_毒_${热度}[4][2]} ? 远 : 躲 } } 》 ${t:新月_力2_毒_${热度}[3][3]}${if: ${t:新月_力2_毒_${热度}[1][3]} ? 吃 : ${if: ${t:新月_力2_毒_${热度}[4][3]} ? 远 : 躲 } } 》 ${t:新月_力2_毒_${热度}[3][4]}${if: ${t:新月_力2_毒_${热度}[1][4]} ? 吃 : ${if: ${t:新月_力2_毒_${热度}[4][4]} ? 远 : 躲 } }" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="21" ActionType="Placeholder" Asynchronous="False" Description="初始用第二次播报（确保初始方向已修正再播报初始值），后续用第四次播报" DescriptionOverride="True" />
<Action OrderNumber="22" LogMessageText="新月_力2_毒_播报:delay:0:t:8.7:n:1:b吃:${t:新月_力2_毒_${热度}[1][1]}:dir8:${t:新月_力2_毒_${热度}[2][1]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${热度}" ExpressionTypeL="String" ExpressionR="${v:新月_力2_毒_热度}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="23" LogMessageText="新月_力2_毒_播报:delay:3.7:t:5.6:n:2:b吃:${t:新月_力2_毒_${热度}[1][2]}:dir8:${t:新月_力2_毒_${热度}[2][2]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${热度}" ExpressionTypeL="String" ExpressionR="${v:新月_力2_毒_热度}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="24" LogMessageText="新月_力2_毒_播报:delay:9.3:t:5.6:n:3:b吃:${t:新月_力2_毒_${热度}[1][3]}:dir8:${t:新月_力2_毒_${热度}[2][3]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${热度}" ExpressionTypeL="String" ExpressionR="${v:新月_力2_毒_热度}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="25" LogMessageText="新月_力2_毒_播报:delay:14.9:t:5.6:n:3:b吃:${t:新月_力2_毒_${热度}[1][4]}:dir8:${t:新月_力2_毒_${热度}[2][4]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${n}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${热度}" ExpressionTypeL="String" ExpressionR="${v:新月_力2_毒_热度}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="27" ActionType="Placeholder" Asynchronous="False" Description="文本播报" DescriptionOverride="True" />
<Action OrderNumber="28" NamedCallbackName="command" NamedCallbackParam="/e 初始：&#xD;&#xA;1 层火：${t:新月_力2_毒_1[3][1]}点 ${if: ${t:新月_力2_毒_1[1][1]} ? 吃冰 : 躲避 }&#xD;&#xA;2 层火：${t:新月_力2_毒_2[3][1]}点 ${if: ${t:新月_力2_毒_2[1][1]} ? 吃冰 : 躲避 }&#xD;&#xA;3 层火：${t:新月_力2_毒_3[3][1]}点 ${if: ${t:新月_力2_毒_3[1][1]} ? 吃冰 : 躲避 }&#xD;&#xA;1 层冰：${t:新月_力2_毒_-1[3][1]}点 ${if: ${t:新月_力2_毒_-1[1][1]} ? 吃火 : 躲避 }&#xD;&#xA;2 层冰：${t:新月_力2_毒_-2[3][1]}点 ${if: ${t:新月_力2_毒_-2[1][1]} ? 吃火 : 躲避 }&#xD;&#xA;3 层冰：${t:新月_力2_毒_-3[3][1]}点 ${if: ${t:新月_力2_毒_-3[1][1]} ? 吃火 : 躲避 }" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${n}${热度}" ExpressionTypeL="String" ExpressionR="23" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="29" NamedCallbackName="command" NamedCallbackParam="/e 路线：&#xD;&#xA;1 层火：${v:新月_力2_毒_1_text}&#xD;&#xA;2 层火：${v:新月_力2_毒_2_text}&#xD;&#xA;3 层火：${v:新月_力2_毒_3_text}&#xD;&#xA;1 层冰：${v:新月_力2_毒_-1_text}&#xD;&#xA;2 层冰：${v:新月_力2_毒_-2_text}&#xD;&#xA;3 层冰：${v:新月_力2_毒_-3_text}" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${n}${热度}" ExpressionTypeL="String" ExpressionR="43" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4. 播报" Id="a9c5b435-a435-49a2-9c66-5fdbf69f69fd" RegularExpression="^新月_力2_毒_播报:delay:(?&lt;delay&gt;[^:]+):t:(?&lt;t&gt;[^:]+):n:(?&lt;n&gt;[1-4]):b吃:(?&lt;b吃&gt;[01]):dir8:(?&lt;dir8&gt;[0-7])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${delay}&#xD;&#xA;t: ${t}&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}    &#xD;&#xA;θ: dir2rad(${dir8}, 8)&#xD;&#xA;Scale: 0.1, (!${b吃} &amp;&amp; ${dir8} % 2 = 1 ? 11.35 : 4.63 ), 0.1&#xD;&#xA;Color: 3, 3, 3, 0.8&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: 新月&#xD;&#xA;delay: ${delay}&#xD;&#xA;t: ${t}&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}    &#xD;&#xA;θ: dir2rad(${dir8}, 8)&#xD;&#xA;Pos: 0, (!${b吃} &amp;&amp; ${dir8} % 2 = 1 ? -11.35 : -4.63 )&#xD;&#xA;ScaleCyl: (!${b吃} &amp;&amp; ${dir8} % 2 = 1 ? 1 : 1.5 ), 1&#xD;&#xA;Color: 1, 1.5, 5, 4" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="${delay} * 1000" />
<Action OrderNumber="3" UseTTSTextExpression="${if: ${n} = 1 ? 先去 : &quot;&quot; }${f:pick(${dir8}): 上北A点, 左上壹点, 正左D点, 左下肆点, 下南C点, 右下叁点, 右东B点, 右上贰点}，${if: !${b吃} &amp;&amp; ${dir8} % 2 = 1 ? 远离 : 靠近 }${if: ${b吃} ? 吃${if: ${v:新月_力2_毒_热度}&gt;0 ? 冰 : 火 } : 躲避 }" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="ea58396a-0c7a-480e-a7d4-df4c6eab3d47" Name="D. 扇形" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 获取跳跃终点 =&gt; 2" Id="1dd60a74-ed71-4007-992b-8d2352ec4715" RegularExpression="^.{15}\S+ 108:(?&lt;sid&gt;4.{7}):A5B4:.{8}:[^:]*:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="新月_力2_扇形_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="新月_力2_扇形_Σdx" VariableExpression="${x} - ${env:X0}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="Increment" VariableName="新月_力2_扇形_Σdy" VariableExpression="${y} - ${env:Y0}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="新月_力2_扇形:dir6:${n: roundvec(${v:新月_力2_扇形_Σdx}, ${v:新月_力2_扇形_Σdy}, 6)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:新月_力2_扇形_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:新月_力2_扇形_flag}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="da179876-7f1a-46f9-8cfc-cd86aea32cac" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(A5E5|A5D5|A5CB):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="分别是三次双扇形前的 boss 技能读条   flag 用于和开场三个 boss 一起跳作区分" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="新月_力2_扇形" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="新月_力2_扇形_flag" VariableExpression="1" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 处理" Id="ef0263e9-f865-4c2a-ba0b-0463448bc6df" RegularExpression="^新月_力2_扇形:dir6:(?&lt;dir6&gt;[0-5])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(0${dir6}): 上北, 左上, 左下, 下南, 右下, 右上 }安全" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:7.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan120&#xD;&#xA;tag: 新月&#xD;&#xA;t: 7.3&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: dir2rad(0${dir6}, 6)&#xD;&#xA;Pos: 0, -20&#xD;&#xA;Scale: 50&#xD;&#xA;Color: 0, 1, 5, 1.5&#xD;&#xA;---&#xD;&#xA;// 箭头&#xD;&#xA;Omen: e5d1_b1_kblaser_t1&#xD;&#xA;tag: 新月&#xD;&#xA;t: 7.3&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;θ: dir2rad(0${dir6}, 6)&#xD;&#xA;Scale: 1, 20.2&#xD;&#xA;Color: 0, 1, 5, 3" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-23 10:34" Id="f5c5b377-6078-4857-ab19-53c3df56bf63" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[20:53:39.891] 264 108:4000B275:A5B4:0013E304:1:-821.650:372.509:-876.003:-0.947:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[20:53:39.891] 264 108:4000B276:A5B4:0013E305:1:-778.375:372.509:-876.003:1.131:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[20:53:39.891] 264 108:4000B277:A5B4:0013E306:1:-800.012:335.002:-876.003:-3.134:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="1.19 * 1000" />
<Action OrderNumber="5" LogMessageText="[20:54:03.789] 264 108:4000B275:A5B4:0013E8EF:1:-809.107:365.246:-876.003:2.094:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[20:54:03.789] 264 108:4000B276:A5B4:0013E8F0:1:-790.918:365.246:-876.003:-2.094:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[20:54:03.789] 264 108:4000B277:A5B4:0013E8F1:1:-800.012:349.498:-876.003:0.000:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="2.98 * 1000" />
<Action OrderNumber="9" LogMessageText="[20:55:03.279] StartsCasting 14:4000B275:福博斯:A5E5:毒素爆散:4000B275:福博斯:4.700:-800.02:359.98:-876.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="0.61 * 1000" />
<Action OrderNumber="11" LogMessageText="[20:55:15.531] 264 108:4000B276:A5B4:0013F829:1:-782.678:350.017:-876.003:3.011:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[20:55:15.531] 264 108:4000B277:A5B4:0013F82A:1:-817.347:350.017:-876.003:-3.011:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="0.89 * 1000" />
<Action OrderNumber="14" LogMessageText="[20:55:33.267] 264 108:4000B275:A5B4:0013FB8D:1:-809.107:365.246:-876.003:-1.047:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[20:55:33.267] 264 108:4000B276:A5B4:0013FB8E:1:-790.918:365.246:-876.003:-0.418:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[20:55:33.267] 264 108:4000B277:A5B4:0013FB8F:1:-800.012:349.498:-876.003:0.301:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" ActionType="Placeholder" ExecutionDelayExpression="1.26 * 1000" />
<Action OrderNumber="18" LogMessageText="[20:55:58.573] 264 108:4000B275:A5B4:0014026C:1:-809.107:365.246:-876.003:-1.025:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="[20:55:58.573] 264 108:4000B276:A5B4:0014026D:1:-790.918:365.246:-876.003:0.898:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" LogMessageText="[20:55:58.573] 264 108:4000B277:A5B4:0014026E:1:-800.012:349.498:-876.003:3.051:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="22" LogMessageText="[20:56:40.542] StartsCasting 14:4000B276:涅瑞伊得:A5D5:爆炸四散:4000B276:涅瑞伊得:12.700:-800.02:359.98:-876.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" ActionType="Placeholder" ExecutionDelayExpression="0.97 * 1000" />
<Action OrderNumber="24" LogMessageText="[20:56:59.927] 264 108:4000B275:A5B4:00140FD1:1:-782.678:350.017:-876.003:0.835:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="25" LogMessageText="[20:56:59.927] 264 108:4000B277:A5B4:00140FD2:1:-817.347:350.017:-876.003:-2.647:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="0.89 * 1000" />
<Action OrderNumber="27" LogMessageText="[20:57:17.673] 264 108:4000B275:A5B4:001413AC:1:-809.107:365.246:-876.003:-1.047:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" LogMessageText="[20:57:17.673] 264 108:4000B276:A5B4:001413AD:1:-790.918:365.246:-876.003:1.047:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="29" LogMessageText="[20:57:17.673] 264 108:4000B277:A5B4:001413AE:1:-800.012:349.498:-876.003:0.811:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" ActionType="Placeholder" ExecutionDelayExpression="1.36 * 1000" />
<Action OrderNumber="31" LogMessageText="[20:57:44.990] 264 108:4000B275:A5B4:00141A6C:1:-809.107:365.246:-876.003:-1.535:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="32" LogMessageText="[20:57:44.990] 264 108:4000B276:A5B4:00141A6D:1:-790.918:365.246:-876.003:1.082:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="33" LogMessageText="[20:57:44.990] 264 108:4000B277:A5B4:00141A6E:1:-800.012:349.498:-876.003:-2.976:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" ActionType="Placeholder" ExecutionDelayExpression="1.94 * 1000" />
<Action OrderNumber="35" LogMessageText="[20:58:23.679] StartsCasting 14:4000B277:特里同:A5CB:火炎放射:4000B277:特里同:4.700:-800.02:359.98:-876.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="36" ActionType="Placeholder" ExecutionDelayExpression="1.74 * 1000" />
<Action OrderNumber="37" LogMessageText="[20:58:58.493] 264 108:4000B275:A5B4:00142891:1:-800.012:380.017:-876.003:0.000:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="38" LogMessageText="[20:58:58.498] 264 108:4000B276:A5B4:00142892:1:-782.678:350.017:-876.003:2.618:E0000000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="5bfd6c2e-1890-45b0-a4d5-5fd15e276851" Name="B. 冰" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 播报" Id="a9cb6740-ff85-4f92-9cb7-9ffae56e12ef" RegularExpression="新月_力2_冰_点名:(?&lt;b点名&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b点名} ? 点名，对侧拉线 : 去自己的雪球对侧 }，靠场中击退" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取雪球点名" Id="818c38d1-54aa-463b-ad88-f799482a3758" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A5D1:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="新月_力2_冰_点名" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="新月_力2_冰_点名:${l:新月_力2_冰_点名.contain(${_me.id})}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:新月_力2_冰_点名.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="b2176b0b-9486-4f10-ac58-d621bd442fc2" Name="C. 火" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="陨石" Id="7450b93e-bf50-4120-9d4a-795a931983e6" RegularExpression="^.{15}\S+ 105:Add:(?&lt;id&gt;4.{7}).*?:BNpcID:(?&lt;bnpcid&gt;1EBDAD).*?:Heading:(?&lt;h&gt;[^:]+).*?:PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):PosZ:(?&lt;z&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="箭头起点没东西，生成的 EObj 在塔的位置，背对箭头起点   箭头方向与[塔-场中]方向夹角 55.0°，箭头移动 20 m" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="// 连线&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 8.5&#xD;&#xA;O: ${x}, ${y}, ${z}&#xD;&#xA;θ: ${h}&#xD;&#xA;Pos: 0, 20&#xD;&#xA;Scale: 0.05, 20, 0.1&#xD;&#xA;Color: 3, 3, 3, 0.8&#xD;&#xA;---&#xD;&#xA;// 起点&#xD;&#xA;Omen: z5r2_b1_arrow_o0g&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 8.5&#xD;&#xA;O: ${x}, ${y}, ${z}&#xD;&#xA;θ: ${h}&#xD;&#xA;Pos: 0, 20&#xD;&#xA;ScaleCyl: 5, 1&#xD;&#xA;---&#xD;&#xA;// 终点&#xD;&#xA;Omen: fire_trap_o0g&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 8.5&#xD;&#xA;O: ${x}, ${y}, ${z}&#xD;&#xA;θ: ${h}&#xD;&#xA;ScaleCyl: 5, 5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" LogMessageText="cd5:8.5" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${id} % 2" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-24 02:36" Id="026e4ca4-d453-42f3-9d1f-c35f10f7ea26" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[20:57:59.136] 261 105:Add:4000B40F:BNpcID:1EBDAD:Heading:-2.1817:PosX:-799.9998:PosY:339.9999:PosZ:-876.0000:Radius:0.5000:Type:7" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[20:57:59.136] 261 105:Add:4000B410:BNpcID:1EBDAD:Heading:0.9599:PosX:-799.9998:PosY:379.9999:PosZ:-876.0000:Radius:0.5000:Type:7" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="自己踩了第一轮塔" Id="575aadc8-8ede-4a65-9a2c-2119d6e78549" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:A5C[02]:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="无敌" UseTTSExclusive="False" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="标点（两歧塔 力之塔:上层2）" Id="84dfb4a0-3364-4fcc-a6e6-12ac9c134e41" RegularExpression="^.{15}\S+ 28:985:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;R: 10.5&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;local: false" UseTTSExclusive="False" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="时间轴" Id="4eda98a9-c9ab-417a-8db4-90fa43b678ef" RegularExpression="^.{15}\S+ 29:.{8}:7DC:02:1451:">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:7.0:跟随自己组boss" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:10.8:AoE，远离场边" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:17.4:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:28.1:回场中" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:32.6:毒阶段，准备转火绿色" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:43.3:AoE，看debuff" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:87.5:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:99.2:准备分身顺劈" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:118.5:三连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="tts:131.9:朝场外分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="tts:147.1:雪球阶段，准备转火紫色" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="tts:155.8:找自己的雪球" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="tts:181.8:贴场边" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="tts:184.0:打雪球" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="tts:203.6:准备分身顺劈" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="tts:223.6:三连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="tts:236.8:朝场外分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="tts:247.1:准备火球" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="tts:253.6:火球阶段，准备转火红色" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="20" LogMessageText="tts:263.0:找自己的陨石" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="tts:273.8:站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogMessageText="tts:285.4:场边集合，引导黄圈" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="23" LogMessageText="tts:297.1:回${?d: Tank = 内场, Healer = 侧面, DPS = 场边 [${_me.Role}]}" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="24" LogMessageText="tts:322.3:准备分身顺劈" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="25" LogMessageText="tts:343.3:去分散位置" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="26" LogMessageText="tts:352.9:大AoE，远离场中" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="连线 boss" Id="1b6717f8-047b-406f-849d-c532f93ce624" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;00F9):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="打${?d: 18310=红, 18311=紫, 18312=绿 [${_entity[${tid}].BNpcID}] }色" UseTTSExclusive="False" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="Channeling" NamedCallbackParam="${_me.Address}, ${_entity[${tid}].Address}, chn_m0834_2c, 4.5" Enabled="False" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${sid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="602127b9-b8b6-460a-9136-0c1e9bec9038" Name="1.5  道中" Enabled="true">
<Folders>
<Folder Id="e4c1577d-65c3-4bed-9738-6c84c9dd671f" Name="宝箱" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="3. 进入区域" Id="346ef790-3b4c-4a24-af13-519d38db4204" RegularExpression="^.{15}\S+ 28:(?&lt;map&gt;97[56]):" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="180000">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="宝箱在${if: ${v:新月_力15_左宝箱_b左} ? 左 : 右 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${map}" ExpressionTypeL="String" ExpressionR="975" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${ev:新月_力15_左宝箱_b左}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" UseTTSTextExpression="宝箱在${if: ${v:新月_力15_右宝箱_b左} ? 左 : 右 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${map}" ExpressionTypeL="String" ExpressionR="976" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${ev:新月_力15_右宝箱_b左}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 记录" Id="93f1f4de-cd8d-4aa9-8a1e-1e632f868d65" RegularExpression="^新月_力_宝箱:(?&lt;bnpcid&gt;175[45]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_new" VariableExpression="!(${bnpcid} = 1754 ? ${ev:新月_力15_左宝箱_b左} : ${ev:新月_力15_右宝箱_b左})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="新月_力15_左宝箱_b左" VariableExpression="${x} &lt; 610" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${bnpcid}" ExpressionTypeL="String" ExpressionR="1754" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="新月_力15_右宝箱_b左" VariableExpression="${x} &lt; 790" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${bnpcid}" ExpressionTypeL="String" ExpressionR="1755" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="4" LogMessageText="新月_力15_宝箱:b左回廊:${n: ${bnpcid}=1754}:b左:${n: ${bnpcid}=1754 ? 0${v:新月_力15_左宝箱_b左} : 0${v:新月_力15_右宝箱_b左} }" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_new}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" VariableName="tmp_new" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 首次播报" Id="34a7a991-71fb-44d7-8fa8-fc4805b1f0e4" RegularExpression="^新月_力15_宝箱:b左回廊:(?&lt;b左回廊&gt;[01]):b左:(?&lt;b左&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b左回廊} ? 西侧 : 东侧 }宝箱在${if: ${b左} ? 左 : 右 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b左回廊}" ExpressionTypeL="String" ExpressionR="${_me.x} &lt; 700" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="command" NamedCallbackParam="/e &lt;se.10&gt;&#xD;&#xA;${if: ${b左回廊} ? 西侧回廊 : 东侧回廊 }：宝箱在${if: ${b左} ? 左 ← : 右 → }" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="宝箱" Id="a1ead058-35c5-4c57-afae-57fd5cc28b99" RegularExpression="^.{15}\S+ 105:Add.*?:BNpcID:(?&lt;bnpcid&gt;[^:]*).*?:PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):PosZ:(?&lt;z&gt;[^:]+).*?:Type:4(?=:|$)">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_力_宝箱:${n: 0x${bnpcid}}:${x}:${y}:${z}" LogProcess="True" LogProcessACT="True" LogLevel="Custom2" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${z}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="b4420c3f-46a9-4c53-9417-7a2f2e0ae22b" Name="4. 魔陶洛斯" Enabled="true" RawEnvironmentVariables="X0 = 700&#xD;&#xA;Y0 = -674&#xD;&#xA;Z0 = -476&#xD;&#xA;// 地板一格 4&#xD;&#xA;// 场边彩灯 R = 28">
<Folders>
<Folder Id="f341a4eb-d75d-4fde-9f4d-c287a13a8a15" Name="蓝黄武器" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 封印解除 + 三次平A" Id="8acb5a5f-e47e-4c2b-892a-c226bde3d521" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A241|A242):">
<Actions>
<Action OrderNumber="1" TTSRouting="Triggernometry" VariableOp="SetNumeric" VariableName="新月_力4_b黄" VariableExpression="0x${aid} = 0xA241" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="三次${if: ${v:新月_力4_b黄} ? 近 : 远 }平A" ActionType="UseTTS" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 远近死刑" Id="bc7908ff-f329-4ff5-849a-9ef747f19b21" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A265:">
<Actions>
<Action OrderNumber="1" TTSRouting="Triggernometry" UseTTSTextExpression="远近死刑，然后${if: ${v:新月_力4_b黄} ? 近 : 远 }平A" ActionType="UseTTS" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="6000" />
<Action OrderNumber="3" TTSRouting="Triggernometry" UseTTSTextExpression="两次${if: ${v:新月_力4_b黄} ? 近 : 远 }平A" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 罐子" Id="67ed60da-6742-42ce-968a-005fbed5e3ea" RegularExpression="^新月_力4_罐子预报" PeriodRefire="Deny" RefirePeriodExpression="20000">
<Actions>
<Action OrderNumber="1" TTSRouting="Triggernometry" UseTTSTextExpression="打${if: ${_me.HasStatus(${env:辅助狂战士})} ? 紫 : ${if: ${v:新月_力4_b黄} ? 黄 : 蓝 } }罐子" UseTTSExclusive="False" ActionType="UseTTS" />
<Action OrderNumber="2" TTSRouting="Triggernometry" UseTTSTextExpression="靠近罐子，注意无敌" UseTTSExclusive="False" ActionType="UseTTS" ExecutionDelayExpression="5000">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.HasStatus(${env:辅助骑士})}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="时间轴" Id="ee86fdab-5417-49d8-b8ee-5ebc7016c793" RegularExpression="^.{15}\S+ 29:.{8}:7DC:02:1453:">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:3.0:去自己的平台" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:7.1:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:45.0:小刀" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:75.0:回平台，准备远近死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="log:94.5:新月_力4_罐子预报" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:130.6:准备贤杖" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:145.5:脚下分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:162.6:脚下分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:198.3:斧子" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="tts:227.4:回平台，准备远近死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="log:248.6:新月_力4_罐子预报" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="tts:271.2:小刀" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="tts:303.4:回平台" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="tts:325.0:圣枪" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="tts:370.5:回平台，AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="tts:379.1:准备远近死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="log:397.6:新月_力4_罐子预报" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="tts:419.1:小刀" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="钢铁月环" Id="12fbab33-84a7-4da3-badf-f4a602704d90" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A247|A24B):">
<Actions>
<Action OrderNumber="1" TTSRouting="Triggernometry" UseTTSTextExpression="${if: 0x${aid} = 0xA247 ? 钢铁，去后方 : 月环，去夹角 }" UseTTSRateExpression="2" UseTTSExclusive="False" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="d23aab75-9f6f-45c3-8254-a39fb7ffa94b" Name="2.5  道中" Enabled="true" RawEnvironmentVariables="X0 = -800&#xD;&#xA;Y0 = 258&#xD;&#xA;Z0 = -875.8&#xD;&#xA;// 入口平台中心">
<Folders>
<Folder Id="77cee945-f833-4f45-9e1c-e0ab9896138f" Name="区域切换日志" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="6. 终点开门" Id="6dcbb5e8-3df4-4873-901b-40807bb9f1cf" RegularExpression="^.{15}\S+ 101:.{8}:00020001:1B">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_力25_phase:6" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1: 区域封锁" Id="1254cd19-5616-4f45-b884-f41984b54a45" RegularExpression="^.{15}\S+ 29:.{8}:7DC:02:1454:">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_力25_phase:1" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2L/2R: 1-2 房门开启" Id="d8f6fa29-cc31-4711-ac08-ee723aed41fa" RegularExpression="^.{15}\S+ 101:.{8}:00020001:(?&lt;pos&gt;15|17)">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_力25_phase:2${if: 0x${pos}=0x15 ? 左 : 右 }:${n: (0x${pos}=0x15) = (${_me.y} &lt; 319)}" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3L/3R: 2-3 房门开启" Id="4883576a-0f65-4bba-9b5b-e6a9ba879ddc" RegularExpression="^.{15}\S+ 101:.{8}:00020001:(?&lt;pos&gt;16|18)">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_力25_phase:3${if: 0x${pos}=0x16 ? 左 : 右 }:${n: (0x${pos}=0x16) = (${_me.y} &lt; 319)}" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4. 左桥开启" Id="0b08cd3f-6a8b-4d48-8f4f-9bbf961d5490" RegularExpression="^.{15}\S+ 101:.{8}:00020001:19">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_力25_phase:4" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="5. 右桥开启" Id="10b093c7-a42b-49b1-8970-186e935ac047" RegularExpression="^.{15}\S+ 101:.{8}:00020001:1A">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_力25_phase:5" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="远近线" Id="bd5a1164-4379-4c87-b5f3-b09d8679ef04" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A620|A622):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: 0x${aid} = 0xA620 ? 远离 : 靠近 }" UseTTSExclusive="False" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="小爆弹" Id="9c2e2c15-a98a-412c-ba34-007f944e8f8e" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A626|A627):" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="转火小怪" UseTTSExclusive="False" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="7a98e6a8-9784-4d6f-957f-83845d56ae9f" Name="3.5  道中" Enabled="true" RawEnvironmentVariables="X0 = 700&#xD;&#xA;Y0 = -265&#xD;&#xA;Z0 = -500&#xD;&#xA;// 起点">
<Folders />
<Triggers />
</Folder>
<Folder Id="f8530fe4-58c3-47ab-a61d-25c3f23dcbd9" Name="3. 大理石龙" Enabled="true" RawEnvironmentVariables="X0 = -337&#xD;&#xA;Y0 = 157&#xD;&#xA;Z0 = -840&#xD;&#xA;R = 30">
<Folders>
<Folder Id="ec2fac4f-46ab-4c91-8757-b55dbf2096fd" Name="转发水圈" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 转发水圈冻结" Id="57bca226-9b28-4516-931e-b4c9cceef373" RegularExpression="^.{15}\S+ AAA:204:10:20:4.{7}:[^:]*:[^:]*:(?&lt;bnpcid&gt;201454[678]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_力3_水圈_冻结:phase:${v:新月_力3_phase}:type:${?d: 2014546 = 圆, 2014547 = 十, 2014548 = 塔 [${bnpcid}]}:${x}:${y}:${z}:${h}" LogProcess="True" LogProcessACT="True" UseTTSExclusive="False" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 转发水圈生成" Id="ba03a137-18bc-4173-9e9e-cd1c1030a5e2" RegularExpression="^.{15}\S+ 105:Add.*?:BNpcID:(?&lt;bnpcid&gt;1EBD5[234]).*?:Heading:(?&lt;h&gt;[^:]+).*?:PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):PosZ:(?&lt;z&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" LogMessageText="新月_力3_水圈_生成:phase:${v:新月_力3_phase}:type:${?d: 1EBD52 = 圆, 1EBD53 = 十, 1EBD54 = 塔 [${bnpcid}]}:${x}:${y}:${z}:${h}" LogProcess="True" LogProcessACT="True" UseTTSExclusive="False" ActionType="LogMessage" ExecutionDelayExpression="500" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-08-24 09:58" Id="28282dd6-8215-4d68-96ce-3413376eb834" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[21:29:41.477] AOEActionEffect 16:4000B909:大理石龙:7797:仿效雨:1048100F:唱反调:650603:1D8D0000:1B:77978000:0:0:0:0:0:0:0:0:0:0:0:0:122021:142729:9600:10000:::-337.00:164.51:-840.00:-3.12:44:44:0:10000:::-337.00:140.00:-840.00:0.00:0014BF70:0:23:00::01:7797:7797:2.100:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[21:29:41.186] 261 105:Add:4000B9C4:BNpcID:1EBD52:Heading:0.0000:PosX:-355.0000:PosY:173.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[21:29:41.186] 261 105:Add:4000B9C8:BNpcID:1EBD52:Heading:0.0000:PosX:-355.0000:PosY:141.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[21:29:41.186] 261 105:Add:4000B9C1:BNpcID:1EBD52:Heading:0.0000:PosX:-319.0000:PosY:173.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[21:29:41.186] 261 105:Add:4000B9C3:BNpcID:1EBD53:Heading:0.0000:PosX:-343.0000:PosY:173.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[21:29:41.186] 261 105:Add:4000B9C5:BNpcID:1EBD52:Heading:0.0000:PosX:-319.0000:PosY:141.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[21:29:41.186] 261 105:Add:4000B9C2:BNpcID:1EBD52:Heading:0.0000:PosX:-331.0000:PosY:173.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[21:29:41.186] 261 105:Add:4000B9C7:BNpcID:1EBD52:Heading:0.0000:PosX:-343.0000:PosY:141.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[21:29:41.186] 261 105:Add:4000B9C6:BNpcID:1EBD53:Heading:0.0000:PosX:-331.0000:PosY:141.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="11" LogMessageText="[21:29:57.655] _EObjAnimation AAA:204:10:20:4000B9C8::256:2014546:-355:141:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[21:29:57.655] _EObjAnimation AAA:204:10:20:4000B9C2::256:2014546:-331:173:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="0.98 * 1000" />
<Action OrderNumber="14" LogMessageText="[21:29:58.640] _EObjAnimation AAA:204:10:20:4000B9C7::256:2014546:-343:141:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[21:29:58.640] _EObjAnimation AAA:204:10:20:4000B9C1::3293708289:2014546:-319:173:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[21:29:58.640] _EObjAnimation AAA:204:10:20:4000B9C3::256:2014547:-343:173:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" ActionType="Placeholder" ExecutionDelayExpression="0.98 * 1000" />
<Action OrderNumber="18" LogMessageText="[21:29:59.620] _EObjAnimation AAA:204:10:20:4000B9C4::256:2014546:-355:173:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="[21:29:59.620] _EObjAnimation AAA:204:10:20:4000B9C6::256:2014547:-331:141:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="1.03 * 1000" />
<Action OrderNumber="21" LogMessageText="[21:30:00.649] _EObjAnimation AAA:204:10:20:4000B9C5::256:2014546:-319:141:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" ActionType="Placeholder" ExecutionDelayExpression="10.0 * 1000" />
<Action OrderNumber="23" LogMessageText="[21:30:23.647] AOEActionEffect 16:4000B909:大理石龙:7797:仿效雨:1048100F:唱反调:650003:79A60000:1B:77978000:0:0:0:0:0:0:0:0:0:0:0:0:118941:118941:9100:10000:::-336.81:167.28:-840.00:-2.87:44:44:0:10000:::-337.00:157.00:-840.00:0.00:0014C89F:0:23:00::01:7797:7797:2.100:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" LogMessageText="[21:30:23.421] 261 105:Add:4000B9F9:BNpcID:1EBD53:Heading:0.0000:PosX:-321.0000:PosY:141.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="25" LogMessageText="[21:30:23.421] 261 105:Add:4000B9F8:BNpcID:1EBD53:Heading:0.0000:PosX:-337.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" LogMessageText="[21:30:23.421] 261 105:Add:4000B9FB:BNpcID:1EBD52:Heading:0.0000:PosX:-353.0000:PosY:141.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="27" LogMessageText="[21:30:23.421] 261 105:Add:4000B9F7:BNpcID:1EBD53:Heading:0.0000:PosX:-353.0000:PosY:173.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" LogMessageText="[21:30:23.421] 261 105:Add:4000B9FA:BNpcID:1EBD52:Heading:0.0000:PosX:-337.0000:PosY:133.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="29" LogMessageText="[21:30:23.421] 261 105:Add:4000B9F5:BNpcID:1EBD52:Heading:0.0000:PosX:-321.0000:PosY:173.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" LogMessageText="[21:30:23.421] 261 105:Add:4000B9F6:BNpcID:1EBD52:Heading:0.0000:PosX:-337.0000:PosY:181.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="31" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="32" LogMessageText="[21:30:37.857] _EObjAnimation AAA:204:10:20:4000B9F9::3293708289:2014547:-321:141:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="33" LogMessageText="[21:30:37.857] _EObjAnimation AAA:204:10:20:4000B9F7::256:2014547:-353:173:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" ActionType="Placeholder" ExecutionDelayExpression="4.01 * 1000" />
<Action OrderNumber="35" LogMessageText="[21:30:41.871] _EObjAnimation AAA:204:10:20:4000B9FB::256:2014546:-353:141:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="36" LogMessageText="[21:30:41.871] _EObjAnimation AAA:204:10:20:4000B9FA::256:2014546:-337:133:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="37" LogMessageText="[21:30:41.871] _EObjAnimation AAA:204:10:20:4000B9F6::256:2014546:-337:181:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="38" LogMessageText="[21:30:41.871] _EObjAnimation AAA:204:10:20:4000B9F5::256:2014546:-321:173:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="39" ActionType="Placeholder" ExecutionDelayExpression="4.01 * 1000" />
<Action OrderNumber="40" LogMessageText="[21:30:45.874] _EObjAnimation AAA:204:10:20:4000B9F8::256:2014547:-337:157:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="41" ActionType="Placeholder" ExecutionDelayExpression="10.0 * 1000" />
<Action OrderNumber="42" LogMessageText="[21:31:15.860] AOEActionEffect 16:4000B90A:大理石龙:7797:仿效雨:10480FC2:二氧化碳:650003:0:1B:77978000:0:0:0:0:0:0:0:0:0:0:0:0:120295:120295:9132:10000:::-347.92:172.96:-840.00:-1.37:44:44:0:10000:::-337.00:157.00:-840.00:0.00:0014D1AD:23:24:00::01:7797:7797:2.100:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="43" LogMessageText="[21:31:15.944] 261 105:Add:4000BA38:BNpcID:1EBD54:Heading:0.0000:PosX:-311.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="44" LogMessageText="[21:31:15.944] 261 105:Add:4000BA36:BNpcID:1EBD54:Heading:0.0000:PosX:-337.0000:PosY:183.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="45" LogMessageText="[21:31:15.944] 261 105:Add:4000BA3C:BNpcID:1EBD53:Heading:0.0000:PosX:-337.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="46" LogMessageText="[21:31:15.944] 261 105:Add:4000BA3A:BNpcID:1EBD54:Heading:0.0000:PosX:-355.5000:PosY:138.5000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="47" LogMessageText="[21:31:15.944] 261 105:Add:4000BA3B:BNpcID:1EBD54:Heading:0.0000:PosX:-337.0000:PosY:131.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="48" LogMessageText="[21:31:15.944] 261 105:Add:4000BA37:BNpcID:1EBD54:Heading:0.0000:PosX:-318.5000:PosY:175.5000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="49" LogMessageText="[21:31:15.944] 261 105:Add:4000BA39:BNpcID:1EBD54:Heading:0.0000:PosX:-363.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="50" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="51" LogMessageText="[21:31:28.033] _EObjAnimation AAA:204:10:20:4000BA3C::256:2014547:-337:157:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="52" LogMessageText="[21:31:28.033] _EObjAnimation AAA:204:10:20:4000BA3A::256:2014548:-355.5:138.5:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="53" LogMessageText="[21:31:28.033] _EObjAnimation AAA:204:10:20:4000BA37::256:2014548:-318.5:175.5:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="54" ActionType="Placeholder" ExecutionDelayExpression="3.97 * 1000" />
<Action OrderNumber="55" LogMessageText="[21:31:32.003] _EObjAnimation AAA:204:10:20:4000BA3B::256:2014548:-337:131:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="56" LogMessageText="[21:31:32.003] _EObjAnimation AAA:204:10:20:4000BA39::256:2014548:-363:157:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="57" LogMessageText="[21:31:32.003] _EObjAnimation AAA:204:10:20:4000BA38::3293708289:2014548:-311:157:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="58" LogMessageText="[21:31:32.003] _EObjAnimation AAA:204:10:20:4000BA36::3293904896:2014548:-337:183:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="59" ActionType="Placeholder" ExecutionDelayExpression="8.73 * 1000" />
<Action OrderNumber="60" LogMessageText="[21:31:40.737] AOEActionEffect 16:4000B909:大理石龙:7797:仿效雨:1048100F:唱反调:650003:818F0000:1B:77978000:0:0:0:0:0:0:0:0:0:0:0:0:118941:118941:8700:10000:::-326.72:177.17:-840.01:2.05:44:44:0:10000:::-363.00:157.00:-840.00:0.00:0014D6C6:0:23:00::01:7797:7797:2.100:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="61" LogMessageText="[21:31:40.684] 261 105:Add:4000BA61:BNpcID:1EBD54:Heading:0.0000:PosX:-355.5000:PosY:175.5000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="62" LogMessageText="[21:31:40.684] 261 105:Add:4000BA62:BNpcID:1EBD54:Heading:0.0000:PosX:-318.5000:PosY:138.5000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="63" LogMessageText="[21:31:40.684] 261 105:Add:4000BA65:BNpcID:1EBD53:Heading:-0.7855:PosX:-337.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="64" LogMessageText="[21:31:40.684] 261 105:Add:4000BA63:BNpcID:1EBD54:Heading:0.0000:PosX:-337.0000:PosY:131.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="65" LogMessageText="[21:31:40.684] 261 105:Add:4000BA60:BNpcID:1EBD54:Heading:0.0000:PosX:-336.9999:PosY:183.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="66" LogMessageText="[21:31:40.684] 261 105:Add:4000BA5F:BNpcID:1EBD54:Heading:0.0000:PosX:-318.5000:PosY:175.5000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="67" LogMessageText="[21:31:40.684] 261 105:Add:4000BA64:BNpcID:1EBD54:Heading:0.0000:PosX:-355.5000:PosY:138.5000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="68" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="69" LogMessageText="[21:31:52.234] _EObjAnimation AAA:204:10:20:4000BA65::256:2014547:-337:157:-840:-0.7854581" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="70" LogMessageText="[21:31:52.234] _EObjAnimation AAA:204:10:20:4000BA63::3293708289:2014548:-337:131:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="71" LogMessageText="[21:31:52.234] _EObjAnimation AAA:204:10:20:4000BA60::256:2014548:-336.9999:183:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="72" ActionType="Placeholder" ExecutionDelayExpression="3.97 * 1000" />
<Action OrderNumber="73" LogMessageText="[21:31:56.203] _EObjAnimation AAA:204:10:20:4000BA64::256:2014548:-355.5:138.5:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="74" LogMessageText="[21:31:56.203] _EObjAnimation AAA:204:10:20:4000BA62::256:2014548:-318.5:138.5:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="75" LogMessageText="[21:31:56.203] _EObjAnimation AAA:204:10:20:4000BA61::256:2014548:-355.5:175.5:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="76" LogMessageText="[21:31:56.203] _EObjAnimation AAA:204:10:20:4000BA5F::256:2014548:-318.5:175.5:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="77" ActionType="Placeholder" ExecutionDelayExpression="10.0 * 1000" />
<Action OrderNumber="78" LogMessageText="[21:32:59.226] AOEActionEffect 16:4000B909:大理石龙:7797:仿效雨:1048100F:唱反调:650003:8A890000:1B:77978000:0:0:0:0:0:0:0:0:0:0:0:0:118941:118941:10000:10000:::-336.84:166.33:-840.00:-2.96:44:44:0:10000:::-318.50:138.50:-840.00:0.00:0014E391:0:23:00::01:7797:7797:2.100:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="79" LogMessageText="[21:32:58.976] 261 105:Add:4000BAB4:BNpcID:1EBD53:Heading:0.0000:PosX:-331.0000:PosY:173.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="80" LogMessageText="[21:32:58.976] 261 105:Add:4000BAB3:BNpcID:1EBD52:Heading:0.0000:PosX:-319.0000:PosY:173.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="81" LogMessageText="[21:32:58.976] 261 105:Add:4000BAB6:BNpcID:1EBD52:Heading:0.0000:PosX:-355.0000:PosY:173.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="82" LogMessageText="[21:32:58.976] 261 105:Add:4000BAB8:BNpcID:1EBD52:Heading:0.0000:PosX:-331.0000:PosY:141.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="83" LogMessageText="[21:32:58.976] 261 105:Add:4000BAB9:BNpcID:1EBD53:Heading:0.0000:PosX:-343.0000:PosY:141.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="84" LogMessageText="[21:32:58.976] 261 105:Add:4000BABA:BNpcID:1EBD52:Heading:0.0000:PosX:-355.0000:PosY:141.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="85" LogMessageText="[21:32:58.976] 261 105:Add:4000BAB7:BNpcID:1EBD52:Heading:0.0000:PosX:-319.0000:PosY:141.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="86" LogMessageText="[21:32:58.976] 261 105:Add:4000BAB5:BNpcID:1EBD52:Heading:0.0000:PosX:-343.0000:PosY:173.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="87" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="88" LogMessageText="[21:33:15.179] _EObjAnimation AAA:204:10:20:4000BAB7::256:2014546:-319:141:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="89" LogMessageText="[21:33:15.179] _EObjAnimation AAA:204:10:20:4000BAB5::256:2014546:-343:173:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="90" ActionType="Placeholder" ExecutionDelayExpression="0.99 * 1000" />
<Action OrderNumber="91" LogMessageText="[21:33:16.169] _EObjAnimation AAA:204:10:20:4000BAB8::256:2014546:-331:141:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="92" LogMessageText="[21:33:16.169] _EObjAnimation AAA:204:10:20:4000BAB6::256:2014546:-355:173:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="93" LogMessageText="[21:33:16.169] _EObjAnimation AAA:204:10:20:4000BAB4::256:2014547:-331:173:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="94" ActionType="Placeholder" ExecutionDelayExpression="0.98 * 1000" />
<Action OrderNumber="95" LogMessageText="[21:33:17.152] _EObjAnimation AAA:204:10:20:4000BAB9::256:2014547:-343:141:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="96" LogMessageText="[21:33:17.152] _EObjAnimation AAA:204:10:20:4000BAB3::3293904896:2014546:-319:173:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="97" ActionType="Placeholder" ExecutionDelayExpression="1.03 * 1000" />
<Action OrderNumber="98" LogMessageText="[21:33:18.178] _EObjAnimation AAA:204:10:20:4000BABA::256:2014546:-355:141:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="99" ActionType="Placeholder" ExecutionDelayExpression="10.0 * 1000" />
<Action OrderNumber="100" LogMessageText="[21:33:52.167] AOEActionEffect 16:4000B909:大理石龙:7797:仿效雨:1048100F:唱反调:650003:3D730000:1B:77978000:0:0:0:0:0:0:0:0:0:0:0:0:118941:118941:10000:10000:::-342.79:163.38:-840.00:-1.52:44:44:0:10000:::-337.00:157.00:-840.00:0.00:0014EDB4:0:23:00::01:7797:7797:2.100:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="101" LogMessageText="[21:33:51.816] 261 105:Add:4000BB00:BNpcID:1EBD54:Heading:0.0000:PosX:-328.0000:PosY:151.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="102" LogMessageText="[21:33:51.816] 261 105:Add:4000BB01:BNpcID:1EBD54:Heading:0.0000:PosX:-337.0000:PosY:151.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="103" LogMessageText="[21:33:51.816] 261 105:Add:4000BB03:BNpcID:1EBD53:Heading:0.0000:PosX:-359.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="104" LogMessageText="[21:33:51.816] 261 105:Add:4000BB05:BNpcID:1EBD53:Heading:0.0000:PosX:-315.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="105" LogMessageText="[21:33:51.943] 261 105:Add:4000BB06:BNpcID:1EBD52:Heading:0.0000:PosX:-337.0000:PosY:135.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="106" LogMessageText="[21:33:51.943] 261 105:Add:4000BAFD:BNpcID:1EBD54:Heading:0.0000:PosX:-328.0000:PosY:163.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="107" LogMessageText="[21:33:51.943] 261 105:Add:4000BAFE:BNpcID:1EBD54:Heading:0.0000:PosX:-337.0000:PosY:163.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="108" LogMessageText="[21:33:51.943] 261 105:Add:4000BAFF:BNpcID:1EBD54:Heading:0.0000:PosX:-346.0000:PosY:163.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="109" LogMessageText="[21:33:51.816] 261 105:Add:4000BB04:BNpcID:1EBD52:Heading:0.0000:PosX:-337.0000:PosY:179.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="110" LogMessageText="[21:33:51.816] 261 105:Add:4000BB02:BNpcID:1EBD54:Heading:0.0000:PosX:-346.0000:PosY:151.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="111" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="112" LogMessageText="[21:34:06.370] _EObjAnimation AAA:204:10:20:4000BB05::256:2014547:-315:157:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="113" LogMessageText="[21:34:06.370] _EObjAnimation AAA:204:10:20:4000BB03::256:2014547:-359:157:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="114" ActionType="Placeholder" ExecutionDelayExpression="4.01 * 1000" />
<Action OrderNumber="115" LogMessageText="[21:34:10.382] _EObjAnimation AAA:204:10:20:4000BB02::256:2014548:-346:151:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="116" LogMessageText="[21:34:10.382] _EObjAnimation AAA:204:10:20:4000BB01::256:2014548:-337:151:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="117" LogMessageText="[21:34:10.382] _EObjAnimation AAA:204:10:20:4000BB00::256:2014548:-328:151:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="118" LogMessageText="[21:34:10.382] _EObjAnimation AAA:204:10:20:4000BAFF::256:2014548:-346:163:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="119" LogMessageText="[21:34:10.382] _EObjAnimation AAA:204:10:20:4000BAFD::256:2014548:-328:163:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="120" LogMessageText="[21:34:10.382] _EObjAnimation AAA:204:10:20:4000BAFE::256:2014548:-337:163:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="121" ActionType="Placeholder" ExecutionDelayExpression="5.97 * 1000" />
<Action OrderNumber="122" LogMessageText="[21:34:16.347] _EObjAnimation AAA:204:10:20:4000BB06::3293708289:2014546:-337:135:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="123" LogMessageText="[21:34:16.347] _EObjAnimation AAA:204:10:20:4000BB04::256:2014546:-337:179:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="124" ActionType="Placeholder" ExecutionDelayExpression="6.33 * 1000" />
<Action OrderNumber="125" LogMessageText="[21:34:22.675] AOEActionEffect 16:4000B907:大理石龙:7797:仿效雨:1048100F:唱反调:650603:0:1B:77978000:0:0:0:0:0:0:0:0:0:0:0:0:118941:118941:8900:10000:::-322.44:158.25:-840.00:-2.06:44:44:0:10000:::-337.00:157.00:-840.00:0.00:0014F464:0:20:00::01:7797:7797:2.100:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="126" LogMessageText="[21:34:22.327] 261 105:Add:4000BB43:BNpcID:1EBD54:Heading:0.0000:PosX:-331.0000:PosY:148.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="127" LogMessageText="[21:34:22.327] 261 105:Add:4000BB46:BNpcID:1EBD54:Heading:0.0000:PosX:-343.0000:PosY:148.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="128" LogMessageText="[21:34:22.327] 261 105:Add:4000BB45:BNpcID:1EBD54:Heading:0.0000:PosX:-343.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="129" LogMessageText="[21:34:22.327] 261 105:Add:4000BB48:BNpcID:1EBD53:Heading:0.0000:PosX:-337.0000:PosY:179.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="130" LogMessageText="[21:34:22.327] 261 105:Add:4000BB42:BNpcID:1EBD54:Heading:0.0000:PosX:-331.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="131" LogMessageText="[21:34:22.327] 261 105:Add:4000BB4A:BNpcID:1EBD53:Heading:0.0000:PosX:-337.0000:PosY:135.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="132" LogMessageText="[21:34:22.327] 261 105:Add:4000BB49:BNpcID:1EBD52:Heading:0.0000:PosX:-315.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="133" LogMessageText="[21:34:22.327] 261 105:Add:4000BB41:BNpcID:1EBD54:Heading:0.0000:PosX:-331.0000:PosY:166.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="134" LogMessageText="[21:34:22.327] 261 105:Add:4000BB44:BNpcID:1EBD54:Heading:0.0000:PosX:-343.0000:PosY:166.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="135" LogMessageText="[21:34:22.327] 261 105:Add:4000BB47:BNpcID:1EBD52:Heading:0.0000:PosX:-359.0000:PosY:157.0000:PosZ:-840.0000:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="136" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="137" LogMessageText="[21:34:26.640] _EObjAnimation AAA:204:10:20:4000BB49::256:2014546:-315:157:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="138" LogMessageText="[21:34:26.640] _EObjAnimation AAA:204:10:20:4000BB47::256:2014546:-359:157:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="139" ActionType="Placeholder" ExecutionDelayExpression="4.02 * 1000" />
<Action OrderNumber="140" LogMessageText="[21:34:30.655] _EObjAnimation AAA:204:10:20:4000BB46::3293708289:2014548:-343:148:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="141" LogMessageText="[21:34:30.655] _EObjAnimation AAA:204:10:20:4000BB44::256:2014548:-343:166:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="142" LogMessageText="[21:34:30.655] _EObjAnimation AAA:204:10:20:4000BB43::3293904896:2014548:-331:148:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="143" LogMessageText="[21:34:30.655] _EObjAnimation AAA:204:10:20:4000BB42::256:2014548:-331:157:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="144" LogMessageText="[21:34:30.655] _EObjAnimation AAA:204:10:20:4000BB45::256:2014548:-343:157:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="145" LogMessageText="[21:34:30.655] _EObjAnimation AAA:204:10:20:4000BB41::256:2014548:-331:166:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="146" ActionType="Placeholder" ExecutionDelayExpression="5.97 * 1000" />
<Action OrderNumber="147" LogMessageText="[21:34:36.623] _EObjAnimation AAA:204:10:20:4000BB4A::256:2014547:-337:135:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="148" LogMessageText="[21:34:36.623] _EObjAnimation AAA:204:10:20:4000BB48::256:2014547:-337:179:-840:-0.00004792213" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="bb3c4386-0819-4949-ba9c-84aaafade721" Name="窒息" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="窒息" Id="b6023838-88bc-4456-9828-58c43a9c32e6" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0017:" PeriodRefire="Deny" RefirePeriodExpression="100">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="窒息点名" UseTTSRateExpression="1" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="新月_力3_b窒息" VariableExpression="1" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="无窒息" Id="8440a20a-7139-4290-9d16-adb1df993f3f" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0017:" PeriodRefire="Deny" RefirePeriodExpression="100">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="没有点名" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="500">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:新月_力3_b窒息}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="标点（大桥战斗结束）" Id="3dbc23c7-9e4f-4825-b058-5727c718804f" RegularExpression="^新月_力25_phase:6">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: ${env:X0}, ${env:Y0}, ${env:Z0}&#xD;&#xA;R: 10&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;local: false" UseTTSExclusive="False" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="时间轴" Id="53f5725e-f051-4a8c-bcd7-d2ccbfb03453" RegularExpression="^.{15}\S+ 29:.{8}:7DC:02:1452:">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:6.1:流血 AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:26.9:下雨，集合引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:36.6:集合引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:53.8:${if: ${_me.IsT} ? 注意仇恨， : &quot;&quot; }准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:71.7:下雨，集合引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:99.9:${if: ${_me.IsT} ? 注意仇恨， : &quot;&quot; }准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:114.5:准备小怪，去自己的方向" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:173.7:准备打冰晶" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:202.4:大AoE，集合减伤" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="tts:226.2:下雨，集合引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="tts:252.1:转火冰块" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="tts:260.3:流血 AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="tts:271.0:下雨，集合引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="tts:310.2:集合引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="tts:335.3:流血 AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="tts:344.7:${if: ${_me.IsT} ? 注意仇恨， : &quot;&quot; }准备死刑" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="下雨计数" Id="c0bc1078-5d78-4c57-b8f6-262a26986d41" RegularExpression="^.{15}\S+ 16:4.{7}:[^:]*:7797:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="5000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="1/5: 2*4水圈  2: 周围6中心1  3/4: 小怪  6/7: 中心六塔" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="新月_力3_phase" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="新月_力3_phase:${v:新月_力3_phase}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="临时 水圈技能范围" Id="b63dcf18-2de4-490f-99b0-13f2bd555647" RegularExpression="^新月_力3_水圈_冻结:phase:(?&lt;phase&gt;[1-7]):type:(?&lt;type&gt;圆|十):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 3.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 8, 60&#xD;&#xA;---&#xD;&#xA;Omen: Rect2&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 3.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} + π/2&#xD;&#xA;Scale: 8, 60" UseTTSExclusive="False" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="十" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: 新月&#xD;&#xA;t: 3.7&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 20" UseTTSExclusive="False" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="圆" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="龙态行动" Id="53f414f3-51e8-4d7b-b5bb-5c4a00d3b42f" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:77C1:" PeriodRefire="Deny" RefirePeriodExpression="100">
<Actions>
<Action OrderNumber="1" TTSRouting="Triggernometry" UseTTSTextExpression="去侧面" UseTTSRateExpression="2" UseTTSExclusive="False" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="俯冲" Id="e34024a2-9118-47c9-ae8b-db38a8db2517" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:13838:14708:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="这个日志比俯冲读条早两秒，比 WeaponId（实际显现）早一秒    条件：距离场中 &gt; 25 （实际是正点 30 斜点 21√2，整场的 SetPos 除了这两次外还有一次在场中落地）" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="${f:pick(${n: roundir(${h}, 8) % 4}): AC, 13, BD, 24 }俯冲" UseTTSExclusive="False" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;tag: 新月&#xD;&#xA;t: 9.7&#xD;&#xA;Pos: ${x}, ${y}, ${env:Z0}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 10, 60&#xD;&#xA;" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="d(${x}, ${y}, ${env:X0}, ${env:Y0})" ExpressionTypeL="Numeric" ExpressionR="25" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="d48ae1af-22ef-42c8-9325-af5392f0817a" Name="扫雷" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 初始化" Id="d89c9798-1f7b-4370-9d20-beef1b5cd155" RegularExpression="^.{15}\S+ ？">
<Actions>
<Action OrderNumber="1" NamedCallbackName="新月_扫雷" NamedCallbackParam="Action: init" UseTTSExclusive="False" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 切换地图" Id="8a3c58a0-5b08-4a2a-a946-118703acbf6d" RegularExpression="^.{15}\S+ 28:(?&lt;mapid&gt;968|969|985|970|971):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="只有主路的地图会传进回调，支线房间不会。传入的区域对应的雷会显示特效，上一次区域残留的特效会清除。" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="非雷区（如 boss 2 房间）也传入 id，仅用于清除前一个雷区的显示。" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="968 (1) → 969 (1.5) → 985 (2) → 970 (2.5-3) → 971 (3.5 前) → 986 (3.5-4) → 987 (顶) → 大地图 (967)" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="新月_扫雷" NamedCallbackParam="Action: ChangeMap&#xD;&#xA;MapId: ${mapid}" UseTTSExclusive="False" ActionType="NamedCallback" />
<Action OrderNumber="5" NamedCallbackName="新月_扫雷" NamedCallbackParam="Action: ChangeMap&#xD;&#xA;MapId: 969" UseTTSExclusive="False" Enabled="False" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 注册回调" Id="38a1b2e1-0a6b-4967-bbc7-d89413db1974" RegularExpression="^.{15}\S+ 01:">
<Actions>
<Action OrderNumber="1" ExecScriptExpression="using System;&#xD;&#xA;using System.Collections.Generic;&#xD;&#xA;using System.Globalization;&#xD;&#xA;using System.Linq;&#xD;&#xA;using System.Numerics;&#xD;&#xA;using System.Runtime.InteropServices;&#xD;&#xA;using Triggernometry;&#xD;&#xA;using Triggernometry.PluginBridges.BridgeNamazu.Vfx;&#xD;&#xA;using Triggernometry.Utilities;&#xD;&#xA;using Triggernometry.Utilities.Math;&#xD;&#xA;&#xD;&#xA;Triggernometry.RealPlugin.plug.RegisterNamedCallback(&#xD;&#xA;    &quot;新月_扫雷&quot;, new Action&lt;object, string&gt;(MineSweeper.Callback), null, false, &quot;新月岛宝宝椅&quot;&#xD;&#xA;);&#xD;&#xA;&#xD;&#xA;public class Mine&#xD;&#xA;{&#xD;&#xA;    public float ExplodeRadius =&gt; IsLarge ? 30f : 7f;&#xD;&#xA;    public Vector3 Pos { get; set; }&#xD;&#xA;    public bool IsLarge { get; set; }&#xD;&#xA;    public bool IsInRange(Vector3 knownPos, double range)&#xD;&#xA;    {&#xD;&#xA;        // 平面距离小于阈值，且高度差小于 10 m&#xD;&#xA;        var dx = knownPos.X - Pos.X;&#xD;&#xA;        var dy = knownPos.Y - Pos.Y;&#xD;&#xA;        var dz = Math.Abs(knownPos.Z - Pos.Z);&#xD;&#xA;&#xD;&#xA;        return dx * dx + dy * dy &lt;= range * range &amp;&amp; dz &lt;= 10;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public Mine(double x, double y, double z, bool isLarge)&#xD;&#xA;    {&#xD;&#xA;        Pos = new Vector3((float)x, (float)y, (float)z);&#xD;&#xA;        IsLarge = isLarge;&#xD;&#xA;    }&#xD;&#xA;    public Mine((double, double, double, bool) rawData)&#xD;&#xA;        : this(rawData.Item1, rawData.Item2, rawData.Item3, rawData.Item4) { }&#xD;&#xA;&#xD;&#xA;    // 状态相关：&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 是否可以确定其是否存在 &lt;/summary&gt;&#xD;&#xA;    public bool? Exist { get; set; } = null;&#xD;&#xA;    /// &lt;summary&gt; 是否已经被游戏显示（或已爆炸），即不需要再显示此特效 &lt;/summary&gt;&#xD;&#xA;    public bool ShownByGame { get; set; } = false;&#xD;&#xA;&#xD;&#xA;    // 特效相关：&#xD;&#xA;&#xD;&#xA;    StaticVfx vfx;&#xD;&#xA;    public void InitVfx()&#xD;&#xA;    {&#xD;&#xA;        vfx = StaticVfx.Create(&quot;vfx/omen/eff/m0777cir_a_o0c.avfx&quot;, &quot;新月_Mine&quot;);&#xD;&#xA;        vfx.Run();&#xD;&#xA;        vfx.Pos = Pos;&#xD;&#xA;        vfx.Scales = new Vector3(4, 4, 5);&#xD;&#xA;        vfx.Color = IsLarge ? new Vector4(1f, 0.4f, 0.7f, 1f) : new Vector4(0.7f, 1f, 0.2f, 1f); // 红/黄&#xD;&#xA;        UpdateVfxByState();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public void UpdateVfxByState()&#xD;&#xA;    {&#xD;&#xA;        bool shouldDisplay = Exist == false ? false : !ShownByGame;&#xD;&#xA;        var color = vfx.Color;&#xD;&#xA;        color.W = shouldDisplay ? 1f : 0f;&#xD;&#xA;        vfx.Color = color;&#xD;&#xA;        vfx.Update();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public void RemoveVfx()&#xD;&#xA;    {&#xD;&#xA;        vfx?.TryRemove();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class MineGroup&#xD;&#xA;{&#xD;&#xA;    //public bool IsLarge =&gt; Mines.First().IsLarge;&#xD;&#xA;    public int MaxCount { get; set; }&#xD;&#xA;    public List&lt;Mine&gt; Mines { get; set; }&#xD;&#xA;    public bool Resolved { get; set; }&#xD;&#xA;    public MineGroup(int maxCount, params (double, double, double, bool)[] minesData)&#xD;&#xA;    {&#xD;&#xA;        Mines = minesData.Select(data =&gt; new Mine(data)).ToList();&#xD;&#xA;        MaxCount = maxCount;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public void InitVfx()&#xD;&#xA;    {&#xD;&#xA;        Mines.ForEach(m =&gt; m.InitVfx());&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public void UpdateVfxByState()&#xD;&#xA;    {&#xD;&#xA;        Mines.ForEach(m =&gt; m.UpdateVfxByState());&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public void RemoveVfx()&#xD;&#xA;    {&#xD;&#xA;        Mines.ForEach(m =&gt; m.RemoveVfx());&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    void AnalyzeState()&#xD;&#xA;    {&#xD;&#xA;        var exist = new List&lt;Mine&gt;();&#xD;&#xA;        var others = new List&lt;Mine&gt;();&#xD;&#xA;&#xD;&#xA;        foreach (var m in Mines)&#xD;&#xA;        {&#xD;&#xA;            if (m.Exist == true)&#xD;&#xA;                exist.Add(m);&#xD;&#xA;            else&#xD;&#xA;                others.Add(m);&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        if (exist.Count &gt;= MaxCount)&#xD;&#xA;        {&#xD;&#xA;            foreach (var m in others)&#xD;&#xA;            {&#xD;&#xA;                m.Exist = false;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        if (exist.Count() &gt; MaxCount)&#xD;&#xA;        {&#xD;&#xA;            Interpreter.StaticHelpers.Log(RealPlugin.DebugLevelEnum.Error, &#xD;&#xA;                $&quot;组内记录到的雷数高于最大数目：\n{string.Join(&quot;; \n&quot;, exist.Select(m =&gt; m.Pos))}&quot;);&#xD;&#xA;        }&#xD;&#xA;        UpdateVfxByState();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public bool TryApplyScan(Vector3 scanPos, double range)&#xD;&#xA;    {&#xD;&#xA;        var minesInRange = Mines.Where(mine =&gt; mine.IsInRange(scanPos, range)).ToList();&#xD;&#xA;        if (minesInRange.Any())&#xD;&#xA;        {&#xD;&#xA;            foreach (var m in minesInRange)&#xD;&#xA;            {&#xD;&#xA;                if (m.Exist == null)&#xD;&#xA;                    m.Exist = false;&#xD;&#xA;            }&#xD;&#xA;            AnalyzeState();&#xD;&#xA;            return true;&#xD;&#xA;        }&#xD;&#xA;        return false;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public Mine Found(Vector3 pos, bool isLarge)&#xD;&#xA;    {&#xD;&#xA;        var minesInRange = Mines.Where(mine =&gt; mine.IsInRange(pos, 1) &amp;&amp; isLarge == mine.IsLarge).ToList();&#xD;&#xA;        if (minesInRange.Count() &gt; 1)&#xD;&#xA;            throw new Exception(&quot;扫描到超过一个雷，疑似数据有误。&quot;);&#xD;&#xA;        var foundMine = minesInRange.FirstOrDefault();&#xD;&#xA;        if (foundMine != null)&#xD;&#xA;        {&#xD;&#xA;            foundMine.ShownByGame = true;&#xD;&#xA;            foundMine.Exist = true;&#xD;&#xA;            AnalyzeState();&#xD;&#xA;        }&#xD;&#xA;        return foundMine;&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public static class MineSweeper&#xD;&#xA;{&#xD;&#xA;    static Dictionary&lt;int, List&lt;MineGroup&gt;&gt; MineData;&#xD;&#xA;&#xD;&#xA;    public static void Callback(object o, string command)&#xD;&#xA;    {&#xD;&#xA;        var data = new MultiLineRawArgs(command);&#xD;&#xA;        var action = data.Get(&quot;action&quot;).ToLower();&#xD;&#xA;        switch (action)&#xD;&#xA;        {&#xD;&#xA;            case &quot;init&quot;:&#xD;&#xA;                InitMineData();&#xD;&#xA;                return;&#xD;&#xA;            case &quot;changemap&quot;:&#xD;&#xA;                ChangeMap(data);&#xD;&#xA;                return;&#xD;&#xA;            case &quot;scan&quot;:  // 必须延迟等待 found 先调用，确定扫描结果&#xD;&#xA;                Scan(data);&#xD;&#xA;                return;&#xD;&#xA;            case &quot;found&quot;:&#xD;&#xA;                Found(data);&#xD;&#xA;                return;&#xD;&#xA;            case &quot;end&quot;:&#xD;&#xA;                End();&#xD;&#xA;                return;&#xD;&#xA;            default:&#xD;&#xA;                throw new NotImplementedException(action);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public static void InitMineData()&#xD;&#xA;    {&#xD;&#xA;        if (MineData != null) End();&#xD;&#xA;        prevMapId = 0;&#xD;&#xA;        // https://github.com/OhKannaDuh/OccultCrescentHelper/tree/master/BOCCHI/Data/Traps&#xD;&#xA;        MineData = new Dictionary&lt;int, List&lt;MineGroup&gt;&gt;&#xD;&#xA;        {&#xD;&#xA;            // 1.5（中层中央大厅）&#xD;&#xA;            { 969, new List&lt;MineGroup&gt; {&#xD;&#xA;                // 左侧 First room small traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (655.610, -85.595, -500, false),&#xD;&#xA;                    (673.758, -56.485, -500, false),&#xD;&#xA;                    (668.247, -56.545, -500, false),&#xD;&#xA;                    (655.730, -78.541, -500, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 左侧 First room big traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (681.673, -76.610, -500, true),&#xD;&#xA;                    (678.532, -80.284, -500, true),&#xD;&#xA;                    (672.796, -72.422, -500, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 左侧 After first Geomancer room&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (624.481, -5.538, -492, false),&#xD;&#xA;                    (619.426, -5.512, -492, false),&#xD;&#xA;                    (597.776, 4.601, -489, false),&#xD;&#xA;                    (597.776, 7.265, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 左侧 In front of thief room&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (583.575, -45.560, -489, false),&#xD;&#xA;                    (581.296, -39.905, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 左侧 In front of mob guarded treasure room (one)&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (625.880, -101.845, -489, false),&#xD;&#xA;                    (629.658, -103.990, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 左侧 Before first add pack&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (595.772, 48.175, -489, false),&#xD;&#xA;                    (590.393, 49.879, -489, false),&#xD;&#xA;                    (585.271, 51.714, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 左侧 Big traps in nooks&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (588.825, 75.448, -489, true),&#xD;&#xA;                    (591.016, 78.811, -489, true),&#xD;&#xA;                    (631.057, 115.441, -489, true),&#xD;&#xA;                    (634.203, 117.537, -489, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 左侧 Outside second treasure room (2)&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (551.283, 43.721, -489, false),&#xD;&#xA;                    (553.133, 49.612, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 左侧 Around second Geomancer trap&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (590.707, 92.890, -489, false),&#xD;&#xA;                    (586.762, 97.586, -489, false),&#xD;&#xA;                    (583.005, 102.095, -489, false),&#xD;&#xA;                    (615.843, 130.046, -489, false),&#xD;&#xA;                    (619.233, 125.969, -489, false),&#xD;&#xA;                    (623.224, 121.120, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 左侧 Before button&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (656.048, 119.488, -489, false),&#xD;&#xA;                    (657.851, 114.205, -489, false),&#xD;&#xA;                    (659.676, 108.972, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 右侧 First room small traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (726.456, -56.775, -500, false),&#xD;&#xA;                    (731.754, -56.775, -500, false),&#xD;&#xA;                    (744.431, -79.189, -500, false),&#xD;&#xA;                    (744.491, -84.931, -500, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 右侧 First room big traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (732.095, -76.629, -500, true),&#xD;&#xA;                    (728.670, -79.736, -500, true),&#xD;&#xA;                    (723.247, -72.448, -500, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 右侧 After first Geomancer room&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (775.480, -5.563, -492, false),&#xD;&#xA;                    (780.481, -5.511, -492, false),&#xD;&#xA;                    (802.218, 4.565, -489, false),&#xD;&#xA;                    (802.158, 8.566, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 右侧 In front of thief room&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (818.813, -39.423, -489, false),&#xD;&#xA;                    (816.455, -45.560, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 右侧 In front of mob guarded treasure room (one)&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (773.639, -101.845, -489, false),&#xD;&#xA;                    (770.055, -103.990, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 右侧 Before first add pack&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (814.789, 51.775, -489, false),&#xD;&#xA;                    (809.498, 49.875, -489, false),&#xD;&#xA;                    (804.292, 48.117, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 右侧 Big traps in nooks&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (811.631, 75.448, -489, true),&#xD;&#xA;                    (809.176, 78.811, -489, true),&#xD;&#xA;                    (768.902, 115.715, -489, true),&#xD;&#xA;                    (765.759, 117.537, -489, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 右侧 Outside second treasure room (2)&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (847.013, 49.612, -489, false),&#xD;&#xA;                    (848.844, 43.721, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 右侧 Around second Geomancer trap&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (809.605, 93.299, -489, false),&#xD;&#xA;                    (813.746, 98.215, -489, false),&#xD;&#xA;                    (817.092, 102.252, -489, false),&#xD;&#xA;                    (784.267, 130.046, -489, false),&#xD;&#xA;                    (780.596, 125.781, -489, false),&#xD;&#xA;                    (776.574, 120.878, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 右侧 Before button&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (744.107, 119.396, -489, false),&#xD;&#xA;                    (742.111, 114.238, -489, false),&#xD;&#xA;                    (740.298, 108.810, -489, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                //  1.5 最后 门前&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (703.450, 99.934, -504, false),&#xD;&#xA;                    (700.088, 99.942, -504, false),&#xD;&#xA;                    (697.010, 99.962, -504, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // 1.5 最后 门后&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (703.007, 79.006, -504, false),&#xD;&#xA;                    (700.039, 79.008, -504, false),&#xD;&#xA;                    (696.987, 78.969, -504, false)&#xD;&#xA;                ),&#xD;&#xA;            } },&#xD;&#xA;&#xD;&#xA;            // 2.5 桥 (日志：上层1，小地图：上层2)&#xD;&#xA;            { 970, new List&lt;MineGroup&gt; {&#xD;&#xA;                // Left: Set 1&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (-566, 292, -852, false),&#xD;&#xA;                    (-566, 299, -852, false),&#xD;&#xA;                    (-566, 306, -852, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Left: Set 2&#xD;&#xA;                new MineGroup(2,&#xD;&#xA;                    (-538, 292, -852, false),&#xD;&#xA;                    (-538, 299, -852, false),&#xD;&#xA;                    (-538, 306, -852, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Left: Set 3&#xD;&#xA;                new MineGroup(2,&#xD;&#xA;                    (-503, 292, -852, false),&#xD;&#xA;                    (-503, 299, -852, false),&#xD;&#xA;                    (-503, 306, -852, false),&#xD;&#xA;                    (-503, 299, -852, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Left: Set 4&#xD;&#xA;                new MineGroup(2,&#xD;&#xA;                    (-469.965, 292, -852, false),&#xD;&#xA;                    (-469.965, 306, -852, false),&#xD;&#xA;                    (-469.965, 306, -852, true),&#xD;&#xA;                    (-469.965, 292, -852, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Left: Set 5&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (-434, 292, -852, true),&#xD;&#xA;                    (-434, 299, -852, true),&#xD;&#xA;                    (-434, 306, -852, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Right: Set 1&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (-566, 322, -852, false),&#xD;&#xA;                    (-566, 329, -852, false),&#xD;&#xA;                    (-566, 336, -852, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Right: Set 2&#xD;&#xA;                new MineGroup(2,&#xD;&#xA;                    (-538, 322, -852, false),&#xD;&#xA;                    (-538, 329, -852, false),&#xD;&#xA;                    (-538, 336, -852, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Right: Set 3&#xD;&#xA;                new MineGroup(2,&#xD;&#xA;                    (-503, 322, -852, false),&#xD;&#xA;                    (-503, 336, -852, false),&#xD;&#xA;                    (-503, 329, -852, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Right: Set 4&#xD;&#xA;                new MineGroup(2,&#xD;&#xA;                    (-470, 322, -852, false),&#xD;&#xA;                    (-470, 336, -852, false),&#xD;&#xA;                    (-470, 336, -852, true),&#xD;&#xA;                    (-470, 322, -852, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Right: Set 5&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (-433.965, 322, -852, true),&#xD;&#xA;                    (-434, 329, -852, true),&#xD;&#xA;                    (-433.965, 336, -852, true)&#xD;&#xA;                ),&#xD;&#xA;            } },&#xD;&#xA;&#xD;&#xA;            // 3.5 前半（顶层1）&#xD;&#xA;            { 971, new List&lt;MineGroup&gt; {&#xD;&#xA;                // First hallway&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (698.518, -295.730, -500, false),&#xD;&#xA;                    (701.741, -295.730, -500, false),&#xD;&#xA;                    (701.822, -315.723, -500, false),&#xD;&#xA;                    (698.399, -315.723, -500, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Lobby big traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (700, -340, -500, true),&#xD;&#xA;                    (700, -348, -500, true),&#xD;&#xA;                    (692, -348, -500, true),&#xD;&#xA;                    (684, -348, -500, true),&#xD;&#xA;                    (708, -348, -500, true),&#xD;&#xA;                    (716, -348, -500, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Left hallway&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (652.021, -340.308, -500, false),&#xD;&#xA;                    (652.149, -347.825, -500, false),&#xD;&#xA;                    (652.149, -355.692, -500, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Left intersection normal traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (618.559, -344.559, -499.850, false),&#xD;&#xA;                    (618.559, -351.348, -499.850, false),&#xD;&#xA;                    (625.348, -351.348, -499.850, false),&#xD;&#xA;                    (625.348, -344.559, -499.850, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Left intersection big traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (609.542, -341.369, -499.842, true),&#xD;&#xA;                    (615.590, -360.189, -499.894, true),&#xD;&#xA;                    (633.782, -354.508, -499.895, true),&#xD;&#xA;                    (629.012, -335.971, -499.840, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Right hallway&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (747.914, -355.825, -500, false),&#xD;&#xA;                    (747.914, -348, -500, false),&#xD;&#xA;                    (747.914, -340.262, -500, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Right intersection normal traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (781.526, -351.034, -499.850, false),&#xD;&#xA;                    (781.526, -344.897, -499.850, false),&#xD;&#xA;                    (774.631, -344.897, -499.850, false),&#xD;&#xA;                    (774.631, -351.034, -499.850, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Right intersection big traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (784.567, -360.189, -499.869, true),&#xD;&#xA;                    (790.533, -341.369, -499.840, true),&#xD;&#xA;                    (771.499, -335.971, -499.890, true),&#xD;&#xA;                    (765.746, -354.508, -499.874, true)&#xD;&#xA;                ),&#xD;&#xA;            } },&#xD;&#xA;&#xD;&#xA;            // 3.5 后半（顶层2）&#xD;&#xA;            { 986, new List&lt;MineGroup&gt; {&#xD;&#xA;                // Intersection normal traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (696.5, -474.5, -500, false),&#xD;&#xA;                    (703.5, -474.5, -500, false),&#xD;&#xA;                    (703.5, -467.5, -500, false),&#xD;&#xA;                    (696.5, -467.5, -500, false),&#xD;&#xA;                    (700, -471, -500, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Intersection big traps&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (691.5, -476, -500, true),&#xD;&#xA;                    (695, -479.5, -500, true),&#xD;&#xA;                    (705, -479.5, -500, true),&#xD;&#xA;                    (708.5, -476, -500, true),&#xD;&#xA;                    (708.5, -466, -500, true),&#xD;&#xA;                    (704.5, -462.5, -500, true),&#xD;&#xA;                    (695, -462.5, -500, true),&#xD;&#xA;                    (691.5, -466, -500, true)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Tangential hallways&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (673, -468.5, -500, false),&#xD;&#xA;                    (673, -473.5, -500, false),&#xD;&#xA;                    (727, -473.5, -500, false),&#xD;&#xA;                    (727, -468.5, -500, false),&#xD;&#xA;                    (739, -468.5, -500, false),&#xD;&#xA;                    (739, -473.5, -500, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Left treasure room&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (630, -467, -500, false),&#xD;&#xA;                    (630, -475, -500, false),&#xD;&#xA;                    (638, -475, -500, false),&#xD;&#xA;                    (638, -467, -500, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Right curved hallway&#xD;&#xA;                new MineGroup(1,&#xD;&#xA;                    (802.5, -477, -500, false),&#xD;&#xA;                    (806, -471, -500, false),&#xD;&#xA;                    (818, -483.5, -500, false),&#xD;&#xA;                    (811.5, -486.5, -500, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Right treasure room&#xD;&#xA;                new MineGroup(2,&#xD;&#xA;                    (817, -520.5, -500, false),&#xD;&#xA;                    (811, -522, -500, false),&#xD;&#xA;                    (809.5, -528, -500, false),&#xD;&#xA;                    (811, -534, -500, false),&#xD;&#xA;                    (817, -535.5, -500, false),&#xD;&#xA;                    (823, -534, -500, false),&#xD;&#xA;                    (824.5, -528, -500, false),&#xD;&#xA;                    (823, -522, -500, false)&#xD;&#xA;                ),&#xD;&#xA;&#xD;&#xA;                // Stairs&#xD;&#xA;                new MineGroup(3,&#xD;&#xA;                    (694.5, -503.5, -498.476, false),&#xD;&#xA;                    (700, -503.5, -498.476, false),&#xD;&#xA;                    (705.5, -503.5, -498.476, false),&#xD;&#xA;                    (705.5, -524, -493.556, false),&#xD;&#xA;                    (700, -524, -493.556, false),&#xD;&#xA;                    (694.5, -524, -493.556, false),&#xD;&#xA;                    (694.5, -544, -488.756, false),&#xD;&#xA;                    (700, -544, -488.756, false),&#xD;&#xA;                    (705.5, -544, -488.756, false),&#xD;&#xA;                    (705.5, -564, -483.956, false),&#xD;&#xA;                    (700, -564, -483.956, false),&#xD;&#xA;                    (694.5, -564, -483.956, false),&#xD;&#xA;                    (694.5, -584, -479.156, false),&#xD;&#xA;                    (700, -584, -479.156, false),&#xD;&#xA;                    (705.5, -584, -479.156, false),&#xD;&#xA;                    (705.5, -603.5, -476, false),&#xD;&#xA;                    (700, -603.5, -476, false),&#xD;&#xA;                    (694.5, -603.5, -476, false)&#xD;&#xA;                ),&#xD;&#xA;            } },&#xD;&#xA;&#xD;&#xA;        };&#xD;&#xA;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static int prevMapId = 0;&#xD;&#xA;    // 只会在&#xD;&#xA;    public static void ChangeMap(MultiLineRawArgs data)&#xD;&#xA;    {&#xD;&#xA;        if (MineData == null) InitMineData();&#xD;&#xA;&#xD;&#xA;        var mapId = data.Get(&quot;mapId&quot;).FromDataString&lt;int&gt;();&#xD;&#xA;        if (prevMapId == mapId) return;&#xD;&#xA;&#xD;&#xA;        if (MineData.TryGetValue(mapId, out var currGroups))&#xD;&#xA;        {&#xD;&#xA;            currGroups.ForEach(g =&gt; g.InitVfx());&#xD;&#xA;        }&#xD;&#xA;        if (MineData.TryGetValue(prevMapId, out var prevGroups))&#xD;&#xA;        {&#xD;&#xA;            prevGroups.ForEach(g =&gt; g.RemoveVfx());&#xD;&#xA;        }&#xD;&#xA;        prevMapId = mapId;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public static void Scan(MultiLineRawArgs data)&#xD;&#xA;    {&#xD;&#xA;        if (MineData == null) InitMineData();&#xD;&#xA;&#xD;&#xA;        var pos = (Vector3)XIVCoord.ParseRawData(data.Get(&quot;pos&quot;));&#xD;&#xA;        var range = data.Get(&quot;isHunter&quot;).FromDataString&lt;bool&gt;() ? 9f : 15f; // 需要确认半径的计算方式，是否包含实体半径&#xD;&#xA;        foreach (var group in MineData.SelectMany(pair =&gt; pair.Value))&#xD;&#xA;        {&#xD;&#xA;            group.TryApplyScan(pos, range);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public static void Found(MultiLineRawArgs data)&#xD;&#xA;    {&#xD;&#xA;        if (MineData == null) InitMineData();&#xD;&#xA;&#xD;&#xA;        var pos = (Vector3)XIVCoord.ParseRawData(data.Get(&quot;pos&quot;));&#xD;&#xA;        var isLarge = data.Get(&quot;isLarge&quot;).FromDataString&lt;bool&gt;();&#xD;&#xA;        foreach (var group in MineData.SelectMany(pair =&gt; pair.Value))&#xD;&#xA;        {&#xD;&#xA;            if (group.Found(pos, isLarge) != null)&#xD;&#xA;            {&#xD;&#xA;                break;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public static void End()&#xD;&#xA;    {&#xD;&#xA;        if (MineData == null) return;&#xD;&#xA;        foreach (var group in MineData.SelectMany(kvp =&gt; kvp.Value))&#xD;&#xA;        {&#xD;&#xA;            group.RemoveVfx();&#xD;&#xA;        }&#xD;&#xA;        MineData = null;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;}" ActionType="ExecuteScript">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ecallback:新月_扫雷}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Name="3c. 扫描（测试）  /e scan 0/1" Id="bc61b4c0-4518-43f4-be4c-67741cf1c6fd" RegularExpression="^.{15}\S+ 00:0038::(?i)scan (?&lt;isHunter&gt;[01])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="新月_扫雷" NamedCallbackParam="Action: Scan&#xD;&#xA;Pos: ${_me.Pos}&#xD;&#xA;IsHunter: ${isHunter}" UseTTSExclusive="False" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="5. 清空" Id="b56c95f3-7e80-4f0c-b2ee-4764d6408c2b" RegularExpression="^.{15}\S+ 28:(?&lt;mapid&gt;986|967):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="968 (1) → 969 (1.5) → 985 (2) → 970 (2.5-3) → 971 (3.5 前) → 986 (3.5-4) → 987 (顶) → 大地图 (967)" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="新月_扫雷" NamedCallbackParam="Action: End" UseTTSExclusive="False" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="false" Name="4c. 生成雷（测试） /e scan 0/1" Id="c23d90d6-48e9-4f23-943f-1b21b263f522" RegularExpression="^.{15}\S+ 00:0038::(?i)add (?&lt;isLarge&gt;[01])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="新月_扫雷" NamedCallbackParam="Action: Found&#xD;&#xA;Pos: ${_me.Pos}&#xD;&#xA;IsLarge: ${isLarge}" UseTTSExclusive="False" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3a. 扫描（猎人）" Id="b4126490-d6ee-4a87-9979-a4c14df6ab28" RegularExpression="^.{15}\S+ 108:1.{7}:A281:.{8}:[^:]*:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="新月_扫雷" NamedCallbackParam="Action: Scan&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;IsHunter: 1" UseTTSExclusive="False" ActionType="NamedCallback" ExecutionDelayExpression="1300" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3b. 扫描（盗贼）" Id="47bca428-60b6-4b18-9dd5-3ddf6ae5f129" RegularExpression="^.{15}\S+ 15:1.{7}:[^:]*:A2B0:([^:]*:){25}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="新月_扫雷" NamedCallbackParam="Action: Scan&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;IsHunter: 0" UseTTSExclusive="False" ActionType="NamedCallback" ExecutionDelayExpression="300" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4a. 生成雷 （被扫出）" Id="d5c688da-4be6-4058-a476-82365451b21f" RegularExpression="^.{15}\S+ 105:Add.*?:BNpcID:(?&lt;bnpcid&gt;1EBD7[89]).*?:Heading:(?&lt;h&gt;[^:]+).*?:PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):PosZ:(?&lt;z&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="新月_扫雷" NamedCallbackParam="Action: Found&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;IsLarge: 0x${bnpcid} = 0x1EBD79" UseTTSExclusive="False" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4b. 生成雷 （爆炸）" Id="2376c199-45ec-4262-9a17-a8b094c35883" RegularExpression="^.{15}\S+ 108:4.{7}:(?&lt;aid&gt;A44[23]):.{8}:[^:]*:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="新月_扫雷" NamedCallbackParam="Action: Found&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;IsLarge: 0x${aid} = 0xA443" UseTTSExclusive="False" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="false" Name="*待修复：从塔里中途直接退本回到幻境村不会执行 End" Id="05ea4dfd-04e3-4c8e-8bda-046148ad7fa0" RegularExpression="">
<Actions />
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
</Folders>
<Triggers />
</ExportedFolder>
</TriggernometryExport>
