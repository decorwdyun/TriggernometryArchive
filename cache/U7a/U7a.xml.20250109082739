<?xml version="1.0"?>
<TriggernometryExport PluginVersion="1.2.0.718">
<ExportedFolder Id="624c320a-4f9e-41e5-8308-03fe6250d0e3" Name="绝伊甸宝宝椅 v0.3b" Enabled="true">
<Folders>
<Folder Id="f99ad2f2-b956-4522-9736-f03ea725962b" Name="" Enabled="true">
<Folders>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1238$" Id="783e52c2-3842-4611-b2c6-bdc6eafd3de3" Name="区域限制" Enabled="true">
<Folders>
<Folder Id="2cae7153-b129-493f-af31-5d8914467ef2" Name="P1" Enabled="true">
<Folders>
<Folder Id="54622132-8aaf-4360-b444-4b443f50f58e" Name="A. 雾龙" Enabled="true" RawEnvironmentVariables="phase = P1雾龙">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="3. 播报" Id="23f32710-8f14-4c78-838c-784f4f60b27e" RegularExpression="^U7a1_雾龙_dir8:safe:(?&lt;dir8&gt;[0123])">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_currentSafe" VariableExpression="roundvec(${_me.x} - 100, ${_me.y} - 100, 8) % 4 = ${dir8}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${v:tmp_currentSafe} ? 退后，脚下安全 : 前进 }" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="3" VariableName="tmp_currentSafe" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" UseTTSTextExpression="去${?d: 0 = 上下, 1 = 左上右下, 2 = 左右, 3 = 右上左下 [${dir8}]}，${if: ${v:U7a1_雾龙_is散} ? 分散 : 分摊 }" ActionType="UseTTS" ExecutionDelayExpression="2000" Asynchronous="False" />
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;θ: dir2rad(0${dir8}, 8)&#xD;&#xA;C:  0, -13&#xD;&#xA;A:  0, -20&#xD;&#xA;1:  6, -19&#xD;&#xA;3: -6, -19" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isG1}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:U7a1_雾龙_is散}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;θ: dir2rad(0${dir8}, 8) + π&#xD;&#xA;D:  0, -13&#xD;&#xA;B:  0, -20&#xD;&#xA;2:  6, -19&#xD;&#xA;4: -6, -19" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isG1}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:U7a1_雾龙_is散}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;θ: dir2rad(0${dir8}, 8)&#xD;&#xA;C:    0, -13.2&#xD;&#xA;A:    0, -16.2&#xD;&#xA;1:  1.5, -14.7&#xD;&#xA;3: -1.5, -14.7" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isG1}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:U7a1_雾龙_is散}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;θ: dir2rad(0${dir8}, 8) + π&#xD;&#xA;D:    0, -13.2&#xD;&#xA;B:    0, -16.2&#xD;&#xA;2:  1.5, -14.7&#xD;&#xA;4: -1.5, -14.7" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isG1}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:U7a1_雾龙_is散}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="8100" Asynchronous="False" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="1. 储存雷火 Utopian Sky" Id="6bd10dac-7115-4a0e-b912-9e2f78c90aa6" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9CD(?&lt;type&gt;A|B):">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^U7a1_雾龙" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="U7a1_雾龙_is散" VariableExpression="${type} == B" ActionType="Variable" />
<Action OrderNumber="4" UseTTSTextExpression="记录${if: ${v:U7a1_雾龙_is散} ? 分散 : 分摊 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 获取三个分身 =&gt; 3" Id="f6017244-49eb-4e59-b8bb-38c9f051faa3" RegularExpression="^.{15}\S+ AAA:202:4:4.{7}:[^:]*:9708:17820:[^:]*:[^:]*:[^:]*:(?&lt;h&gt;[^:]+)$">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="U7a1_雾龙_dir8" ListVariableExpression="roundir(${h}, 8) % 4" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="U7a1_雾龙_dir8:safe:${n: 6 - ${l:U7a1_雾龙_dir8.sum}}:originalData:${l:U7a1_雾龙_dir8.join(:)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a1_雾龙_dir8.size}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2024-11-27 02:46" Id="810239f5-5612-49e5-9670-f2fc55a89dbf">
<Actions>
<Action OrderNumber="1" LogMessageText="[01:20:11.273] StartsCasting 14:400058DA:Fatebreaker:9CDB:Utopian Sky:400058DA:Fatebreaker:3.700:99.99:99.99:0.00:-3.03" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="3.05 * 1000" />
<Action OrderNumber="3" LogMessageText="[01:20:20.418] _WeaponId AAA:202:4:400058CB:Fatebreaker's Image:9708:17820:85.85786:85.85786:-0.00000000000000000001294991:0.7853622" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[01:20:20.418] _WeaponId AAA:202:4:400058CD:Fatebreaker's Image:9708:17820:80:100:0:1.570772" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[01:20:20.418] _WeaponId AAA:202:4:400058D7:Fatebreaker's Image:9708:17820:114.1421:85.85786:0:-0.7854581" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="450b1d13-eb7e-4e3c-b57f-e6a32aac9220" Name="杂项" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="雷火八方" Id="66252ba8-8357-4fb8-bb57-ca00da148698" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]+:(?&lt;aid&gt;9CD[04]|9D8[9A]):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="八方，${?d: 9CD0 = 火分摊, 9CD4 = 雷分散, 9D89 = 火分摊, 9D8A = 雷分散 [${aid}]}" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="2" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${sid}].address}, 2" ActionType="NamedCallback" DescTextColor="26f" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="f7f58d4b-cea4-4589-8430-8840664b8ef1" Name="B. 光轮" Enabled="true" RawEnvironmentVariables="phase = P1光轮">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 储存雷火 光轮召唤" Id="f084dc34-1c1f-46da-9611-efb664489549" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]+:9CD(?&lt;type&gt;6|7):">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^U7a1_光轮" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="U7a1_光轮_is火safe" VariableExpression="${type} == 7" ActionType="Variable" />
<Action OrderNumber="4" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${sid}].address}, 2" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="5" UseTTSTextExpression="南北靠外，偏向${if: ${v:U7a1_光轮_is火safe} ? 红色火圈 : 蓝色雷圈 }" ActionType="UseTTS" ExecutionDelayExpression="4500" />
<Action OrderNumber="6" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${sid}].address}, 0.1" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="7" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#xD;&#xA;ScaleY: 11.1&#xD;&#xA;A: 0, -1&#xD;&#xA;C: 0,  1&#xD;&#xA;" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 光轮位置" Id="9171ae5b-7bce-469f-98f8-bc68488e1c17" RegularExpression="^.{15}\S+ 03:4.{7}:([^:]*:){7}17821:([^:]*:){6}(?&lt;x&gt;(8|11)[45][^:]*):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="17821火 17822雷 正北逆四个固定同色，所以只需要看正左右哪个是火" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="U7a1_光轮_is右safe" VariableExpression="(${x} &gt; 100) = ${v:U7a1_光轮_is火safe}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#xD;&#xA;ScaleX: 0${v:U7a1_光轮_is右safe} ? 1 : -1&#xD;&#xA;ScaleY: 11.1&#xD;&#xA;A: 0, -1&#xD;&#xA;1: 3, -1&#xD;&#xA;D: 6, -1&#xD;&#xA;4: 9, -1&#xD;&#xA;C: 0,  1&#xD;&#xA;3: 3,  1&#xD;&#xA;B: 6,  1&#xD;&#xA;2: 9,  1" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="2600" />
<Action OrderNumber="5" ActionType="Placeholder" Description="二段雷判定" DescriptionOverride="True" />
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#xD;&#xA;ScaleX: 0${v:U7a1_光轮_is右safe} ? 1 : -1&#xD;&#xA;// 准确击退到空隙的 y&#xD;&#xA;ScaleY: 6.87&#xD;&#xA;1:  6.1, -1&#xD;&#xA;A:  9.6, -1&#xD;&#xA;4: 13.1, -1&#xD;&#xA;D: 16.6, -1&#xD;&#xA;3:  6.1,  1&#xD;&#xA;C:  9.6,  1&#xD;&#xA;2: 13.1,  1&#xD;&#xA;B: 16.6,  1" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="4600" />
<Action OrderNumber="8" ActionType="Placeholder" Description="一段火判定" DescriptionOverride="True" />
<Action OrderNumber="9" UseTTSTextExpression="贴近击退" ActionType="UseTTS" />
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#xD;&#xA;ScaleX: 0${v:U7a1_光轮_is右safe} ? 1 : -1&#xD;&#xA;// 准确击退到空隙的 y&#xD;&#xA;ScaleY: 6.87&#xD;&#xA;1:  1.6, -1&#xD;&#xA;A:  6.6, -1&#xD;&#xA;4: 11.6, -1&#xD;&#xA;D: 16.6, -1&#xD;&#xA;3:  1.6,  1&#xD;&#xA;C:  6.6,  1&#xD;&#xA;2: 11.6,  1&#xD;&#xA;B: 16.6,  1" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="3700" />
<Action OrderNumber="12" ActionType="Placeholder" Description="光轮判定" DescriptionOverride="True" />
<Action OrderNumber="13" UseTTSTextExpression="分摊" ActionType="UseTTS" />
<Action OrderNumber="14" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 火分摊连线 =&gt; 4" Id="a93621fe-7459-4997-a10f-6e404ae79c7a" RegularExpression="^.{15}\S+ 1A:1045:[^:]+:[^:]+:.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="U7a1_光轮_火idx" ListVariableExpression="${l:party.indexof(${tid})}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="U7a1_光轮_火idx:${l:U7a1_光轮_火idx.join(:)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a1_光轮_火idx.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Name="4. 换位" Id="c37e357b-ee15-4db5-9a09-f240d6156bb2" RegularExpression="^U7a1_光轮_火idx">
<Actions>
<Action OrderNumber="1" ListVariableOp="SortNumericAsc" ListVariableName="U7a1_光轮_火idx" ActionType="ListVariable" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2200" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="每组一个" DescriptionOverride="True" />
<Action OrderNumber="4" UseTTSTextExpression="不用换位，等待击退" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a1_光轮_火idx[1]} &lt;= 4 &amp;&amp; ${l:U7a1_光轮_火idx[2]} &gt; 4" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="同组双连线、点名自己" DescriptionOverride="True" />
<Action OrderNumber="6" UseTTSTextExpression="同组双连线，需要换位" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="(${l:U7a1_光轮_火idx[2]} &lt;= 4 || ${l:U7a1_光轮_火idx[1]} &gt; 4) &amp;&amp; ${l:U7a1_光轮_火idx.contain(${v:myIdx})}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="同组双连线、未点名自己" DescriptionOverride="True" />
<Action OrderNumber="8" UseTTSTextExpression="不用换位，等待击退" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="(${l:U7a1_光轮_火idx[2]} &lt;= 4 &amp;&amp; ${v:myIdx} &lt;= 4) || (${l:U7a1_光轮_火idx[1]} &gt; 4 &amp;&amp; ${v:myIdx} &gt; 4)" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${l:U7a1_光轮_火idx.contain(${v:myIdx})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="同组无连线" DescriptionOverride="True" />
<Action OrderNumber="10" UseTTSTextExpression="${if: 0${v:myIdx} &gt; 4 ? DPS : 坦克 }补位" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="(${l:U7a1_光轮_火idx[2]} &lt;= 4 &amp;&amp; ${v:myIdx} &gt; 4) || (${l:U7a1_光轮_火idx[1]} &gt;= 4 &amp;&amp; ${v:myIdx} &lt; 4)" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="光轮缩放+透明度" Id="e3defa97-08f8-4e39-aa2b-4e8f9307085a" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}(?&lt;bnpcid&gt;1782[12]):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="SetOpacity" NamedCallbackParam="${_entity[${id}].address}, ${n: (${bnpcid} = 17821) = ${v:U7a1_光轮_is火safe} ? 0.5 : 1}" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="2" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${id}].address}, ${n: (${bnpcid} = 17821) = ${v:U7a1_光轮_is火safe} ? 0.6 : 0.6}" ActionType="NamedCallback" ExecutionDelayExpression="250" DescTextColor="26f" />
<Action OrderNumber="3" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${id}].address}, ${n: (${bnpcid} = 17821) = ${v:U7a1_光轮_is火safe} ? 0.6 : 0.6}" ActionType="NamedCallback" ExecutionDelayExpression="250" DescTextColor="26f" />
<Action OrderNumber="4" NamedCallbackName="SetOpacity" NamedCallbackParam="${_entity[${id}].address}, ${n: (${bnpcid} = 17821) = ${v:U7a1_光轮_is火safe} ? 1 : 1}" ActionType="NamedCallback" ExecutionDelayExpression="8400" DescTextColor="26f" />
<Action OrderNumber="5" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${id}].address}, ${n: (${bnpcid} = 17821) = ${v:U7a1_光轮_is火safe} ? 1 : 2}" ActionType="NamedCallback" DescTextColor="26f" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="67f788b2-a088-4869-bc58-7bd01cf764e8" Name="C. 四线" Enabled="true" RawEnvironmentVariables="phase = P1四线">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 落地" Id="317c41d5-180a-4263-bc0f-12b5886d93d2" RegularExpression="^.{15}\S+ AAA:10F:4.{7}:[^:]*:9707:17819:100">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^U7a1_四线" ActionType="Variable" />
<Action OrderNumber="3" UseTTSTextExpression="流血AoE" ActionType="UseTTS" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -2&#xD;&#xA;A:  0, -5.0&#xD;&#xA;B:  0, -7.5&#xD;&#xA;1:  2.17, -5.24&#xD;&#xA;2: -2.17, -5.24&#xD;&#xA;C:  0,  5.0&#xD;&#xA;D:  0,  7.5&#xD;&#xA;3: -2.17,  5.24&#xD;&#xA;4:  2.17,  5.24" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="34000" DescBgColor="dff" />
<Action OrderNumber="6" UseTTSTextExpression="流血AoE" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="2. 处理数据 =&gt; 3" Id="c6ca74b2-833b-428d-9810-41f488c31325" RegularExpression="^U7a1_四线_处理">
<Actions>
<Action OrderNumber="1" ListVariableOp="Build" ListVariableExpression=",1,2,3,4,5,6,7,8" ListVariableTarget="U7a1_四线_无点名idx" ActionType="ListVariable" />
<Action OrderNumber="2" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="U7a1_四线_无点名idx" ListVariableExpression="!${l:U7a1_四线_点名idx.contain(${_this})}" ListVariableTarget="U7a1_四线_无点名idx" ActionType="ListVariable" />
<Action OrderNumber="3" LogMessageText="U7a1_四线:is雷:${l:U7a1_四线_is雷.join(&quot;&quot;)}:点名:${l:U7a1_四线_点名idx.join(&quot;&quot;)}:无点名:${l:U7a1_四线_无点名idx.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取连线 =&gt; 2" Id="8327b96b-a427-45e0-9981-0349b9636b1f" RegularExpression="^.{15}\S+ 23:4.{7}:[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:0000:0000:(?&lt;type&gt;011F|00F9):">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="U7a1_四线_点名idx" ListVariableExpression="${l:party.indexof(${tid})}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="U7a1_四线_is雷" ListVariableExpression="${type} == 011F" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="3" NamedCallbackName="command" NamedCallbackParam="/e ${f:toxivchar:${l:U7a1_四线_is雷.size}} ${if: ${l:U7a1_四线_is雷[-1]} ? 雷 : 火} 》 ${_entity[${tid}].jobEN3}" ActionType="NamedCallback" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="U7a1_四线_处理" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a1_四线_is雷.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${tid}].address}, ${n: 258 + ${l:U7a1_四线_is雷.size}}" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="6" UseTTSTextExpression="点名${l:U7a1_四线_is雷.size}号${if: ${l:U7a1_四线_is雷[-1]} ? 雷 : 火}，去${if: ${l:U7a1_四线_is雷.size} % 2 = 1 ? 上北 : 下南 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3.3 文本播报" Id="f622f7d2-a726-46f7-9619-d86241fcf250" RegularExpression="^U7a1_四线:is雷:(?&lt;is雷1&gt;.)(?&lt;is雷2&gt;.)(?&lt;is雷3&gt;.)(?&lt;is雷4&gt;.):点名:(?&lt;点名1&gt;.)(?&lt;点名2&gt;.)(?&lt;点名3&gt;.)(?&lt;点名4&gt;.):无点名:(?&lt;无1&gt;.)(?&lt;无2&gt;.)(?&lt;无3&gt;.)(?&lt;无4&gt;.)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e &#xD;&#xA;線：1 ${if: ${is雷1} ? 雷 : 火 }  2 ${if: ${is雷2} ? 雷 : 火 }  3 ${if: ${is雷3} ? 雷 : 火 }  4 ${if: ${is雷4} ? 雷 : 火 }&#xD;&#xA;无：${_entity[${l:party[${无1}]}].jobEN3} 》 ${_entity[${l:party[${无2}]}].jobEN3} 》 ${_entity[${l:party[${无3}]}].jobEN3} 》 ${_entity[${l:party[${无4}]}].jobEN3}" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3.4 vfx 标记" Id="b3cc6fac-8bae-4909-aad4-83a769d47f58" RegularExpression="^U7a1_四线:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[${l:U7a1_四线_无点名idx[1]}]}].address}, 419" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="2" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[${l:U7a1_四线_无点名idx[2]}]}].address}, 420" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="3" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[${l:U7a1_四线_无点名idx[3]}]}].address}, 421" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="4" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[${l:U7a1_四线_无点名idx[4]}]}].address}, 422" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="14000" />
<Action OrderNumber="6" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[1]}].address}, 0" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="7" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[2]}].address}, 0" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="8" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[3]}].address}, 0" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="9" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[4]}].address}, 0" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="10" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[5]}].address}, 0" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="11" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[6]}].address}, 0" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="12" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[7]}].address}, 0" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="13" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[8]}].address}, 0" ActionType="NamedCallback" DescTextColor="26f" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3.2 点名时间轴" Id="52448d22-2c8a-41cc-a728-9a7dfa4094fe" RegularExpression="^U7a1_四线:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="${l:U7a1_四线_点名idx.indexof(${v:myIdx})} % 2 = 1 ? 5000 : 8000" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${l:U7a1_四线_点名idx.indexof(${v:myIdx})} &lt;= 2 ? &quot;后退，引导&quot; : &quot;前进，&quot; }${if: ${l:U7a1_四线_is雷[${n: ${l:U7a1_四线_点名idx.indexof(${v:myIdx})} % 2 = 0 ? 4 : 3 }]} ? 雷分散 : 火分摊 }" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a1_四线_无点名idx.contain(${v:myIdx})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3.1 无点名时间轴" Id="4503e1f9-4550-4849-8f22-76f37813730f" RegularExpression="^U7a1_四线:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${l:U7a1_四线_无点名idx.indexof(${v:myIdx})}号无点名，${if: ${l:U7a1_四线_无点名idx.indexof(${v:myIdx})} &gt; 2 ? 下南 : 上北 }引导${if: ${l:U7a1_四线_is雷[${n: ${l:U7a1_四线_无点名idx.indexof(${v:myIdx})} &gt; 2 ? 2 : 1 }]} ? 雷分散 : 火分摊 }" ActionType="UseTTS" />
<Action OrderNumber="2" UseTTSTextExpression="引导${if: ${l:U7a1_四线_is雷[${n: ${l:U7a1_四线_无点名idx.indexof(${v:myIdx})} &gt; 2 ? 4 : 3 }]} ? 雷分散 : 火分摊 }" ActionType="UseTTS" ExecutionDelayExpression="${l:U7a1_四线_无点名idx.indexof(${v:myIdx})} &gt; 2 ? 8000 : 5000" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a1_四线_无点名idx.contain(${v:myIdx})}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2024-12-04 06:05" Id="cb77b98c-c28e-4f6f-ae91-7526a11a43fd" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[23:12:59.794] _ActorSetPos AAA:10F:40007D0B:Fatebreaker:9707:17819:100.0000:100.0000:0.0000:-3.1416" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.85 * 1000" />
<Action OrderNumber="3" LogMessageText="[23:13:05.487] Tether 23:40007D0B:Fatebreaker:1087662F:Aak Silver:0000:0000:011F:1087662F:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="1.58 * 1000" />
<Action OrderNumber="5" LogMessageText="[23:13:08.659] Tether 23:40007CF6:Fatebreaker's Image:106D7095:Erato Asternomos:0000:0000:00F9:106D7095:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="1.25 * 1000" />
<Action OrderNumber="7" LogMessageText="[23:13:11.159] Tether 23:40007CF5:Fatebreaker's Image:10710F3C:Sui Zhu:0000:0000:011F:10710F3C:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="1.23 * 1000" />
<Action OrderNumber="9" LogMessageText="[23:13:13.617] Tether 23:40007CF4:Fatebreaker's Image:${_me.id}:Coca- Cola-:0000:0000:011F:107518BC:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="03c2ef3d-4722-4ea4-bf84-e860c8d446bf" Name="D. 六人塔" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 获取塔 * 3 =&gt; 2" Id="863ba2f0-78c7-4e73-91bd-0773ffc17c4f" RegularExpression="^.{15}\S+ 107:4.{7}:(?&lt;aid&gt;9CC[37]|9CB[ABCDEF]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ListVariableOp="Set" ListVariableName="U7a1_塔_人数" ListVariableExpression="${?d: 9CC3 = 1, 9CC7 = 1, 9CBA = 2, 9CBB = 3, 9CBC = 4, 9CBD = 2, 9CBE = 3, 9CBF = 4 [${aid}]}" ListVariableIndex="round(${y} / 10) - 8" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="U7a1_塔_is火" VariableExpression="${aid} == 9CC3 || ${aid} == 9CBA || ${aid} == 9CBB || ${aid} == 9CBC" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="U7a1_塔_is右" VariableExpression="${x} &gt; 100" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="Increment" VariableName="U7a1_塔_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" LogMessageText="U7a1_塔:${l:U7a1_塔_人数.join(&quot;&quot;)}:is右:${v:U7a1_塔_is右}:is火:${v:U7a1_塔_is火}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a1_塔_n}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="2. 播报" Id="ee53afe8-45ff-48fb-b14e-0da6c12178d9" RegularExpression="^U7a1_塔:(?&lt;cnt&gt;[1234]{3}):is右:(?&lt;is右&gt;[01]):is火:(?&lt;is火&gt;[01])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="T = 0，从上到下 = 1 2 3   （H1 H2 D4 固定，D123补位）" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="U7a1_塔_自己补塔" VariableExpression="${f:slice(${v:myIdx}):00013${?d: 114 = 333, 141 = 222, 411 = 111, 123 = 332, 132 = 232, 213 = 133, 231 = 122, 312 = 131, 321 = 112, 222 = 222 [${cnt}]}2}" ActionType="Variable" />
<Action OrderNumber="3" UseTTSTextExpression="去${if: ${is右} ? 左 : 右 }侧，${if: ${is火} ? 火击退 : 雷远离 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;ScaleX: 0${is右} ? -1 : 1&#xD;&#xA;Waymarks: AB1234CD&#xD;&#xA;Start: 6.25, -12&#xD;&#xA;End:   6.25, 12" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Action>
<Action OrderNumber="5" UseTTSTextExpression="${?d: 01 = 左上, 02 = 正左, 03 = 左下, 11 = 右上, 12 = 正右, 13 = 右下 [${is右}${v:U7a1_塔_自己补塔}]}踩塔，${if: ${is火} ? 火击退 : 雷远离 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;ScaleX: 0${is右} ? 1 : -1&#xD;&#xA;Waymarks: 1234&#xD;&#xA;Start: 6.25, -3.3 + (${v:U7a1_塔_自己补塔} - 2) * 9.17&#xD;&#xA;End:   6.25,  3.3 + (${v:U7a1_塔_自己补塔} - 2) * 9.17&#xD;&#xA;---&#xD;&#xA;B: fakeclear&#xD;&#xA;D: fakeclear" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="6200" />
<Action OrderNumber="8" />
<Action OrderNumber="9" UseTTSTextExpression="${if: ${is火} ? 靠近 : 远离 }，开减伤" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Action>
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;ScaleX: (0${is右} ? -1 : 1) * (${is火} ? 1.25 : 11.25)&#xD;&#xA;Waymarks: AB1234CD&#xD;&#xA;Start: 1, -12&#xD;&#xA;End:   1, 12" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
</Condition>
</Action>
<Action OrderNumber="11" UseTTSTextExpression="${if: ${is火} ? 靠近 : 远离 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="12" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;ScaleX: (0${is右} ? 1 : -1) * (${is火} ? 1.25 : 11.25)&#xD;&#xA;Waymarks: 1234&#xD;&#xA;Start: 1, -3.3 + (${v:U7a1_塔_自己补塔} - 2) * 9.17&#xD;&#xA;End:   1,  3.3 + (${v:U7a1_塔_自己补塔} - 2) * 9.17" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="13" NamedCallbackName="command" NamedCallbackParam="/e ${_event}" ActionType="NamedCallback" />
<Action OrderNumber="14" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="4400" DescBgColor="dff" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="c86531d0-173e-481a-93c9-3d95d4ee5d14" Name=".控制" Enabled="true">
<Folders>
<Folder Id="580b8169-b3e1-4aeb-8482-933bbbf99b3c" Name="标点" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="标点保存" Id="d262adb3-d420-4539-bef3-6627d561592d" RegularExpression="^.{15}\S+ 1C:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="place" NamedCallbackParam="save" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="标点重载" Id="52d55b00-799a-4488-a2c1-675b0bf24777" RegularExpression="^.{15}\S+ 21:.{8}:40000006|^.{15}\S+ 104:1:1">
<Actions>
<Action OrderNumber="1" NamedCallbackName="place" NamedCallbackParam="load" ActionType="NamedCallback" />
<Action OrderNumber="2" NamedCallbackName="place" NamedCallbackParam="save" ActionType="NamedCallback" ExecutionDelayExpression="2000" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Sequential="True" Name="团灭中断动作 + 重置战斗" Id="bf38cf37-def1-4ca2-bca6-1a138fcd11bb" RegularExpression="^.{15}\S+ 21:.{8}:40000011">
<Actions>
<Action OrderNumber="1" FolderId="0ce40102-dbad-4ebf-b5d1-c50aa2bd41d4" ActionType="ActInteraction" />
<Action OrderNumber="2" VariableName="U7a2_滑冰_loop" ActionType="Variable" />
<Action OrderNumber="3" FolderOp="CancelFolder" FolderId="783e52c2-3842-4611-b2c6-bdc6eafd3de3" ActionType="Folder" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="0. 初始化" Id="0e4f94bc-e4f5-4fd4-9ff4-509fba40cf7b" RegularExpression="^.{15}\S+ 104:.:1:.:1">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^U7a\d*_|^tmp_" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="小队列表注册区域" Id="b7170d53-af30-4ecf-bf31-f1dfd510e7e3" RegularExpression="^.{15}\S+ 01:(?&lt;zoneId&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="PartyList:Register:${n: 0x${zoneId} }:MT, ST, H1, H2, D1, D2, D3, D4" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="注册回调" Id="2691fd47-645c-43ee-b400-65745f761df7" RegularExpression="^.{15}\S+ 01">
<Actions>
<Action OrderNumber="1" ExecScriptExpression="using System;&#xD;&#xA;using System.Globalization;&#xD;&#xA;using static System.Math;&#xD;&#xA;using static Triggernometry.PluginBridges.BridgeFFXIV;&#xD;&#xA;using static Triggernometry.Interpreter.StaticHelpers;&#xD;&#xA;using Triggernometry;&#xD;&#xA;&#xD;&#xA;RealPlugin.plug.RegisterNamedCallback(&#xD;&#xA;    &quot;U7a2_IceSkatingSolver&quot;, &#xD;&#xA;    new Action&lt;object, string&gt;(U7a2_IceSkatingSolver.Callback), &#xD;&#xA;    null, &#xD;&#xA;    registrant: &quot;绝伊甸宝宝椅&quot;&#xD;&#xA;);&#xD;&#xA;&#xD;&#xA;public static class U7a2_IceSkatingSolver&#xD;&#xA;{&#xD;&#xA;    static int ShivaDir8;&#xD;&#xA;    static double Shivaθ;&#xD;&#xA;&#xD;&#xA;    public static void Callback(object _, string command)&#xD;&#xA;    {&#xD;&#xA;        switch (command.ToLower().Trim())&#xD;&#xA;        {&#xD;&#xA;            case &quot;init&quot;: Init(); break;&#xD;&#xA;            case &quot;solve&quot;: Solve(); break;&#xD;&#xA;            default: throw new ArgumentException(&quot;U7a2_IceSkatingSolver: Invalid command. Expecting \&quot;init\&quot; or \&quot;solve\&quot;.&quot;);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static void Init()&#xD;&#xA;    {&#xD;&#xA;        ShivaDir8 = (int)ParseDouble(GetScalarVariable(false, &quot;U7a2_滑冰_冰dir8&quot;));&#xD;&#xA;        Shivaθ = (ShivaDir8 - 4) * PI / 4;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static void Solve()&#xD;&#xA;    {&#xD;&#xA;        var me = GetIdEntity(PlayerHexId);&#xD;&#xA;        var absPos = new Point { X = ParseDouble(me.GetValue(&quot;x&quot;)), Y = ParseDouble(me.GetValue(&quot;y&quot;)) };&#xD;&#xA;        var relPos = absPos.AbsToRel();&#xD;&#xA;        if (relPos.Y &lt; -Abs(relPos.X) - 10) // 背面&#xD;&#xA;        {&#xD;&#xA;            RecordState(PositionStateEnum.Back);&#xD;&#xA;            return;&#xD;&#xA;        }&#xD;&#xA;        if (relPos.X * relPos.X + relPos.Y * relPos.Y &lt;= 12 * 12) // 中心&#xD;&#xA;        {&#xD;&#xA;            RecordState(PositionStateEnum.Center);&#xD;&#xA;            return;&#xD;&#xA;        }&#xD;&#xA;        if (!CanSkateToShivaBack(relPos.X, relPos.Y))&#xD;&#xA;        {&#xD;&#xA;            RecordState(PositionStateEnum.Side);&#xD;&#xA;            return;&#xD;&#xA;        }&#xD;&#xA;        var safestRelθ = SolveSafestAngle(relPos.X, relPos.Y);&#xD;&#xA;        var safestAbsθ = safestRelθ + (Shivaθ - PI);&#xD;&#xA;        RecordState(PositionStateEnum.Front, safestAbsθ);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    enum PositionStateEnum { &#xD;&#xA;        /// &lt;summary&gt; 希瓦身后 &lt;/summary&gt;&#xD;&#xA;        Back,&#xD;&#xA;        /// &lt;summary&gt; 希瓦前方，可一次滑冰到背后的区域 &lt;/summary&gt;&#xD;&#xA;        Front,&#xD;&#xA;        /// &lt;summary&gt; 场中 12 米内且不在身后，无解&lt;/summary&gt;&#xD;&#xA;        Center,&#xD;&#xA;        /// &lt;summary&gt; 希瓦侧面，不可一次滑冰到背后的区域 &lt;/summary&gt;&#xD;&#xA;        Side&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static void RecordState(PositionStateEnum state, double θ = 0)&#xD;&#xA;    { &#xD;&#xA;        SetScalarVariable(false, &quot;U7a2_滑冰_PositionState&quot;, state);&#xD;&#xA;        SetScalarVariable(false, &quot;U7a2_滑冰_Safestθ&quot;, θ.ToString(CultureInfo.InvariantCulture));&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; &#xD;&#xA;    /// 判断是否可以从指定位置滑向希瓦背后。&lt;br /&gt;&#xD;&#xA;    /// 判据为希瓦背后的场地边缘上所有点为圆心、半径 32 的圆周在南侧场地形成的包络线，&lt;br /&gt;&#xD;&#xA;    /// 以抛物线近似计算（留有一定容错）。&#xD;&#xA;    /// &lt;/summary&gt;&#xD;&#xA;    static bool CanSkateToShivaBack(double relX, double relY) =&gt; -relY &lt; 0.03 * relX * relX - 12.1;&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 根据指定位置， &lt;/summary&gt;&#xD;&#xA;    static double SolveSafestAngle(double relX, double relY)&#xD;&#xA;    {&#xD;&#xA;        // 希瓦处于相对北 (0, -10)&#xD;&#xA;        // 若当前处于左半场：对称到右半场计算&#xD;&#xA;        if (relX &lt; 0)  &#xD;&#xA;            return -SolveSafestAngle(-relX, relY);&#xD;&#xA;        // 希瓦处于相对北，身后有三条边缘：上方场地圆周、左侧 y = x - 10，右侧 y = -x - 10&#xD;&#xA;        // 若当前处于以身后区域右侧尖端为圆心、32 为半径的圆形区域内：&#xD;&#xA;        //   滑冰角度范围由当前所处位置为圆心、半径 32 的圆周 与 左侧边缘、上方圆周的两个交点确定.&#xD;&#xA;        // 若当前处于以身后区域右侧尖端为圆心、32 为半径的圆形区域外：&#xD;&#xA;        //   滑冰角度范围由当前所处位置为圆心、半径 32 的圆周 与 左右两边缘的交点确定.&#xD;&#xA;        bool isInside = (relX - 8.23) * (relX - 8.23) + (relY + 18.23) * (relY + 18.23) &lt;= 32 * 32;&#xD;&#xA;        Point left = 滑冰圆与左边界交点(relX, relY);&#xD;&#xA;        Point right = isInside ? 滑冰圆与场地交点(relX, relY) : 滑冰圆与右边界交点(relX, relY);&#xD;&#xA;        var leftθ = Atan2(left.X - relX, left.Y - relY);&#xD;&#xA;        var rightθ = Atan2(right.X - relX, right.Y - relY);&#xD;&#xA;        var diff = (rightθ - leftθ + 4 * PI) % (2 * PI);&#xD;&#xA;        if (diff &gt; PI) diff -= 2 * PI;&#xD;&#xA;        return leftθ + diff / 2;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static Point 滑冰圆与左边界交点(double x0, double y0)&#xD;&#xA;    {&#xD;&#xA;        // (x-x0)^2 + (y-y0)^2 = 32^2 与 y = x - 10 的交点（靠上的）&#xD;&#xA;        var a = 2.0;&#xD;&#xA;        var b = 2 * (10 - x0 - y0);&#xD;&#xA;        var c = y0 * y0 + (x0 - 10) * (x0 - 10) - 1024;&#xD;&#xA;        var y = (-b - Sqrt(b * b - 4 * a * c)) / (2 * a);&#xD;&#xA;        var x = y + 10;&#xD;&#xA;        return new Point { X = x, Y = y };&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static Point 滑冰圆与右边界交点(double x0, double y0)&#xD;&#xA;    {&#xD;&#xA;        // (x-x0)^2 + (y-y0)^2 = 32^2 与 y = x + 10 的交点（靠上的）&#xD;&#xA;        var symPoint = 滑冰圆与左边界交点(-x0, y0);&#xD;&#xA;        return new Point { X = -symPoint.X, Y = symPoint.Y };&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static Point 滑冰圆与场地交点(double x0, double y0)&#xD;&#xA;    {&#xD;&#xA;        // (x-x0)^2 + (y-y0)^2 = 32^2 与 x^2 + y^2 = 20^2 的交点（靠上的）&#xD;&#xA;        var squareSum = x0 * x0 + y0 * y0;&#xD;&#xA;        var a = 4 * squareSum;&#xD;&#xA;        var b = -4 * x0 * (squareSum - 624);&#xD;&#xA;        var c = (squareSum - 624) * (squareSum - 624) - 1600 * y0 * y0;&#xD;&#xA;        var x = (-b + Sqrt(b * b - 4 * a * c)) / (2 * a);&#xD;&#xA;        var y = -Sqrt(400 - x * x);&#xD;&#xA;        return new Point { X = x, Y = y };&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    struct Point&#xD;&#xA;    {&#xD;&#xA;        public double X;&#xD;&#xA;        public double Y;&#xD;&#xA;&#xD;&#xA;        /// &lt;summary&gt; 以场中为中心、希瓦为相对北，将场地坐标转换为相对坐标。&lt;/summary&gt;&#xD;&#xA;        public Point AbsToRel()&#xD;&#xA;        {&#xD;&#xA;            var sin = Sin(Shivaθ);&#xD;&#xA;            var cos = Cos(Shivaθ);&#xD;&#xA;            return new Point { &#xD;&#xA;                X = -(X - 100) * cos + (Y - 100) * sin,&#xD;&#xA;                Y = -(X - 100) * sin - (Y - 100) * cos,&#xD;&#xA;            };&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        /// &lt;summary&gt; 以场中为中心、希瓦为相对北，将相对坐标转换为场地坐标。&lt;/summary&gt;&#xD;&#xA;        public Point RelToAbs()&#xD;&#xA;        {&#xD;&#xA;            var sin = Sin(Shivaθ);&#xD;&#xA;            var cos = Cos(Shivaθ);&#xD;&#xA;            return new Point&#xD;&#xA;            {&#xD;&#xA;                X = -X * cos - Y * sin + 100,&#xD;&#xA;                Y =  X * sin - Y * cos + 100,&#xD;&#xA;            };&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static double ParseDouble(object s) =&gt; double.Parse(s.ToString(), NumberStyles.Float, CultureInfo.InvariantCulture);&#xD;&#xA;}" ActionType="ExecuteScript" Asynchronous="False" Description="U7a2_IceSkatingSolver　　　P2 滑冰指示方向" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ecallback:U7a2_IceSkatingSolver}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="a935a343-83a5-495d-938f-95689daba040" Name="P2" Enabled="true">
<Folders>
<Folder Id="45b35f52-10bd-4591-9ebe-2e6061472326" Name="A. 钻石星尘" Enabled="true" RawEnvironmentVariables="phase = P2DD">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1.1 获取初始冰圈 =&gt; 2" Id="16a853ad-fff9-4aaa-94c6-6b89ebc3db80" RegularExpression="^.{15}\S+ 107:4.{7}:9D06:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="U7a2_DD_dir8" VariableExpression="roundvec(${x} - 100, ${y} - 100, 8) % 4" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="U7a2_DD:dir8:${v:U7a2_DD_dir8}:is钢:${v:U7a2_DD_is钢}:id:${l:U7a2_DD_点名id.join(:)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_DD_dir8}${ev:U7a2_DD_is钢}${l:U7a2_DD_点名id.size}" ExpressionTypeL="String" ExpressionR="114" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_DD_dir8}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1.2 获取钢铁月环 =&gt; 2" Id="171562d8-f32c-4a90-a71b-6f97e7b8f64d" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D0(?&lt;type&gt;[AB]):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or" />
</Action>
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="U7a2_DD_is钢" VariableExpression="${type} == A" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="U7a2_DD:dir8:${v:U7a2_DD_dir8}:is钢:${v:U7a2_DD_is钢}:id:${l:U7a2_DD_点名id.join(:)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_DD_dir8}${ev:U7a2_DD_is钢}${l:U7a2_DD_点名id.size}" ExpressionTypeL="String" ExpressionR="114" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1.3 获取点名 * 4 =&gt; 2" Id="e7611e6a-120f-40d8-bd7e-3b22f752fdbb" RegularExpression="^.{15}\S+ 1B:(?&lt;id&gt;1.{7}):[^:]*:[^:]*:[^:]*:0159">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="U7a2_DD_点名id" ListVariableExpression="${id}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="U7a2_DD:dir8:${v:U7a2_DD_dir8}:is钢:${v:U7a2_DD_is钢}:id:${l:U7a2_DD_点名id.join(:)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_DD_dir8}${ev:U7a2_DD_is钢}${l:U7a2_DD_点名id.size}" ExpressionTypeL="String" ExpressionR="114" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 播报" Id="47530b31-11cb-4c6d-9559-0f6216749ec8" RegularExpression="^U7a2_DD:dir8:(?&lt;dir8&gt;[0123]):is钢:(?&lt;is钢&gt;[01]):id:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="U7a2_DD_is点名自己" VariableExpression="${l:U7a2_DD_点名id.contain(${_me.id})}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="U7a2_DD_is自己正点" VariableExpression="(0${dir8} % 2 = 1) = 0${v:U7a2_DD_is点名自己}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="clear" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="4" UseTTSTextExpression="钢铁，去${if: ${v:U7a2_DD_is自己正点} ? 正点 : 斜点 }，贴边放点名" UseTTSExclusive="False" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" UseTTSTextExpression="钢铁，去${if: ${v:U7a2_DD_is自己正点} ? 正点 : 斜点 }，贴近黑线引导扇形" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;Waymarks: ${if: ${v:U7a2_DD_is自己正点} ? A_D_C_B_ : _1_4_3_2 }&#xD;&#xA;R:  0${v:U7a2_DD_is点名自己} ? 19 : 17.25" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is钢}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" UseTTSTextExpression="月环，先去脚下${if: ${v:U7a2_DD_is自己正点} ? 正点 : 斜点 }，然后出去放冰花" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="01" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" UseTTSTextExpression="月环，${if: ${v:U7a2_DD_is自己正点} ? 正点 : 斜点 }靠近引导扇形" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="00" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;Waymarks: ${if: 0${v:U7a2_DD_is自己正点} ? A_D_C_B_ : _1_4_3_2 }&#xD;&#xA;R:  0${v:U7a2_DD_is点名自己} ? 2.75 : 1.77" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is钢}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="10" LogMessageText="cd5:${if: ${v:U7a2_DD_is点名自己} ? 8.0 : 5.6 }" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="5400" Asynchronous="False" />
<Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="钢铁月环判定" DescriptionOverride="True" />
<Action OrderNumber="13" UseTTSTextExpression="出去放冰花" UseTTSExclusive="False" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="01" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="14" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;Waymarks: ${if: ${v:U7a2_DD_is自己正点} ? A_D_C_B_ : _1_4_3_2 }&#xD;&#xA;R:  8" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="01" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="15" UseTTSTextExpression="回场中" UseTTSExclusive="False" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="2500" Asynchronous="False" />
<Action OrderNumber="17" ActionType="Placeholder" Asynchronous="False" Description="冰花点名判定" DescriptionOverride="True" />
<Action OrderNumber="18" UseTTSTextExpression="击退到${f:pick(${n: ${dir8} + (${v:myIdx_isG1} ? 0 : 4) }): 红色A, 红色壹, 紫色D, 紫色4, 蓝色C, 蓝色3, 黄色B, 黄色贰}点方向" UseTTSExclusive="False" ActionType="UseTTS" />
<Action OrderNumber="19" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;Action: Circle&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;Waymarks: ${f:pick(0${dir8}): A___C___, _1___3__, __D___B_, ___4___2 }&#xD;&#xA;R:  6&#xD;&#xA;---&#xD;&#xA;Action: Linear&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;θ: dir2rad(0${dir8}, 8) + (${v:myIdx_isG1} ? 0 : π)&#xD;&#xA;Waymarks: ${f:pick(0${dir8}): 1234, ABCD, 1234, ABCD }&#xD;&#xA;Start: 0, -12&#xD;&#xA;End:   0, -18" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 前半" Id="3b9076ad-c269-4a66-8d3c-1101252615a5" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[04:18:58.116] StartsCasting 14:4002C3C9:Usurper of Frost:9CF4:Mirror Image:4002C3C9:Usurper of Frost:2.700:99.99:105.00:0.00:-0.52" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="3" LogMessageText="[04:19:10.930] 263 107:4002C3A2:9D06:88.687:111.301:0.000:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[04:19:10.930] 263 107:4002C3A3:9D06:111.301:88.687:0.000:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="0.27 * 1000" />
<Action OrderNumber="6" LogMessageText="[04:19:11.198] StartsCasting 14:4002C3C8:Oracle's Reflection:9D0A:Axe Kick:4002C3C8:Oracle's Reflection:5.700:99.99:99.99:0.00:0.52" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="0.18 * 1000" />
<Action OrderNumber="8" LogMessageText="[04:19:11.377] TargetIcon 1B:10860D24:Maple Leaf:0000:0000:0159:10860D24:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[04:19:11.377] TargetIcon 1B:107A182B:Chickenstew Delicious:0000:0000:0159:107A182B:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[04:19:11.377] TargetIcon 1B:10844F86:Dyvinell Dark:0000:0000:0159:10844F86:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[04:19:11.377] TargetIcon 1B:10934AAA:Deep Trouble:0000:0000:0159:10934AAA:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 开始 读条镜像" Id="6f2f81c4-374c-4467-9823-60eee95b2364" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9CF4:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="准备AoE" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="UnsetRegexUniversal" VariableName="^U7a2_DD" ActionType="Variable" />
<Action OrderNumber="4" UseTTSTextExpression="钻石星尘" ActionType="UseTTS" ExecutionDelayExpression="5000" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="b3b6310b-9472-43f1-b465-f3f9dd193f00" Name="C. 镜之国" Enabled="true" RawEnvironmentVariables="phase = P2镜子">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 开始" Id="a5683e81-619f-453c-a26a-b7696abb3e7b" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9CF3:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="镜子" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="UnsetRegexUniversal" VariableName="^U7a2_镜子" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取白镜子 （时间轴）" Id="990e136a-9204-4b4b-90d7-d45862076187" RegularExpression="^.{15}\S+ 101:.{8}:00020001:0(?&lt;pos&gt;[1-8])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="6.1 读条月环 | 11.8 第一轮月环 | 21.8 第二轮月环" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="U7a2_镜子_白dir8" VariableExpression="(9 - 0${pos}) % 8" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="cd5:12.0" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="cd5:22.0" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" UseTTSTextExpression="去${f:pick(${v:U7a2_镜子_白dir8}): 上北, 左上, 左西, 左下, 下南, 右下, 右东, 右上}白镜子" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isTM}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(${v:U7a2_镜子_白dir8}, 8)&#xD;&#xA;1: 0, -1&#xD;&#xA;2: 0, -4&#xD;&#xA;3: 0, -7&#xD;&#xA;4: 0, -10&#xD;&#xA;---&#xD;&#xA;O: 100, 100 polar 20, dir2rad(${v:U7a2_镜子_白dir8}, 8)&#xD;&#xA;θ: dir2rad(${v:U7a2_镜子_白dir8}, 8)&#xD;&#xA;A: polar 2.75, -85°&#xD;&#xA;B: polar 2.75, -45°&#xD;&#xA;C: polar 2.75,  45°&#xD;&#xA;D: polar 2.75,  85°" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isTM}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" UseTTSTextExpression="去${f:pick(${v:U7a2_镜子_白dir8}): 下南, 右下, 右东, 右上, 上北, 左上, 左西, 左下}" UseTTSExclusive="False" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${v:U7a2_镜子_白dir8}, 8)&#xD;&#xA;Waymarks: ABCD1234&#xD;&#xA;Start: 0, 0&#xD;&#xA;End: 0, 18.5" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="11800" Asynchronous="False" />
<Action OrderNumber="10" VariableOp="SetNumeric" VariableName="U7a2_镜子_红dir8" VariableExpression="${l:U7a2_镜子_红dir8[1]} + ((${l:U7a2_镜子_红dir8[2]} - ${l:U7a2_镜子_红dir8[1]}) %% 8 = 2 ? 1 : -1)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" UseTTSTextExpression="去红镜子" ActionType="UseTTS" />
<Action OrderNumber="12" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 polar 20, dir2rad(${v:U7a2_镜子_红dir8} + 1, 8)&#xD;&#xA;θ: dir2rad(${v:U7a2_镜子_红dir8} + 1, 8)&#xD;&#xA;1: polar 2.75, -85°&#xD;&#xA;2: polar 2.75, -40°&#xD;&#xA;3: polar 2.75,   5°&#xD;&#xA;4: polar 2.75,  85°&#xD;&#xA;---&#xD;&#xA;O: 100, 100 polar 20, dir2rad(${v:U7a2_镜子_红dir8} - 1, 8)&#xD;&#xA;θ: dir2rad(${v:U7a2_镜子_红dir8} - 1, 8)&#xD;&#xA;A: polar 2.75, -85°&#xD;&#xA;B: polar 2.75,  -5°&#xD;&#xA;C: polar 2.75,  40°&#xD;&#xA;D: polar 2.75,  85°" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="13" UseTTSTextExpression="准备分散分摊" ActionType="UseTTS" ExecutionDelayExpression="7000" />
<Action OrderNumber="14" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="4500" DescBgColor="dff" />
<Action OrderNumber="15" UseTTSTextExpression="八方站位" ActionType="UseTTS" ExecutionDelayExpression="5000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 记录红镜子 for 1" Id="bf082bfa-0d21-484d-b259-1777243b2b46" RegularExpression="^.{15}\S+ 101:.{8}:02000100:0(?&lt;pos&gt;[1-8])">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="U7a2_镜子_红dir8" ListVariableExpression="(9 - ${pos}) % 8" ActionType="ListVariable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 本体月环" Id="2e5a240f-c8e9-4468-a064-a5a6bfde0cbc" RegularExpression="^.{15}\S+ 107:4.{7}:9D0B:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or" />
</Action>
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;1: fakeclear&#xD;&#xA;2: fakeclear&#xD;&#xA;3: fakeclear&#xD;&#xA;4: fakeclear&#xD;&#xA;---&#xD;&#xA;O: ${x}, ${y}&#xD;&#xA;θ: dir2rad(${v:U7a2_镜子_白dir8}, 8)&#xD;&#xA;A: polar 2.75, -90°&#xD;&#xA;B: polar 2.75, -30°&#xD;&#xA;C: polar 2.75,  30°&#xD;&#xA;D: polar 2.75,  90°" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" UseTTSTextExpression="分散站位" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="2165486a-0939-4847-a3b1-8b3314d55cbf" Name="D. 光之暴走" Enabled="true" RawEnvironmentVariables="phase = P2光暴">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="光圈/塔判定" Id="f4d3c946-1175-4286-b320-db38df41678b" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:9D1[A5]:[^:]*:(?&lt;tid&gt;1.{7})" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="500">
<Actions>
<Action OrderNumber="1" SystemBeepLengthExpression="200" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 开始" Id="149b2f05-202b-4849-a6bd-e9311b7ab43a" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D14:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^U7a2_光暴" ActionType="Variable" />
<Action OrderNumber="3" NamedCallbackName="command" NamedCallbackParam="/${if: (0x${_me.id} &amp; 0xFFFF) = 0x8BF3 ? p : e } &#xD;&#xA;ＭＴ 　0》　　　　&#xD;&#xA;ＳＴ 　0》　1》　2》&#xD;&#xA;Ｈ１ 　1》　2》&#xD;&#xA;Ｈ２ 　0》　1》　2》&#xD;&#xA;Ｄ１ 　0》　1》　2》&#xD;&#xA;Ｄ２ 　0》　1》　2》&#xD;&#xA;Ｄ３ 　2》&#xD;&#xA;Ｄ４ 　0》　1》　　" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="3. 验证顺序 + 计算 =&gt; 4" Id="9974e140-a910-4d08-b180-027739a751c6" RegularExpression="^U7a2_光暴_环">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="反正不是决速步，滥用点临时字典 who cares （x" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="将字典转换为正北顺时针排队的优先级" DescriptionOverride="True" />
<Action OrderNumber="3" DictVariableOp="Merge" DictVariableName="U7a2_光暴_环_pIdx" DictVariableTarget="U7a2_光暴_环_prio" ActionType="DictVariable" />
<Action OrderNumber="4" DictVariableOp="SetAll" DictVariableName="U7a2_光暴_环_prio" DictVariableKey="${?d: 1=1, 2=3, 3=7, 4=5, 5=6, 6=4, 7=8, 8=2 [${_key}]}" DictVariableValue="${?d: 1=1, 2=3, 3=7, 4=5, 5=6, 6=4, 7=8, 8=2 [${_val}]}" ActionType="DictVariable" />
<Action OrderNumber="5" ActionType="Placeholder" Description="从优先级最高的起始" DescriptionOverride="True" />
<Action OrderNumber="6" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio.minkey}" ActionType="ListVariable" />
<Action OrderNumber="7" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}" ActionType="ListVariable" />
<Action OrderNumber="8" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}" ActionType="ListVariable" />
<Action OrderNumber="9" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}" ActionType="ListVariable" />
<Action OrderNumber="10" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}" ActionType="ListVariable" />
<Action OrderNumber="11" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}" ActionType="ListVariable" />
<Action OrderNumber="12" UseTTSTextExpression="成环错误：首尾不相连" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}" ExpressionTypeL="String" ExpressionR="${l:U7a2_光暴_环_prio[1]}" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="13" ActionType="Placeholder" Description="检查是否是顺序的，否则倒转环" DescriptionOverride="True" />
<Action OrderNumber="14" ListVariableOp="Build" ListVariableExpression=":${l:U7a2_光暴_环_prio.join(:, &quot;1,6,5,4,3,2&quot;)}" ListVariableTarget="U7a2_光暴_环_prio" ActionType="ListVariable">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="(${l:U7a2_光暴_环_prio[2]} - ${l:U7a2_光暴_环_prio[1]}) %% 8" ExpressionTypeL="Numeric" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="15" ActionType="Placeholder" Description="转换回 partyIndex" DescriptionOverride="True" />
<Action OrderNumber="16" ListVariableOp="Copy" ListVariableName="U7a2_光暴_环_prio" ListVariableTarget="U7a2_光暴_环_pIdx" ActionType="ListVariable" />
<Action OrderNumber="17" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_环_pIdx" ListVariableExpression="${?d: 1=1, 3=2, 7=3, 5=4, 6=5, 4=6, 8=7, 2=8 [${_this}]}" ActionType="ListVariable" />
<Action OrderNumber="18" ListVariableOp="Copy" ListVariableName="U7a2_光暴_环_pIdx" ListVariableTarget="U7a2_光暴_环_role" ActionType="ListVariable" />
<Action OrderNumber="19" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_环_role" ListVariableExpression="${?d: 1=ＭＴ, 2=ＳＴ, 3=Ｈ１, 4=Ｈ２, 5=Ｄ１, 6=Ｄ２, 7=Ｄ３, 8=Ｄ４ [${_this}]}" ActionType="ListVariable" />
<Action OrderNumber="20" ActionType="Placeholder" Description="无点名" DescriptionOverride="True" />
<Action OrderNumber="21" ListVariableOp="Build" ListVariableExpression=",1,2,3,4,5,6,7,8" ListVariableTarget="U7a2_光暴_无_pIdx" ActionType="ListVariable" />
<Action OrderNumber="22" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="U7a2_光暴_无_pIdx" ListVariableExpression="!${l:U7a2_光暴_环_pIdx.contain(${_this})}" ListVariableTarget="U7a2_光暴_无_pIdx" ActionType="ListVariable" />
<Action OrderNumber="23" ActionType="Placeholder" Description="输出" DescriptionOverride="True" />
<Action OrderNumber="24" LogMessageText="U7a2_光暴_输出:${l:U7a2_光暴_环_pIdx.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 获取连线 =&gt; 3" Id="c450194f-588c-4fc5-ab37-5a97809cc84e" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:006E">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or" />
</Action>
<Action OrderNumber="2" DictVariableOp="Set" DictVariableName="U7a2_光暴_环_pIdx" DictVariableKey="${l:party.indexof(${sid})}" DictVariableValue="${l:party.indexof(${tid})}" ActionType="DictVariable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="U7a2_光暴_环:${d:U7a2_光暴_环_pIdx.joinall}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${d:U7a2_光暴_环_pIdx.size}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="4.2 有连线" Id="de018418-3a22-421b-ae6e-9ccd9f26fddf" RegularExpression="^U7a2_光暴_输出:(?&lt;index&gt;\d{6})">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="U7a2_光暴_myDir6" VariableExpression="${?d: 1 = 3, 2 = 1, 3 = 5, 4 = 2, 5 = 4, 6 = 0 [${l:U7a2_光暴_环_pIdx.indexof(${v:myIdx})}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${f:pick(${v:U7a2_光暴_myDir6}): 上北, 左上, 左下, 下南, 右下, 右上}踩塔" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;θ: dir2rad(${v:U7a2_光暴_myDir6}, 6)&#xD;&#xA;O: 100, 100&#xD;&#xA;Start: 0, 0&#xD;&#xA;End: 0, -18.75&#xD;&#xA;Waymarks: 4321DCBA&#xD;&#xA;" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="10300" />
<Action OrderNumber="5" UseTTSTextExpression="${f:pick(${v:U7a2_光暴_myDir6}): 左西, 左西, 左西, 右东, 右东, 右东}集合" ActionType="UseTTS" />
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;θ: ${v:U7a2_光暴_myDir6} &gt;= 3 ? π/2 : -π/2&#xD;&#xA;O: 100, 100&#xD;&#xA;Start: 0, 0&#xD;&#xA;End: 0, -18.75&#xD;&#xA;Waymarks: 4321DCBA&#xD;&#xA;" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="U7a2_光暴_环_pIdx" ExpressionTypeL="String" ExpressionR="${v:myIdx}" ExpressionTypeR="String" ConditionType="ListContains" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="4.1 无连线" Id="b526b818-da7d-4f37-a229-4142c33e83c2" RegularExpression="^U7a2_光暴_输出:(?&lt;index&gt;\d{6})">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="两侧放大圈" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="U7a2_光暴_无_pIdx" ExpressionTypeL="String" ExpressionR="${v:myIdx}" ExpressionTypeR="String" ConditionType="ListContains" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="4.3 文字播报" Id="999c496e-a294-45f0-bbb8-df1770fad9cb" RegularExpression="^U7a2_光暴_输出:(?&lt;index&gt;\d{6})">
<Actions>
<Action OrderNumber="1" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_点名描述" ListVariableExpression="${?d: 0 = 无, 1 = &quot;&quot;, 2 = &quot;&quot;, 3 = &quot;&quot;, 4 = &quot;&quot;, 5 = &quot;&quot;, 6 = &quot;&quot; [${l:U7a2_光暴_环_pIdx.indexof(${_idx})}]}" ListVariableIndex="8" ActionType="ListVariable" />
<Action OrderNumber="2" NamedCallbackName="command" NamedCallbackParam="/e [Debug] 有問題的話截图&#xD;&#xA;prio: ${l:U7a2_光暴_环_prio.join(&quot;&quot;)}&#xD;&#xA;pIdx: ${l:U7a2_光暴_环_pIdx.join(&quot;&quot;)}&#xD;&#xA;role: ${l:U7a2_光暴_环_role.join(&quot;&quot;)}" ActionType="NamedCallback" DescBgColor="fdd" />
<Action OrderNumber="3" NamedCallbackName="command" NamedCallbackParam="/e &#xD;&#xA;ＭＴ 》 ${l:U7a2_光暴_点名描述[1]}  ｜ 　　　  　${l:U7a2_光暴_环_role[6]}&#xD;&#xA;ＳＴ 》 ${l:U7a2_光暴_点名描述[2]}  ｜ 　　　　　&#xD;&#xA;Ｈ１ 》 ${l:U7a2_光暴_点名描述[3]}  ｜ ${l:U7a2_光暴_环_role[2]} 　  　　　 ${l:U7a2_光暴_环_role[3]}&#xD;&#xA;Ｈ２ 》 ${l:U7a2_光暴_点名描述[4]}  ｜ &#xD;&#xA;Ｄ１ 》 ${l:U7a2_光暴_点名描述[5]}  ｜ &#xD;&#xA;Ｄ２ 》 ${l:U7a2_光暴_点名描述[6]}  ｜ ${l:U7a2_光暴_环_role[4]} 　　  　　 ${l:U7a2_光暴_环_role[5]}&#xD;&#xA;Ｄ３ 》 ${l:U7a2_光暴_点名描述[7]}  ｜ 　　　　　&#xD;&#xA;Ｄ４ 》 ${l:U7a2_光暴_点名描述[8]}  ｜ 　　　  　${l:U7a2_光暴_环_role[1]}" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="false" Sequential="True" Name="4.4 小队标点（想开自己开）" Id="cc980391-7b7f-4f1e-befc-1a00fd634715" RegularExpression="^U7a2_光暴_输出:(?&lt;index&gt;\d{6})">
<Actions>
<Action OrderNumber="1" NamedCallbackName="mark" NamedCallbackParam="{&#xD;&#xA;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_环_pIdx[1]}]},&#xD;&#xA;    &quot;MarkType&quot;: &quot;attack1&quot;,&#xD;&#xA;    &quot;LocalOnly&quot;: false &#xD;&#xA;}" ActionType="NamedCallback" />
<Action OrderNumber="2" NamedCallbackName="mark" NamedCallbackParam="{&#xD;&#xA;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_环_pIdx[2]}]},&#xD;&#xA;    &quot;MarkType&quot;: &quot;attack2&quot;,&#xD;&#xA;    &quot;LocalOnly&quot;: false &#xD;&#xA;}" ActionType="NamedCallback" />
<Action OrderNumber="3" NamedCallbackName="mark" NamedCallbackParam="{&#xD;&#xA;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_环_pIdx[3]}]},&#xD;&#xA;    &quot;MarkType&quot;: &quot;attack3&quot;,&#xD;&#xA;    &quot;LocalOnly&quot;: false &#xD;&#xA;}" ActionType="NamedCallback" />
<Action OrderNumber="4" NamedCallbackName="mark" NamedCallbackParam="{&#xD;&#xA;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_环_pIdx[4]}]},&#xD;&#xA;    &quot;MarkType&quot;: &quot;attack4&quot;,&#xD;&#xA;    &quot;LocalOnly&quot;: false &#xD;&#xA;}" ActionType="NamedCallback" />
<Action OrderNumber="5" NamedCallbackName="mark" NamedCallbackParam="{&#xD;&#xA;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_环_pIdx[5]}]},&#xD;&#xA;    &quot;MarkType&quot;: &quot;attack5&quot;,&#xD;&#xA;    &quot;LocalOnly&quot;: false &#xD;&#xA;}" ActionType="NamedCallback" />
<Action OrderNumber="6" NamedCallbackName="mark" NamedCallbackParam="{&#xD;&#xA;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_环_pIdx[6]}]},&#xD;&#xA;    &quot;MarkType&quot;: &quot;attack6&quot;,&#xD;&#xA;    &quot;LocalOnly&quot;: false &#xD;&#xA;}" ActionType="NamedCallback" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="10000" />
<Action OrderNumber="8" NamedCallbackName="command" NamedCallbackParam="/mk attack1 &lt;attack1&gt;" ActionType="NamedCallback" />
<Action OrderNumber="9" NamedCallbackName="command" NamedCallbackParam="/mk attack2 &lt;attack2&gt;" ActionType="NamedCallback" />
<Action OrderNumber="10" NamedCallbackName="command" NamedCallbackParam="/mk attack3 &lt;attack3&gt;" ActionType="NamedCallback" />
<Action OrderNumber="11" NamedCallbackName="command" NamedCallbackParam="/mk attack4 &lt;attack4&gt;" ActionType="NamedCallback" />
<Action OrderNumber="12" NamedCallbackName="command" NamedCallbackParam="/mk attack5 &lt;attack5&gt;" ActionType="NamedCallback" />
<Action OrderNumber="13" NamedCallbackName="command" NamedCallbackParam="/mk attack6 &lt;attack6&gt;" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="5. 光球 + 后续" Id="5efb2838-f6ff-4282-be91-a39913f6bb44" RegularExpression="^.{15}\S+ 107:4.{7}:9D1B:(?&lt;x&gt;(99|100)[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="5000">
<Actions>
<Action OrderNumber="1" LogMessageText="cd4:4.7" LogProcess="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100&#xD;&#xA;Start: 0, 0&#xD;&#xA;End: (${_me.x} &gt; 100 ? 18.45 : -18.45), (${y} &gt; 100 ? 3.34 : -3.34)&#xD;&#xA;Waymarks: 4321DCBA&#xD;&#xA;" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100&#xD;&#xA;Start: 0, 0&#xD;&#xA;End: (${_me.x} &gt; 100 ? 18.45 : -18.45), (${y} &gt; 100 ? 3.34 : -3.34)&#xD;&#xA;Waymarks: 4321DCBA&#xD;&#xA;" ActionType="NamedCallback" ExecutionDelayExpression="2000" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="4" UseTTSTextExpression="别动" ActionType="UseTTS" ExecutionDelayExpression="700" Asynchronous="False" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="2000" Asynchronous="False" />
<Action OrderNumber="6" VariableOp="SetNumeric" VariableName="tmp_is低层数" VariableExpression="${d:U7a2_光暴_初始光[${_me.id}]} + ${l:U7a2_光暴_环_pIdx.contain(${v:myIdx})} &lt;= 1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="7" UseTTSTextExpression="穿，${if: ${v:tmp_is低层数} ? 回场中踩塔 : 塔外八方站位 }" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="8" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_is低层数}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 2.75&#xD;&#xA;O: 100, 100" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_is低层数}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="10" VariableName="tmp_is低层数" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="5000" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="12" UseTTSTextExpression="八方分散" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" />
<Action OrderNumber="13" UseTTSTextExpression="AoE，靠近场中" ActionType="UseTTS" ExecutionDelayExpression="20000" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 过量光层数 for 5" Id="0063cce1-4a94-4175-a9c3-d403f5517dd2" RegularExpression="^.{15}\S+ 1A:8D1:[^:]*:[^:]*:.{8}:[^:]*:(?&lt;tid&gt;.{8}):[^:]*:(?&lt;stack&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or" />
</Action>
<Action OrderNumber="2" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="U7a2_光暴_初始光" DictVariableKey="${tid}" DictVariableValue="${stack}" ActionType="DictVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${d:U7a2_光暴_初始光.sum}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Action>
<Action OrderNumber="3" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="U7a2_光暴_当前光" DictVariableKey="${tid}" DictVariableValue="${stack}" ActionType="DictVariable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2024-12-09 11:54" Id="1287c55b-1dee-4c1b-8055-52ff6ec9fce5" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[23:05:43.978] StartsCasting 14:400087EA:Usurper of Frost:9D14:Light Rampant:400087EA:Usurper of Frost:4.700:99.99:99.99:0.00:1.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="1.45 * 1000" />
<Action OrderNumber="3" LogMessageText="[23:05:49.791] Tether 23:106C2E8F:Sui Zhu:10955384:Pepper Shark:0000:0000:006E:10955384:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[23:05:49.791] Tether 23:10955384:Pepper Shark:108AB8C3:Aak Silver:0000:0000:006E:108AB8C3:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[23:05:49.791] Tether 23:108AB8C3:Aak Silver:1078AB54:Coca- Cola-:0000:0000:006E:1078AB54:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[23:05:49.791] Tether 23:1078AB54:Coca- Cola-:108DF818:？:0000:0000:006E:${_me.id}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[23:05:49.791] Tether 23:108DF818:Reno Shio:108B1B84:?:0000:0000:006E:108DF818:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[23:05:49.791] Tether 23:108B1B84:？:106C2E8F:Sui Zhu:0000:0000:006E:106C2E8F:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[23:05:49.791] StatusAdd 1A:8D1:Lightsteeped:36.00:E0000000::106B9066:Jimothy Wuxiang:02:226089:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[23:05:49.791] StatusAdd 1A:8D1:Lightsteeped:36.00:E0000000::1078AB54:Coca- Cola-:01:142328:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[23:05:49.791] StatusAdd 1A:8D1:Lightsteeped:36.00:E0000000::10955384:Pepper Shark:01:142389:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[23:05:49.791] StatusAdd 1A:8D1:Lightsteeped:36.00:E0000000::108DF818:Reno Shio:01:156987:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[23:05:49.791] StatusAdd 1A:8D1:Lightsteeped:36.00:E0000000::${_me.id}:Erato Asternomos:01:142359:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="7a735ca1-d942-4d7d-952c-cda7015f96b1" Name="E. 光暗水晶" Enabled="true" RawEnvironmentVariables="phase = P2水晶">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="我帮小吉修 bug （消除冰地板以免看不到引导扇形）" Id="75bb71ec-8c15-4279-88ee-e61054498d37" RegularExpression="^.{15}\S+ 101:.{8}:00020001:18">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="2" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:18" ActionType="NamedCallback" ExecutionDelayExpression="3000" DescTextColor="26f" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="光圈判定" Id="11bcce7e-d5a8-4144-b4ea-0653de8af7ea" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:9D41:[^:]*:(?&lt;tid&gt;1.{7})" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="500">
<Actions>
<Action OrderNumber="1" SystemBeepLengthExpression="200" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 标记光之水晶" Id="f0239002-612d-4814-bb97-c2f120ef7f66" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17827:([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="mark" NamedCallbackParam="{&#xD;&#xA;    &quot;ActorID&quot;: 0x${id},&#xD;&#xA;    &quot;MarkType&quot;: &quot;attack${n: (4 - roundvec(${x} - 100, ${y} - 100, 4)) % 4}&quot;,&#xD;&#xA;    &quot;LocalOnly&quot;: true &#xD;&#xA;}" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dfd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 标记大水晶" Id="5095491e-8f05-4cb6-bf80-f49b1f894af7" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17829:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="mark" NamedCallbackParam="{&#xD;&#xA;    &quot;ActorID&quot;: 0x${id},&#xD;&#xA;    &quot;MarkType&quot;: &quot;circle&quot;,&#xD;&#xA;    &quot;LocalOnly&quot;: true &#xD;&#xA;}" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dfd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="6f4ce1a1-582e-481a-a142-b105d38977b8" Name="B. 滑冰" Enabled="true" RawEnvironmentVariables="phase = P2滑冰">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 获取光 → 冰分身（读条分摊） 时间轴" Id="f2c872af-cadf-4267-8edb-3b4b62fdf8db" RegularExpression="^.{15}\S+ 107:4.{7}:9D10:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="3.5 击退结束 | 4.5 冰花判定 | 6.1 冰→光分身出现 | 6.1-7.6-9.1-10.6 四连分摊 | 14.2 背对+冰冻" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^U7a2_滑冰" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="cd4:14.2" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="U7a2_滑冰_冰dir8" VariableExpression="roundir(${h} + π, 8)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" VariableOp="SetNumeric" VariableName="U7a2_滑冰_自身dir8" VariableExpression="${v:U7a2_DD_dir8} + (${v:myIdx_isG1} ? 0 : 4)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="7" VariableOp="SetNumeric" VariableName="U7a2_滑冰_rel冰dir8" VariableExpression="(${v:U7a2_滑冰_冰dir8} - ${v:U7a2_滑冰_自身dir8}) %% 8" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="8" UseTTSTextExpression="准备分摊，${?d: &#xD;&#xA;  0 = 内圈快跑,&#xD;&#xA;  1 = 稍微快跑,&#xD;&#xA;  2 = 正常前进,&#xD;&#xA;  3 = 贴边最慢速度走,&#xD;&#xA;  4 = 内圈快跑,&#xD;&#xA;  5 = 稍微快跑,&#xD;&#xA;  6 = 贴边慢走,&#xD;&#xA;  7 = 逆时针反向，贴边慢走&#xD;&#xA;  [${v:U7a2_滑冰_rel冰dir8}]&#xD;&#xA;}" UseTTSExclusive="False" ActionType="UseTTS" ExecutionDelayExpression="2000" />
<Action OrderNumber="9" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;1: 0, -10, 4&#xD;&#xA;2: 0, -10, 6&#xD;&#xA;3: 0, -10, 8&#xD;&#xA;4: 0, -10, 10" ActionType="NamedCallback" Description="标点：希瓦头顶 1234" DescBgColor="dff" />
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;A: polar 16, 160°&#xD;&#xA;B: polar 16, 128°&#xD;&#xA;C: polar 16, 96°&#xD;&#xA;D: polar 16, 64°" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="11" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;A: polar 18, 135°&#xD;&#xA;B: polar 18, 110°&#xD;&#xA;C: polar 18, 85°&#xD;&#xA;D: polar 18, 60°" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="12" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;A: polar 18, 90°&#xD;&#xA;B: polar 18, 70°&#xD;&#xA;C: polar 18, 50°&#xD;&#xA;D: polar 18, 30°" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="13" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;A: polar 18.75, 56°&#xD;&#xA;B: polar 18.75, 39°&#xD;&#xA;C: polar 18.75, 22°&#xD;&#xA;D: polar 18.75, 5°" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="14" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;A: polar 16, -20°&#xD;&#xA;B: polar 16, -52°&#xD;&#xA;C: polar 16, -84°&#xD;&#xA;D: polar 16, -116°" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="15" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;A: polar 18, -45°&#xD;&#xA;B: polar 18, -70°&#xD;&#xA;C: polar 18, -95°&#xD;&#xA;D: polar 18, -120°" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="5" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="16" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;A: polar 18.75, -90°&#xD;&#xA;B: polar 18.75, -110°&#xD;&#xA;C: polar 18.75, -130°&#xD;&#xA;D: polar 18.75, -150°" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="17" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;A: polar 18.75, -135°&#xD;&#xA;B: polar 18.75, -115°&#xD;&#xA;C: polar 18.75, -95°&#xD;&#xA;D: polar 18.75, -75°" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="7" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="18" UseTTSTextExpression="${?d: &#xD;&#xA;  0 = 快跑,&#xD;&#xA;  1 = &quot;&quot;,&#xD;&#xA;  2 = &quot;&quot;,&#xD;&#xA;  3 = &quot;&quot;,&#xD;&#xA;  4 = 快跑,&#xD;&#xA;  5 = &quot;&quot;,&#xD;&#xA;  6 = &quot;&quot;,&#xD;&#xA;  7 = &quot;&quot;&#xD;&#xA;  [${v:U7a2_滑冰_rel冰dir8}]&#xD;&#xA;}" ActionType="UseTTS" ExecutionDelayExpression="2500" />
<Action OrderNumber="19" UseTTSTextExpression="${?d: &#xD;&#xA;  0 = 去标点范围外,&#xD;&#xA;  1 = 去标点范围外,&#xD;&#xA;  2 = 标点范围外,&#xD;&#xA;  3 = 站在原地,&#xD;&#xA;  4 = 尽量去 Boss 身后,&#xD;&#xA;  5 = 尽量去 Boss 身后,&#xD;&#xA;  6 = 去 Boss 身后,&#xD;&#xA;  7 = 站在原地&#xD;&#xA;  [0${v:U7a2_滑冰_rel冰dir8}]&#xD;&#xA;}" ActionType="UseTTS" ExecutionDelayExpression="5000" />
<Action OrderNumber="20" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Arc&#xD;&#xA;O: 100, 100, -1&#xD;&#xA;R: 18&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;dθ: 34.94°&#xD;&#xA;Waymarks: A132B&#xD;&#xA;---&#xD;&#xA;Action: Arc&#xD;&#xA;O: 100, 100, -1.5&#xD;&#xA;R: 14&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;dθ: 17.06°&#xD;&#xA;Waymarks: C4D" ActionType="NamedCallback" Description="标点：身后范围" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="[456]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="21" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;A: -18.33, 3.87&#xD;&#xA;B: -13.85, 7.93&#xD;&#xA;1: -8.75, 11.22&#xD;&#xA;2: -3.00, 13.09&#xD;&#xA;3:  3.00, 13.09&#xD;&#xA;4:  8.75, 11.22&#xD;&#xA;C:  13.85, 7.93&#xD;&#xA;D:  18.33, 3.87" ActionType="NamedCallback" Description="标点：对侧范围" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="[01237]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="22" UseTTSTextExpression="${if: abs(relθ( θ(100, 100, ${_me.xy}), dir2rad(${v:U7a2_滑冰_光dir8} + (${v:U7a2_滑冰_rel冰dir8} = 7 ? -1 : 1), 8) )) &lt; π/4 ? 看向场中 : 看向场外 }" ActionType="UseTTS" ExecutionDelayExpression="2000" />
<Action OrderNumber="23" UseTTSTextExpression="停止移动" ActionType="UseTTS" ExecutionDelayExpression="2000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="分摊判定" Id="8e5c700a-5308-468c-88c1-651b8a1c8077" RegularExpression="^.{15}\S+ 16:4.{7}:[^:]*:9D11:[^:]*:(?&lt;tid&gt;1.{7})" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="500">
<Actions>
<Action OrderNumber="1" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="3. 滑冰循环计算" Id="80156dbc-8854-4756-949c-9a54f3822146" RegularExpression="^.{15}\S+ 108:4.{7}:9CF9:|^U7a2_滑冰_Solve">
<Actions>
<Action OrderNumber="1" NamedCallbackName="U7a2_IceSkatingSolver" NamedCallbackParam="Init" ActionType="NamedCallback" Description="标点：希瓦头顶 1234">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${f:startwith(U7a):${_event}}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" VariableOp="SetString" VariableName="U7a2_滑冰_loop" VariableExpression="1" ActionType="Variable">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${f:startwith(U7a):${_event}}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="U7a2_IceSkatingSolver" NamedCallbackParam="Solve" ActionType="NamedCallback" Description="标点：希瓦头顶 1234" />
<Action OrderNumber="4" TextAuraEffect="Bold" TextAuraFontSize="39.75" TextAuraForeground="${?d: &#xD;&#xA;  Center = e44, &#xD;&#xA;  Back = 4ea,&#xD;&#xA;  Front = 4e9,&#xD;&#xA;  Side = fc3&#xD;&#xA;  [${v:U7a2_滑冰_PositionState}]&#xD;&#xA;}" TextAuraOutline="000" TextAuraName="U7a2_滑冰_State" TextAuraExpression="${?d: &#xD;&#xA;  Center = &quot;当前位于场中⏎无法滑冰&quot;, &#xD;&#xA;  Back = 当前位于 Boss 背后,&#xD;&#xA;  Front = 当前位于 Boss 对面,&#xD;&#xA;  Side = &quot;当前位于 Boss 侧面⏎需先滑到对侧&quot;&#xD;&#xA;  [${v:U7a2_滑冰_PositionState}]&#xD;&#xA;}" TextAuraXIniExpression="${_screenwidth} / 3" TextAuraYIniExpression="${_screenheight} / 2" TextAuraWIniExpression="${_screenwidth} / 3" TextAuraHIniExpression="${_screenheight} / 4" TextAuraOIniExpression="100" TextAuraFontName="微软雅黑" ActionType="TextAura" />
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: ${_me.xy}, 0&#xD;&#xA;θ: ${v:U7a2_滑冰_Safestθ}&#xD;&#xA;Start: 0, -2, -2&#xD;&#xA;End: 0, -32&#xD;&#xA;Waymarks: AB1234CD" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Front" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1&#xD;&#xA;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#xD;&#xA;A: -18.33, 3.87&#xD;&#xA;B: -13.85, 7.93&#xD;&#xA;1: -8.75, 11.22&#xD;&#xA;2: -3.00, 13.09&#xD;&#xA;3:  3.00, 13.09&#xD;&#xA;4:  8.75, 11.22&#xD;&#xA;C:  13.85, 7.93&#xD;&#xA;D:  18.33, 3.87" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Side" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Center" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Back" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="7" LogMessageText="U7a2_滑冰_Solve" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="100">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_滑冰_loop}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" TextAuraOp="DeactivateAura" TextAuraEffect="Bold" TextAuraFontSize="39.75" TextAuraName="U7a2_滑冰_State" TextAuraFontName="微软雅黑" ActionType="TextAura">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_滑冰_loop}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4. 双剑技" Id="e57794a6-845e-446e-ac02-27d8df7a3c23" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D0(?&lt;type&gt;[12]):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${type} == 1 ? 先去后，再去前 : 先去前，再去后 }" ActionType="UseTTS" />
<Action OrderNumber="2" UseTTSTextExpression="穿" ActionType="UseTTS" ExecutionDelayExpression="${type} == 1 ? 3000 : 2500" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="U7a2_滑冰_loop" VariableExpression="1" ActionType="Variable" ExecutionDelayExpression="${type} == 1 ? 2500 : 3000" />
<Action OrderNumber="4" VariableName="U7a2_滑冰_loop" ActionType="Variable" />
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="500" DescBgColor="dff" />
<Action OrderNumber="6" VariableName="U7a2_滑冰_loop" ActionType="Variable" />
<Action OrderNumber="7" TextAuraOp="DeactivateAura" TextAuraEffect="Bold" TextAuraFontSize="39.75" TextAuraName="U7a2_滑冰_State" TextAuraFontName="微软雅黑" ActionType="TextAura" />
<Action OrderNumber="8" UseTTSTextExpression="分摊激光" ActionType="UseTTS" ExecutionDelayExpression="1000" />
<Action OrderNumber="9" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 获取冰 → 光分身 for 1" Id="a18e3d88-2c7a-4551-8868-55912f1e7032" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:12809:17823:(?!100[^:]*:100)(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="U7a2_滑冰_光dir8" VariableExpression="roundir(${h} + π, 8)" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2024-12-01 22:46" Id="20b18f91-b5a1-4a06-8255-e3c39e0d3a8e" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[22:22:42.806] 263 107:40008F11:9D10:92.929:92.929:0.031:0.785" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="5.87 * 1000" />
<Action OrderNumber="3" LogMessageText="[22:22:48.677] AOEActionEffect 16:40008E72:Usurper of Frost:9D11:Sinbound Holy:${_me.id}:${_me}:EC750605:0:B80E:B7D0000:1B:9D118000:0:0:0:0:0:0:0:0:0:0:225932:225932:10000:10000:::81.52:99.59:0.00:-3.12:44:44:0:10000:::116.00:100.00:0.00:-1.57:00005A5A:1:4:00::01:9D11:9D11:1.600:3FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="1.11 * 1000" />
<Action OrderNumber="5" LogMessageText="[22:22:49.791] _ActorSetPos AAA:10F:40008F12:Usurper of Frost:12809:17823:114.1421:114.1421:0.0000:-2.3563" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="7" LogMessageText="[22:22:50.237] AOEActionEffect 16:40008E72:Oracle's Reflection:9D11:Sinbound Holy:${_me.id}:${_me}:EC750605:0:B80E:B7D0000:1B:9D118000:0:0:0:0:0:0:0:0:0:0:225932:225932:10000:10000:::83.11:106.57:0.00:0.28:44:44:0:10000:::116.00:100.00:0.00:-1.57:00005A5E:2:4:00::01:9D11:9D11:1.600:3FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="1.56 * 1000" />
<Action OrderNumber="9" LogMessageText="[22:22:51.797] AOEActionEffect 16:40008E72:Oracle's Reflection:9D11:Sinbound Holy:${_me.id}:${_me}:EC750605:0:B80E:B7D0000:1B:9D118000:0:0:0:0:0:0:0:0:0:0:225932:225932:10000:10000:::85.24:110.39:0.00:0.58:44:44:0:10000:::116.00:100.00:0.00:-1.57:00005A61:2:4:00::01:9D11:9D11:1.600:3FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="1.56 * 1000" />
<Action OrderNumber="11" LogMessageText="[22:22:53.353] AOEActionEffect 16:40008E72:Oracle's Reflection:9D11:Sinbound Holy:${_me.id}:${_me}:EC750605:51050000:B80E:B7D0000:1B:9D118000:0:0:0:0:0:0:0:0:0:0:225932:225932:10000:10000:::89.96:115.17:0.00:0.95:44:44:0:10000:::116.00:100.00:0.00:-1.57:00005A67:1:4:00::01:9D11:9D11:1.600:3FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="3.69 * 1000" />
<Action OrderNumber="13" LogMessageText="[22:22:57.045] 264 108:40008E71:9CF9:00005A6A:1:0.000:0.000:0.000:-2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="3.02 * 1000" />
<Action OrderNumber="15" LogMessageText="[22:23:00.070] StartsCasting 14:40008F11:Oracle's Reflection:9D01:Twin Stillness:40008F11:Oracle's Reflection:3.200:92.91:92.91:0.00:0.79" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="2707029d-6dd8-46e8-979d-046facd47dca" Name="杂项" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="分散分摊" Id="73d4ad92-9491-4191-8193-639152158b65" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D1(?&lt;type&gt;C|D):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_is低层数" VariableExpression="${v:U7a_phase} == P2光暴 &amp;&amp; 0${d:U7a2_光暴_初始光[${_me.id}]} + 0${l:U7a2_光暴_环_pIdx.contain(${v:myIdx})} &lt;= 1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${v:tmp_is低层数} ? 准备 : &quot;&quot; }${if: ${type} == C ? 两人分摊 : 全体分散 }" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="3" VariableName="tmp_is低层数" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="0e4e5344-72a2-4282-a2e5-edba7d6a4ced" Name="P3" Enabled="true">
<Folders>
<Folder Id="c9993d65-2883-4bb0-9a0b-f503f2a48cd7" Name="B. 二运" Enabled="true" RawEnvironmentVariables="phase = P3二运">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化 深渊狂水" Id="6bd7e448-e5c6-4101-854b-f646da78979f" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D4E:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 地火获取 for 2" Id="6a9150d3-ca2d-4b92-bf90-463b0fc3cba2" RegularExpression="^.{15}\S+ 105:Add:(?&lt;id&gt;4.{7}):.*BNpcID:1EB0FF:.*Heading:(?&lt;h&gt;[^:]*):.*PosX:(?&lt;x&gt;(99|100)[^:]+):PosY:(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="只获取指向 dir8 = 0 1 2 3 的中心实体（判断起始方向），或正南的实体（判断顺逆）" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="U7a3_二运_is顺" VariableExpression="cos(${h}) * (${x} - 100) &gt; sin(${h}) * (${y} - 100)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(${y}) &gt; 100" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="U7a3_二运_dir8" VariableExpression="roundir(${h}, 8) % 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(${y}) = 100" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(${y}) = 100 &amp;&amp; roundir(${h}, 8) &lt; 4" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="round(${y}) &gt; 100" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. 水分摊点名 =&gt; 2" Id="500e30ec-d685-401e-8730-b05281ddd793" RegularExpression="^.{15}\S+ 1A:99D:(?:[^:]|: )*:(?&lt;t&gt;(10|29|38)[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="U7a3_二运_水" DictVariableKey="${tid}" DictVariableValue="round(${t} / 13)" ActionType="DictVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="U7a3_二运_水" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${d:U7a3_二运_水.size}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2024-12-02 10:41" Id="a53ae614-ff82-4ef3-81d4-3ef915f2f574">
<Actions>
<Action OrderNumber="1" LogMessageText="[05:37:48.342] StartsCasting 14:4000E295:Oracle of Darkness:9D4E:unknown_9d4e:4000E295:Oracle of Darkness:4.700:99.99:99.99:0.00:2.91" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="1.85 * 1000" />
<Action OrderNumber="3" LogMessageText="[05:37:53.907] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:10.00:E0000000::103530E3:Aoi Hyuuga:00:142389:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[05:37:53.907] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:10.00:E0000000::10023B68:Shaking Chloe:00:157017:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[05:37:53.908] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:29.00:E0000000::1029BABD:Alvitr Cattleya:00:157137:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[05:37:53.908] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:29.00:E0000000::102F8E76:Pye Yomo:00:225846:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[05:37:53.908] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:38.00:E0000000::1024A6E0:Lenny Mikery:00:158110:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[05:37:53.908] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:38.00:E0000000::1028C036:Ghost Sumikage:00:225889:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="0.80 * 1000" />
<Action OrderNumber="10" LogMessageText="[05:37:56.277] 261 105:Add:4000E3B0:BNpcID:1EB0FF:BNpcNameID:5003:CastBuffID:6917:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:5005821:CurrentMP:4587523:Heading:1.5708:IsCasting1:33:Level:241:NPCTargetID:A000000:PosX:100.0000:PosY:114.0000:Radius:0.5000:Type:7:WorldID:2560" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[05:37:56.277] 261 105:Add:4000E3B4:BNpcID:1EB0FF:BNpcNameID:4508:CastBuffID:21764:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:900032F:CurrentMP:4325379:Heading:-1.5709:IsCasting1:40:Job:1:Level:51:MaxMP:822083584:NPCTargetID:A000000:PosX:100.0000:PosY:86.0000:Radius:0.5000:Type:7:WorldID:2560" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[05:37:56.277] 261 105:Add:4000E3B6:BNpcID:1EB0FF:BNpcNameID:3B07:CastBuffID:13831:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:3000F8C:CurrentMP:4194307:Heading:-0.7855:IsCasting1:140:Job:3:Level:1:NPCTargetID:A000000:PCTargetID:1005E0B:PosX:100.0000:PosY:100.0000:Radius:0.5000:Type:7:WeaponId:12:WorldID:2560" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[05:37:56.277] 261 105:Add:4000E3B5:BNpcID:1EB0FF:BNpcNameID:1F05:CastBuffID:15111:CastDurationCurrent:0.0000:CastDurationMax:0.0000:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CastTargetID:1800A56F:CurrentMP:4259843:Heading:2.3562:IsCasting1:111:Job:2:Level:191:NPCTargetID:A000000:PCTargetID:1800DD0C:PosX:100.0000:PosY:100.0000:Radius:0.5000:Type:7:WeaponId:11:WorldID:2560" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 处理 + 时间轴" Id="33acd693-17d1-4fee-aaa1-a90123cd012d" RegularExpression="^U7a3_二运_水">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="10 分摊 | 13 跳 | 23 分散 | 29 分摊 | 32 跳 | 34 击退" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="13000" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="U7a3_二运_safeDir8" VariableExpression="(${v:U7a3_二运_dir8} + (${v:U7a3_二运_is顺} ? 1 : -1)) %% 4" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" UseTTSTextExpression="${?d: 0 = 上下, 1 = 左上右下, 2 = 左右, 3 = 右上左下 [${v:U7a3_二运_safeDir8}]}分散站位" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:U7a3_二运_safeDir8}, 8)&#xD;&#xA;scaleX: 0${v:U7a3_二运_is顺} ? 1 : -1&#xD;&#xA;A:    0, -9.9&#xD;&#xA;D: -7.0, -7.0&#xD;&#xA;1:  3.5, -17.5&#xD;&#xA;4: -3.5, -17.5&#xD;&#xA;B:    0,  9.9&#xD;&#xA;C:  7.0,  7.0&#xD;&#xA;2: -3.5,  17.5&#xD;&#xA;3:  3.5,  17.5" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="10000" Asynchronous="False" />
<Action OrderNumber="7" UseTTSTextExpression="场中分摊" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="8" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;R: 3.75&#xD;&#xA;Waymarks: A1D4C3B2" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="5000" Asynchronous="False" />
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="b1a0658c-d119-4cfc-89ef-b4fb4c1d2686" Name="A. 一运" Enabled="true" RawEnvironmentVariables="phase = P3一运">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化 时间压缩" Id="183f49c3-1fe0-4281-809a-759599a9d537" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D4A:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^U7a3_一运" ActionType="Variable" />
<Action OrderNumber="3" UseTTSTextExpression="AoE，时间压缩" ActionType="UseTTS" />
<Action OrderNumber="4" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${id}].address}, 0.3" ActionType="NamedCallback" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取冰火 * 8 =&gt; 输出1" Id="368db7b8-81b7-4c29-bfbc-fd71c6a5b32a" RegularExpression="^.{15}\S+ 1A:99(?&lt;type&gt;7|E):([^:]|: )+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="TH   0 短　   1 冰　   2 中　   3 长高   4 长低" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="D    5 短低   6 短高   7 中　   8 长　   9 冰　" DescriptionOverride="True" />
<Action OrderNumber="3" ListVariableOp="Set" ListVariableName="U7a3_一运_全队点名" ListVariableExpression="${?d:&#xD;&#xA;  11 7 0 = 0,&#xD;&#xA;  21 E 0 = 1,&#xD;&#xA;  21 7 0 = 2,&#xD;&#xA;  31 7 0 = 3,&#xD;&#xA;  11 7 1 = 5,&#xD;&#xA;  21 7 1 = 7,&#xD;&#xA;  31 7 1 = 8,&#xD;&#xA;  21 E 1 = 9&#xD;&#xA;  [${n:round(${t})} ${type} ${n: ${l:party.indexof(${tid})} &gt; 4}]&#xD;&#xA;}" ListVariableIndex="${l:party.indexof(${tid})}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="U7a3_一运_冰isD" VariableExpression="${l:party.indexof(${tid})} &gt; 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="E" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="赋予优先级并输出" DescriptionOverride="True" />
<Action OrderNumber="6" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="U7a3_一运_全队点名" ListVariableExpression="(${_this} = 3 || ${_this} = 5) &#xD;&#xA;&amp;&amp; ${_idx} != ${l:U7a3_一运_全队点名.indexof(${_this})} &#xD;&#xA;? (${_this} + 1) &#xD;&#xA;: ${_this}" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_全队点名.size}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_全队点名.indexof(&quot;&quot;)}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ListVariableOp="Build" ListVariableExpression=",${f:pick(${l:U7a3_一运_全队点名[${v:myIdx}]}): &#xD;&#xA;  &quot;散,记录外,摊,引导,摊,对侧&quot;,&#xD;&#xA;  &quot;摊,记录外,摊,引导,摊,对侧&quot;,&#xD;&#xA;  &quot;摊,记录外,散,挂机,摊,引导&quot;,&#xD;&#xA;  &quot;摊,引导,摊,记录内,散,对侧&quot;,&#xD;&#xA;  &quot;摊,引导,摊,记录内,散,对侧&quot;,&#xD;&#xA;  &#xD;&#xA;  &quot;散,记录外,摊,引导,摊,对侧&quot;,&#xD;&#xA;  &quot;散,记录外,摊,引导,摊,对侧&quot;,&#xD;&#xA;  &quot;摊,记录内,散,挂机,摊,引导&quot;,&#xD;&#xA;  &quot;摊,引导,摊,记录内,散,对侧&quot;,&#xD;&#xA;  &quot;摊,引导,摊,记录内,摊,对侧&quot;,&#xD;&#xA;}" ListVariableTarget="U7a3_一运_自身路线" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_全队点名.size}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_全队点名.indexof(&quot;&quot;)}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" LogMessageText="U7a3_一运:my点名:${l:U7a3_一运_全队点名[${v:myIdx}]}:点名:${l:U7a3_一运_全队点名.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_全队点名.size}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_全队点名.indexof(&quot;&quot;)}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 获取沙漏 for 3" Id="6e2a0da7-7ab8-43b0-8c5a-391c4444d89f" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17832:([^:]*:){9}(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="U7a3_一运_沙漏dir8" DictVariableKey="${id}" DictVariableValue="roundir(${h} + π, 8)" ActionType="DictVariable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 获取加速连线 * 3 =&gt; 输出2" Id="6a8756cc-a0ef-4665-b004-e035851d2e39" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;4.{7}):[^:]*:4.{7}:[^:]*:[^:]*:[^:]*:0086:">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="U7a3_一运_短沙漏_Σx" VariableExpression="sin(dir2rad(${d:U7a3_一运_沙漏dir8[${sid}]}, 8))" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="U7a3_一运_短沙漏_Σy" VariableExpression="cos(dir2rad(${d:U7a3_一运_沙漏dir8[${sid}]}, 8))" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="Increment" VariableName="U7a3_一运_短沙漏_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="U7a3_一运_dir8" VariableExpression="roundvec(-${v:U7a3_一运_短沙漏_Σx}, -${v:U7a3_一运_短沙漏_Σy}, 8)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a3_一运_短沙漏_n}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="U7a3_一运_myDir8" VariableExpression="(${v:U7a3_一运_dir8} + ${?l: 4,4,2,3,5, 1,7,6,0,0 [${n: ${l:U7a3_一运_全队点名[${v:myIdx}]} + 1}]}) % 8" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a3_一运_短沙漏_n}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" LogMessageText="U7a3_一运:dir8:${v:U7a3_一运_dir8}:myDir8:${v:U7a3_一运_myDir8}:my点名:${l:U7a3_一运_全队点名[${v:myIdx}]}:冰isD:${v:U7a3_一运_冰isD}:点名:${l:U7a3_一运_全队点名.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:U7a3_一运_短沙漏_n}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="输出1. 初始播报" Id="fc4cd11b-4252-4888-bd18-e56194a19a6f" RegularExpression="^U7a3_一运:my点名:(?&lt;my点名&gt;[0-9])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="0 = 对侧挂机 1 = 正中心 2 = 中心偏外 3 = 沙漏下 4 = 沙漏引导 5 = 场外" DescriptionOverride="True" />
<Action OrderNumber="2" ListVariableExpressionType="Numeric" NamedCallbackName="hint" NamedCallbackParam="42&#xD;&#xA;${f:pick(0${my点名}): &#xD;&#xA;  &quot;【正下】　场外 》 灯下 》 场中 》 灯外 》 场中 》 对侧⏎　　　　　分散 　 记录 　 分摊 　 引导 　 分摊 　 挂机&quot;,&#xD;&#xA;  &quot;【正下】　场中 》 灯下 》 场中 》 灯外 》 场中 》 对侧⏎　　　　　分摊 　 记录 　 分摊 　 引导 　 分摊 　 挂机&quot;,&#xD;&#xA;  &quot;【正左】　场中 》 灯下 》 场外 》 场中 》 场中 》 灯外⏎　　　　　分摊 　 记录 　 分散 　 挂机 　 分摊 　 引导&quot;,&#xD;&#xA;  &quot;【左下】　场中 》 灯外 》 场中 》 场中 》 场外 》 对侧⏎　　　　　分摊 　 引导 　 分摊 　 记录 　 分散 　 挂机&quot;,&#xD;&#xA;  &quot;【右下】　场中 》 灯外 》 场中 》 场中 》 场外 》 对侧⏎　　　　　分摊 　 引导 　 分摊 　 记录 　 分散 　 挂机&quot;,&#xD;&#xA;  &#xD;&#xA;  &quot;【左上】　场外 》 灯下 》 场中 》 灯外 》 场中 》 对侧⏎　　　　　分散 　 记录 　 分摊 　 引导 　 分摊 　 挂机&quot;,&#xD;&#xA;  &quot;【右上】　场外 》 灯下 》 场中 》 灯外 》 场中 》 对侧⏎　　　　　分散 　 记录 　 分摊 　 引导 　 分摊 　 挂机&quot;,&#xD;&#xA;  &quot;【正右】　场中 》 场中 》 场外 》 场中 》 场中 》 灯外⏎　　　　　分摊 　 记录 　 分散 　 挂机 　 分摊 　 引导&quot;,&#xD;&#xA;  &quot;【正上】　场中 》 灯外 》 场中 》 场中 》 场外 》 对侧⏎　　　　　分摊 　 引导 　 分摊 　 记录 　 分散 　 挂机&quot;,&#xD;&#xA;  &quot;【正上】　场中 》 灯外 》 场中 》 场中 》 场中 》 对侧⏎　　　　　分摊 　 引导 　 分摊 　 记录 　 分摊 　 挂机&quot;,&#xD;&#xA;}" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${f:contain(&quot; &quot;):${_me}}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ListVariableExpressionType="Numeric" NamedCallbackName="hint" NamedCallbackParam="42&#xD;&#xA;${f:pick(0${my点名}): &#xD;&#xA;  &quot;【正下】　場外 》 灯下 》 場中 》 灯外 》 場中 》 對面⏎　　　　　分散 　 記録 　 集合 　 引導 　 集合 　 挂机&quot;,&#xD;&#xA;  &quot;【正下】　場中 》 灯下 》 場中 》 灯外 》 場中 》 對面⏎　　　　　集合 　 記録 　 集合 　 引導 　 集合 　 挂机&quot;,&#xD;&#xA;  &quot;【正左】　場中 》 灯下 》 場外 》 場中 》 場中 》 灯外⏎　　　　　集合 　 記録 　 分散 　 挂机 　 集合 　 引導&quot;,&#xD;&#xA;  &quot;【左下】　場中 》 灯外 》 場中 》 場中 》 場外 》 對面⏎　　　　　集合 　 引導 　 集合 　 記録 　 分散 　 挂机&quot;,&#xD;&#xA;  &quot;【右下】　場中 》 灯外 》 場中 》 場中 》 場外 》 對面⏎　　　　　集合 　 引導 　 集合 　 記録 　 分散 　 挂机&quot;,&#xD;&#xA;  &#xD;&#xA;  &quot;【左上】　場外 》 灯下 》 場中 》 灯外 》 場中 》 對面⏎　　　　　分散 　 記録 　 集合 　 引導 　 集合 　 挂机&quot;,&#xD;&#xA;  &quot;【右上】　場外 》 灯下 》 場中 》 灯外 》 場中 》 對面⏎　　　　　分散 　 記録 　 集合 　 引導 　 集合 　 挂机&quot;,&#xD;&#xA;  &quot;【正右】　場中 》 場中 》 場外 》 場中 》 場中 》 灯外⏎　　　　　集合 　 記録 　 分散 　 挂机 　 集合 　 引導&quot;,&#xD;&#xA;  &quot;【正上】　場中 》 灯外 》 場中 》 場中 》 場外 》 對面⏎　　　　　集合 　 引導 　 集合 　 記録 　 分散 　 挂机&quot;,&#xD;&#xA;  &quot;【正上】　場中 》 灯外 》 場中 》 場中 》 場中 》 對面⏎　　　　　集合 　 引導 　 集合 　 記録 　 集合 　 挂机&quot;,&#xD;&#xA;}" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${f:contain(&quot; &quot;):${_me}}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" UseTTSTextExpression="准备去${f:pick(0${my点名}): &#xD;&#xA;  &quot;正下，场外分散&quot;,&#xD;&#xA;  &quot;正下，场中分摊&quot;,&#xD;&#xA;  &quot;正左，场中分摊&quot;,&#xD;&#xA;  &quot;左下，场中分摊&quot;,&#xD;&#xA;  &quot;右下，场中分摊&quot;,&#xD;&#xA;  &#xD;&#xA;  &quot;左上，场外分散&quot;,&#xD;&#xA;  &quot;右上，场外分散&quot;,&#xD;&#xA;  &quot;正右，场中分摊&quot;,&#xD;&#xA;  &quot;正上，场中分摊&quot;,&#xD;&#xA;  &quot;正上，场中分摊&quot;,&#xD;&#xA;}" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="输出2.2 文字播报" Id="d3c1590d-6721-4a0e-a7b5-6045c0b211e4" RegularExpression="^U7a3_一运:dir8:(?&lt;dir8&gt;[0-7]):myDir8:(?&lt;myDir8&gt;[0-7]):my点名:(?&lt;my点名&gt;[0-9]):冰isD:(?&lt;冰isD&gt;[01]):点名:(?&lt;p1&gt;\d)(?&lt;p2&gt;\d)(?&lt;p3&gt;\d)(?&lt;p4&gt;\d)(?&lt;p5&gt;\d)(?&lt;p6&gt;\d)(?&lt;p7&gt;\d)(?&lt;p8&gt;\d)">
<Actions>
<Action OrderNumber="1" ListVariableOp="SetAll" ListVariableName="tmp_正北逆标点" ListVariableExpression="${f:slice(${n: (${_idx} - 1 + ${dir8}) % 8 }):${f:toxivchar:A1D4C3B2}}" ListVariableIndex="8" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" ListVariableOp="SetAll" ListVariableName="tmp_各人的方向" ListVariableExpression="${?d: 0 = 4, 1 = 4, 2 = 2, 3 = 3, 4 = 5, 5 = 1, 6 = 7, 7 = 6, 8 = 0, 9 = 0 [${p${_idx}}]}" ListVariableIndex="8" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="3" DictVariableOp="SetAll" DictVariableKeyType="Numeric" DictVariableName="tmp_各方向的人" DictVariableLength="8" DictVariableKey="${l:tmp_各人的方向[${_idx}]}" DictVariableValue="${?l: ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４ [${_idx}]}" ActionType="DictVariable" Asynchronous="False" />
<Action OrderNumber="4" ListVariableOp="SetAll" ListVariableName="tmp_每人点名描述" ListVariableExpression="${?d: &#xD;&#xA;  0 = 短火 正下, &#xD;&#xA;  1 = 冰　 正下, &#xD;&#xA;  2 = 中火 正左, &#xD;&#xA;  3 = 长高 左下,&#xD;&#xA;  4 = 长低 右下, &#xD;&#xA;  5 = 短高 左上,&#xD;&#xA;  6 = 短低 右上,&#xD;&#xA;  7 = 中火 正右,&#xD;&#xA;  8 = 长火 正上,&#xD;&#xA;  9 = 冰　 正上&#xD;&#xA;[${p${_idx}}]} ${l:tmp_正北逆标点[${n: ${l:tmp_各人的方向[${_idx}]} + 1}]}" ListVariableIndex="8" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${f:contain(&quot; &quot;):${_me}}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" ListVariableOp="SetAll" ListVariableName="tmp_每人点名描述" ListVariableExpression="${?d: &#xD;&#xA;  0 = 短火 正下, &#xD;&#xA;  1 = 冰　 正下, &#xD;&#xA;  2 = 中火 正左, &#xD;&#xA;  3 = 長高 左下,&#xD;&#xA;  4 = 長低 右下, &#xD;&#xA;  5 = 短高 左上,&#xD;&#xA;  6 = 短低 右上,&#xD;&#xA;  7 = 中火 正右,&#xD;&#xA;  8 = 長火 正上,&#xD;&#xA;  9 = 冰　 正上&#xD;&#xA;[${p${_idx}}]} ${l:tmp_正北逆标点[${n: ${l:tmp_各人的方向[${_idx}]} + 1}]}" ListVariableIndex="8" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${f:contain(&quot; &quot;):${_me}}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="command" NamedCallbackParam="/e &#xD;&#xA;　　　 　　 　　 　 ｜　　　  　  ${d:tmp_各方向的人[0]}&#xD;&#xA;ＭＴ 》 ${l:tmp_每人点名描述[1]} ｜　　　　　  ${l:tmp_正北逆标点[1]}&#xD;&#xA;ＳＴ 》 ${l:tmp_每人点名描述[2]} ｜　 ${d:tmp_各方向的人[1]} ${l:tmp_正北逆标点[2]}　 ┃ 　${l:tmp_正北逆标点[8]} ${d:tmp_各方向的人[7]}&#xD;&#xA;Ｈ１ 》 ${l:tmp_每人点名描述[3]} ｜　　　　　  ┃&#xD;&#xA;Ｈ２ 》 ${l:tmp_每人点名描述[4]} ｜${d:tmp_各方向的人[2]} ${l:tmp_正北逆标点[3]} ━━ ○ ━━ ${l:tmp_正北逆标点[7]} ${d:tmp_各方向的人[6]}&#xD;&#xA;Ｄ１ 》 ${l:tmp_每人点名描述[5]} ｜　　　　 ／　  ＼&#xD;&#xA;Ｄ２ 》 ${l:tmp_每人点名描述[6]} ｜　 ${d:tmp_各方向的人[3]} ${l:tmp_正北逆标点[4]}　 　 　${l:tmp_正北逆标点[6]} ${d:tmp_各方向的人[5]}&#xD;&#xA;Ｄ３ 》 ${l:tmp_每人点名描述[7]} ｜　　　　　  ${l:tmp_正北逆标点[5]}&#xD;&#xA;Ｄ４ 》 ${l:tmp_每人点名描述[8]} ｜　　　  　  ${d:tmp_各方向的人[4]}" ActionType="NamedCallback" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="输出2.1 时间轴" Id="2f6c6299-a9e6-4122-8ec5-6a8c49d3d2f5" RegularExpression="^U7a3_一运:dir8:(?&lt;dir8&gt;[0-7]):myDir8:(?&lt;myDir8&gt;[0-7]):my点名:(?&lt;my点名&gt;[0-9]):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100 polar 9.5, dir2rad(${v:U7a3_一运_myDir8}, 8)&#xD;&#xA;Waymarks: 1234&#xD;&#xA;Start: 0, 0, 5&#xD;&#xA;End: 0, 0, 12" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#xD;&#xA;A: 0, -${?d: 散 = 13, 摊 = 1 [${l:U7a3_一运_自身路线[1]}]}&#xD;&#xA;B: fakeclear&#xD;&#xA;C: fakeclear&#xD;&#xA;D: fakeclear" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="3" UseTTSTextExpression="${?d: 记录外 = 沙漏下方记录, 记录内 = 中心偏外记录, 引导 = 引导激光 [${l:U7a3_一运_自身路线[2]}]}" ActionType="UseTTS" ExecutionDelayExpression="7500" Asynchronous="False" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#xD;&#xA;A: 0, -${?d: 记录外 = 9, 记录内 = 1 [${l:U7a3_一运_自身路线[2]}]}&#xD;&#xA;B: fakeclear&#xD;&#xA;C: fakeclear&#xD;&#xA;D: fakeclear" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_自身路线[2]}" ExpressionTypeL="String" ExpressionR="引导" ExpressionTypeR="String" ConditionType="StringNotEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="5" UseTTSTextExpression="${?d: 散 = 场外分散, 摊 = 中心分摊 [${l:U7a3_一运_自身路线[3]}]}" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" />
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#xD;&#xA;A: 0, -${?d: 散 = 13, 摊 = 1 [${l:U7a3_一运_自身路线[3]}]}&#xD;&#xA;B: fakeclear&#xD;&#xA;C: fakeclear&#xD;&#xA;D: fakeclear" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="7" UseTTSTextExpression="${?d: 挂机 = 中心挂机, 记录内 = 中心偏外记录, 引导 = 引导激光 [${l:U7a3_一运_自身路线[4]}]}" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" />
<Action OrderNumber="8" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#xD;&#xA;A: 0, -${?d: 挂机 = 1, 记录内 = 1 [${l:U7a3_一运_自身路线[4]}]}&#xD;&#xA;B: fakeclear&#xD;&#xA;C: fakeclear&#xD;&#xA;D: fakeclear" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_自身路线[4]}" ExpressionTypeL="String" ExpressionR="引导" ExpressionTypeR="String" ConditionType="StringNotEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="9" UseTTSTextExpression="${?d: 散 = 场外分散, 摊 = 中心分摊 [${l:U7a3_一运_自身路线[5]}]}" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" />
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#xD;&#xA;A: 0, -${?d: 散 = 13, 摊 = 1 [${l:U7a3_一运_自身路线[3]}]}&#xD;&#xA;B: fakeclear&#xD;&#xA;C: fakeclear&#xD;&#xA;D: fakeclear" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="11" UseTTSTextExpression="${?d: 对侧 = 去对侧输出, 引导 = 引导激光 [${l:U7a3_一运_自身路线[6]}]}" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" />
<Action OrderNumber="12" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#xD;&#xA;A: 0, 1&#xD;&#xA;B: 0, 3&#xD;&#xA;C: 0, 5&#xD;&#xA;D: 0, 7" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_自身路线[6]}" ExpressionTypeL="String" ExpressionR="引导" ExpressionTypeR="String" ConditionType="StringNotEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="13" UseTTSTextExpression="注意面向" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" />
<Action OrderNumber="14" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="4000" Asynchronous="False" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4. 沙漏旋转 =&gt; 输出3" Id="9c25c4ad-38da-46fd-b09c-7c13c6f52911" RegularExpression="^.{15}\S+ 1A:B9A:[^:]*:[^:]*:.{8}:[^:]*:(?&lt;id&gt;4.{7}):[^:]*:(?&lt;type&gt;15C|10D)(:|$)">
<Actions>
<Action OrderNumber="1" LogMessageText="U7a3_一运_沙漏:${id}:is顺:${n: ${type} == 15C}:dir8:${d:U7a3_一运_沙漏dir8[${id}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="输出3 沙漏方向标记" Id="6412c88f-a5d6-4c42-b278-f79f87ae293d" RegularExpression="^U7a3_一运_沙漏:(?&lt;id&gt;.{8}):is顺:(?&lt;is顺&gt;[01]):dir8:(?&lt;dir8&gt;[0-7])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100 polar 9.5, dir2rad(${v:U7a3_一运_myDir8}, 8)&#xD;&#xA;θ: dir2rad(${v:U7a3_一运_myDir8}, 8) + (0${is顺} ? π/3 : π/3)&#xD;&#xA;Waymarks: ABCD&#xD;&#xA;Start: 0, 0&#xD;&#xA;End: 0, -8" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${dir8}" ExpressionTypeL="String" ExpressionR="${v:U7a3_一运_myDir8}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2024-12-09 11:44" Id="f757f848-7049-4abc-b3fb-97e9cffbe480">
<Actions>
<Action OrderNumber="1" LogMessageText="[22:31:10.969] StartsCasting 14:4000841A:Oracle of Darkness:9D4A:Ultimate Relativity:4000841A:Oracle of Darkness:9.700:99.99:99.99:0.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="0.81 * 1000" />
<Action OrderNumber="3" LogMessageText="[22:31:11.781] StatusAdd 1A:99E:Spell-in-Waiting: Dark Blizzard III:21.00:E0000000::10955384:Pepper Shark:00:142389:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[22:31:11.781] StatusAdd 1A:997:Spell-in-Waiting: Dark Fire III:11.00:E0000000::108DF818:Reno Shio:00:156987:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[22:31:11.781] StatusAdd 1A:997:Spell-in-Waiting: Dark Fire III:11.00:E0000000::106C2E8F:Sui Zhu:00:157227:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[22:31:11.781] StatusAdd 1A:997:Spell-in-Waiting: Dark Fire III:21.00:E0000000::108AB8C3:Aak Silver:00:158140:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[22:31:11.781] StatusAdd 1A:997:Spell-in-Waiting: Dark Fire III:21.00:E0000000::${_me.id}:${_me}:00:225932:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[22:31:11.781] StatusAdd 1A:997:Spell-in-Waiting: Dark Fire III:31.00:E0000000::106B9066:Jimothy Wuxiang:00:226089:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[22:31:11.781] StatusAdd 1A:997:Spell-in-Waiting: Dark Fire III:31.00:E0000000::108B1B84:Erato Asternomos:00:142359:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[22:31:11.781] StatusAdd 1A:997:Spell-in-Waiting: Dark Fire III:31.00:E0000000::1078AB54:Coca- Cola-:00:142328:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[22:31:11.752] AddCombatant 03:4000843A:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::90.50:100.00:0.00:1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[22:31:11.752] AddCombatant 03:4000843B:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::93.28:106.72:0.00:2.36" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[22:31:11.752] AddCombatant 03:40008439:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::93.28:93.28:0.00:0.79" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[22:31:11.752] AddCombatant 03:4000843D:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::106.72:106.72:0.00:-2.36" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[22:31:11.752] AddCombatant 03:4000843E:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::109.50:100.00:0.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[22:31:11.752] AddCombatant 03:4000843C:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::100.00:109.50:0.00:-3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[22:31:11.752] AddCombatant 03:40008440:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::100.00:90.50:0.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[22:31:11.752] AddCombatant 03:4000843F:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::106.72:93.28:0.00:-0.79" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="3.22 * 1000" />
<Action OrderNumber="20" LogMessageText="[22:31:14.996] Tether 23:4000843F:Delight's Hourglass:4000841A:Oracle of Darkness:0000:0000:0086:4000841A:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[22:31:14.996] Tether 23:4000843C:Delight's Hourglass:4000841A:Oracle of Darkness:0000:0000:0086:4000841A:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogMessageText="[22:31:14.996] Tether 23:4000843A:Delight's Hourglass:4000841A:Oracle of Darkness:0000:0000:0086:4000841A:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" ActionType="Placeholder" ExecutionDelayExpression="8.81 * 1000" />
<Action OrderNumber="24" LogMessageText="[22:31:23.807] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::4000843A:Delight's Hourglass:10D:188300:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="25" LogMessageText="[22:31:23.807] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::4000843C:Delight's Hourglass:10D:188300:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" LogMessageText="[22:31:23.807] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::4000843F:Delight's Hourglass:10D:188300:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="27" ActionType="Placeholder" ExecutionDelayExpression="10.01 * 1000" />
<Action OrderNumber="28" LogMessageText="[22:31:33.819] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::40008440:Delight's Hourglass:15C:188300:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="29" LogMessageText="[22:31:33.819] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::4000843B:Delight's Hourglass:15C:188300:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" LogMessageText="[22:31:33.819] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::4000843E:Delight's Hourglass:10D:188300:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="缩小盖娅" Id="bfed7137-c7da-477f-877c-8f983edf4bf6" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17831:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${id}].address}, 0.3" ActionType="NamedCallback" Asynchronous="False" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="42da1799-241b-4497-b90a-32cbc7fbdbaa" Name="P4" Enabled="true">
<Folders />
<Triggers />
</Folder>
<Folder Id="326064c9-740d-4644-bdab-bc668abd45b0" Name="P5" Enabled="true">
<Folders>
<Folder Id="d5b1a768-a99d-43a5-9166-f74719dab882" Name="A. 地火" Enabled="true" RawEnvironmentVariables="phase = P5地火">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 获取直线实体 * 6 =&gt; 2" Id="1c00af99-b9f9-48a3-a886-1769ed755881" RegularExpression="^.{15}\S+ 105:Add:(?&lt;id&gt;4.{7}):.*BNpcID:1EBBF7:.*Heading:(?&lt;h&gt;[^:]*):.*PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="地板线条实体用于播放特效动画，实体位于弦中点，面向垂直于弦。" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="实体所在线条的方程可写为：(x - x1) s1 + (y - y1) c1 = 0, 其中 s1 c1 为 heading 的 sin 和 cos。" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="两条直线相交的交点坐标为：" DescriptionOverride="True" />
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="x = (x1 s1 c2 - x2 s2 c1 - (y2-y1) c1 c2) / (s1 c2 - s2 c1)" DescriptionOverride="True" />
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="y = (y2 c2 s1 - y1 c1 s2 + (x2-x1) s1 s2) / (s1 c2 - s2 c1)" DescriptionOverride="True" />
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="需要分别记录六个实体的 id、x、y、h，id 从大到小为判定顺序（读条开始时即可预判）。" DescriptionOverride="True" />
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="依次计算 1、2；3、4；5、6 的三个交点 O1 O2 O3，O1O3 中点即为处理机制的中心点。" DescriptionOverride="True" />
<Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="计算出 O1 O2 O3 相对于中心点 O 的 dir-8（相邻两个点相差 ±2），1 2 之间即为第一次穿到的位置，2 3 间第二次，1 3 间起始/终止。" DescriptionOverride="True" />
<Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="实体生成后 EObjAnimation 019D:1:2:0:0 为显示，019D:20:10:0:0 为发光。" DescriptionOverride="True" />
<Action OrderNumber="10" ActionType="Placeholder" Asynchronous="False" Description="————————————————————————" DescriptionOverride="True" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="1000" Asynchronous="False" />
<Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="延迟一秒以便用读条初始化" DescriptionOverride="True" />
<Action OrderNumber="13" ActionType="Placeholder" Asynchronous="False" Description="表格：id, x, y, h" DescriptionOverride="True" />
<Action OrderNumber="14" TableVariableOp="SetLine" TableVariableName="U7a5_地火_直线实体" TableVariableExpression=",${id},${x},${y},${h}" TableVariableY="${t:U7a5_地火_直线实体.height} + 1" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="15" ActionType="Placeholder" Asynchronous="False" Description="满 6 个：排序，计算 sin、cos" DescriptionOverride="True" />
<Action OrderNumber="16" TableVariableOp="SortLine" TableVariableName="U7a5_地火_直线实体" TableVariableY="s-: ${_row[1]}" ActionType="TableVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${t:U7a5_地火_直线实体.height}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="17" TableVariableOp="SlicesSetAll" TableVariableName="U7a5_地火_直线实体" TableVariableExpression="${n: sin(${_this})}:${n: cos(${_this})}" TableVariableX="4" ActionType="TableVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${t:U7a5_地火_直线实体.height}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="18" LogMessageText="U7a5_地火_直线实体:${t:U7a5_地火_直线实体.hjoin(&quot;:&quot;, &quot;:&quot;, &quot;2,3,4&quot;)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${t:U7a5_地火_直线实体.height}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 计算 =&gt; 3" Id="3c973869-3bba-4c6e-b476-4e07528d3384" RegularExpression="^U7a5_地火_直线实体:(?&lt;x1&gt;[^:]*):(?&lt;y1&gt;[^:]*):(?&lt;s1&gt;[^:]*):(?&lt;c1&gt;[^:]*):(?&lt;x2&gt;[^:]*):(?&lt;y2&gt;[^:]*):(?&lt;s2&gt;[^:]*):(?&lt;c2&gt;[^:]*):(?&lt;x3&gt;[^:]*):(?&lt;y3&gt;[^:]*):(?&lt;s3&gt;[^:]*):(?&lt;c3&gt;[^:]*):(?&lt;x4&gt;[^:]*):(?&lt;y4&gt;[^:]*):(?&lt;s4&gt;[^:]*):(?&lt;c4&gt;[^:]*):(?&lt;x5&gt;[^:]*):(?&lt;y5&gt;[^:]*):(?&lt;s5&gt;[^:]*):(?&lt;c5&gt;[^:]*):(?&lt;x6&gt;[^:]*):(?&lt;y6&gt;[^:]*):(?&lt;s6&gt;[^:]*):(?&lt;c6&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_x交点1" VariableExpression="(${x1} * ${s1} * ${c2} - ${x2} * ${s2} * ${c1} - (${y2} - ${y1}) * ${c1} * ${c2}) / (${s1} * ${c2} - ${s2} * ${c1})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_x交点2" VariableExpression="(${x3} * ${s3} * ${c4} - ${x4} * ${s4} * ${c3} - (${y4} - ${y3}) * ${c3} * ${c4}) / (${s3} * ${c4} - ${s4} * ${c3})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_x交点3" VariableExpression="(${x5} * ${s5} * ${c6} - ${x6} * ${s6} * ${c5} - (${y6} - ${y5}) * ${c5} * ${c6}) / (${s5} * ${c6} - ${s6} * ${c5})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="tmp_y交点1" VariableExpression="(${y1} * ${c1} * ${s2} - ${y2} * ${c2} * ${s1} - (${x2} - ${x1}) * ${s1} * ${s2}) / (${c1} * ${s2} - ${c2} * ${s1})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="tmp_y交点2" VariableExpression="(${y3} * ${c3} * ${s4} - ${y4} * ${c4} * ${s3} - (${x4} - ${x3}) * ${s3} * ${s4}) / (${c3} * ${s4} - ${c4} * ${s3})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" VariableOp="SetNumeric" VariableName="tmp_y交点3" VariableExpression="(${y5} * ${c5} * ${s6} - ${y6} * ${c6} * ${s5} - (${x6} - ${x5}) * ${s5} * ${s6}) / (${c5} * ${s6} - ${c6} * ${s5})" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="7" VariableOp="SetNumeric" VariableName="U7a5_地火_x0" VariableExpression="(${v:tmp_x交点1} + ${v:tmp_x交点3}) / 2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="8" VariableOp="SetNumeric" VariableName="U7a5_地火_y0" VariableExpression="(${v:tmp_y交点1} + ${v:tmp_y交点3}) / 2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="9" VariableOp="SetNumeric" VariableName="tmp_dir-8交点1" VariableExpression="roundvec(${v:tmp_x交点1} - ${v:U7a5_地火_x0}, ${v:tmp_y交点1} - ${v:U7a5_地火_y0}, -8)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="10" VariableOp="SetNumeric" VariableName="tmp_dir-8交点2" VariableExpression="roundvec(${v:tmp_x交点2} - ${v:U7a5_地火_x0}, ${v:tmp_y交点2} - ${v:U7a5_地火_y0}, -8)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" VariableOp="SetNumeric" VariableName="tmp_dir-8交点3" VariableExpression="roundvec(${v:tmp_x交点3} - ${v:U7a5_地火_x0}, ${v:tmp_y交点3} - ${v:U7a5_地火_y0}, -8)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="12" VariableOp="SetNumeric" VariableName="U7a5_地火_is逆" VariableExpression="(${v:tmp_dir-8交点2} - ${v:tmp_dir-8交点1}) %% 8 = 2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="13" VariableOp="SetNumeric" VariableName="U7a5_地火_θ1" VariableExpression="dir2rad(${v:tmp_dir-8交点1} + (${v:U7a5_地火_is逆} ? 1 : -1), -8)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="14" VariableOp="SetNumeric" VariableName="U7a5_地火_θ2" VariableExpression="dir2rad(${v:tmp_dir-8交点1} + (${v:U7a5_地火_is逆} ? 3 : -3), -8)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="15" VariableOp="SetNumeric" VariableName="U7a5_地火_θ0" VariableExpression="dir2rad(${v:tmp_dir-8交点1} + (${v:U7a5_地火_is逆} ? 6 : -6), -8)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="16" LogMessageText="U7a5_地火:is逆:${v:U7a5_地火_is逆}:x:${v:U7a5_地火_x0}:y:${v:U7a5_地火_y0}:θ:${v:U7a5_地火_θ0}:${v:U7a5_地火_θ1}:${v:U7a5_地火_θ2}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="17" VariableOp="UnsetRegex" VariableName="^tmp_(x|y|dir-8)交点" Enabled="False" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="fbea6603-aca1-4b51-a881-4afceb62d7a3" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D72:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE，地火" ActionType="UseTTS" />
<Action OrderNumber="1" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^U7a5_地火" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 播报" Id="0386f886-205c-4102-9679-c74eea00dc15" RegularExpression="^U7a5_地火:is逆:(?&lt;is逆&gt;[01]):x:(?&lt;x&gt;[^:]*):y:(?&lt;y&gt;[^:]*):θ:(?&lt;θ0&gt;[^:]*):(?&lt;θ1&gt;[^:]*):(?&lt;θ2&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="_tmp_O" VariableExpression="${x}, ${y}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="_tmp_O" VariableExpression="${x} - 100, ${y} - 175, 75&#xD;&#xA;// E12s 场地测试" Enabled="False" ActionType="Variable" Asynchronous="False" DescBgColor="fdd" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${v:_tmp_O}&#xD;&#xA;A: polar 1.25 / sin(67.5°), ${θ0}&#xD;&#xA;B: polar 1.25 / sin(22.5°), ${θ1}&#xD;&#xA;C: polar 1.25 / sin(22.5°), ${θ2}&#xD;&#xA;D: fakeclear&#xD;&#xA;---&#xD;&#xA;O: ${v:_tmp_O} &#xD;&#xA;θ: θ(100, 100, ${x}, ${y})&#xD;&#xA;1: 0, -6&#xD;&#xA;2: 0, -8.5&#xD;&#xA;3: 0, -11&#xD;&#xA;4: 0, -13.5" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="4" UseTTSTextExpression="去A点，准备${if: ${is逆} ? 逆时针 : 顺时针 }移动" ActionType="UseTTS" ExecutionDelayExpression="9000" Asynchronous="False" />
<Action OrderNumber="5" LogProcess="True" LogProcessACT="True" NamedCallbackName="LockOn" NamedCallbackParam="${_me.address}, ${if: ${is逆} ? d1004turning_left_c0p : d1004turning_right_c0p }" ActionType="NamedCallback" ExecutionDelayExpression="3000" DescTextColor="26f" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="7300" Asynchronous="False" />
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="第一组第二次判定" DescriptionOverride="True" />
<Action OrderNumber="8" UseTTSTextExpression="去B点" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="9" />
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${v:_tmp_O}&#xD;&#xA;B: polar 1.25 / sin(67.5°), ${θ1} + (${is逆} ? -π/4 : π/4)&#xD;&#xA;" ActionType="NamedCallback" ExecutionDelayExpression="2000" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="2000" Asynchronous="False" />
<Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="第二组第二次判定" DescriptionOverride="True" />
<Action OrderNumber="13" UseTTSTextExpression="去C点" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="14" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${v:_tmp_O}&#xD;&#xA;B: fakeclear&#xD;&#xA;" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="15" />
<Action OrderNumber="16" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${v:_tmp_O}&#xD;&#xA;C: polar 1.25 / sin(67.5°), ${θ2} + (${is逆} ? -π/4 : π/4)&#xD;&#xA;" ActionType="NamedCallback" ExecutionDelayExpression="2000" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="17" ActionType="Placeholder" ExecutionDelayExpression="2000" Asynchronous="False" />
<Action OrderNumber="18" ActionType="Placeholder" Asynchronous="False" Description="第三组第二次判定" DescriptionOverride="True" />
<Action OrderNumber="19" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${v:_tmp_O}&#xD;&#xA;C: fakeclear&#xD;&#xA;" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="20" UseTTSTextExpression="回A点，准备分摊" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="21" />
<Action OrderNumber="22" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="2000" Asynchronous="False" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 正右 顺时针" Id="81506994-026e-44e3-a2f0-01521cb160c8" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[09:06:09.050] StartsCasting 14:4001A7B0:Pandora:9D72:unknown_9d72:4001A7B0:Pandora:5.700:99.99:99.99:0.00:-0.40" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[09:06:08.744] 261 105:Add:4001A815:BNpcID:1EBBF7:BNpcNameID:3001C03:CastDurationCurrent:2.2500:CastGroundTargetZ:4.5000:CurrentMP:4325379:Heading:-1.5709:Job:53:Level:11:PosX:97.0000:PosY:100.0000:Radius:0.5000:TransformationId:633:Type:7:WorldID:1536" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[09:06:08.744] 261 105:Add:4001A816:BNpcID:1EBBF7:BNpcNameID:700180D:CastDurationCurrent:2.7500:CastDurationMax:1.5000:CastGroundTargetX:1.9000:CastGroundTargetY:1.5000:CastGroundTargetZ:2.7500:CurrentMP:4259843:Heading:-0.7855:Level:139:PosX:96.4142:PosY:103.5858:Radius:0.5000:Type:7:WorldID:1536" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[09:06:08.744] 261 105:Add:4001A814:BNpcID:1EBBF7:BNpcNameID:100180D:CastGroundTargetZ:0.4191:CurrentMP:4390915:Heading:0.7854:Job:2:Level:89:PosX:96.4142:PosY:96.4142:Radius:0.5000:Type:7:WorldID:1536" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[09:06:08.744] 261 105:Add:4001A817:BNpcID:1EBBF7:BNpcNameID:1C03:CastDurationCurrent:0.3000:CastGroundTargetZ:0.5000:CurrentMP:4194307:CurrentWorldID:2816:Heading:-3.1416:Job:53:Level:11:PosX:100.0000:PosY:110.0000:Radius:0.5000:TransformationId:633:Type:7:WorldID:25347" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[09:06:08.744] 261 105:Add:4001A813:BNpcID:1EBBF7:BNpcNameID:1800:CastDurationCurrent:0.2000:CastGroundTargetZ:0.5000:CurrentMP:4456451:Heading:3.1416:Job:1:Level:147:PosX:100.0000:PosY:90.0000:Radius:0.5000:Type:7:WorldID:1536" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[09:06:08.744] 261 105:Add:4001A812:BNpcID:1EBBF7:BNpcNameID:7001C03:CurrentMP:4521987:Heading:-0.7855:Level:73:PosX:110.6569:PosY:89.3432:Radius:0.5000:Type:7:WorldID:1536" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 正左 逆时针" Id="2e07b195-f273-4a51-85b8-d1e72db252b4" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[00:14:54.308] StartsCasting 14:4000939F:Pandora:9D72:Fulgent Blade:4000939F:Pandora:5.700:100.00:100.00:0.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[00:14:54.103] 261 105:Add:400093D2:BNpcID:1EBBF7:BNpcNameID:AD11:CastBuffID:43537:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4456451:CurrentWorldID:256:Heading:3.1416:IsCasting1:17:Job:8:Level:9:NPCTargetID:A611:PCTargetID:2080204:PosX:100.0000:PosY:90.0000:Radius:0.5000:Type:7:WeaponId:3" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[00:14:54.103] 261 105:Add:400093D1:BNpcID:1EBBF7:CastBuffID:46609:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4521987:CurrentWorldID:256:Heading:0.7854:IsCasting1:17:Job:8:Level:9:PosX:89.3934:PosY:89.3934:Radius:0.5000:Type:7" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[00:14:54.103] 261 105:Add:400093D3:BNpcID:1EBBF7:BNpcNameID:AF11:CastBuffID:42769:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4390915:CurrentWorldID:256:Heading:1.5708:IsCasting1:17:Job:8:Level:9:NPCTargetID:AC11:PosX:103.0000:PosY:100.0000:Radius:0.5000:Type:7" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[00:14:54.103] 261 105:Add:400093D4:BNpcID:1EBBF7:BNpcNameID:AC11:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4325379:CurrentWorldID:256:Heading:-0.7855:NPCTargetID:A711:PCTargetID:2080304:PosX:103.5858:PosY:96.4142:Radius:0.5000:Type:7:WeaponId:3" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[00:14:54.103] 261 105:Add:400093D6:BNpcID:1EBBF7:CastBuffID:44305:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4194307:CurrentWorldID:256:Heading:0.7854:IsCasting1:17:Job:175:Level:63:PosX:103.5858:PosY:103.5858:Radius:0.5000:TransformationId:32759:Type:7" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[00:14:54.103] 261 105:Add:400093D5:BNpcID:1EBBF7:CastBuffID:46097:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4259843:CurrentWorldID:256:Heading:-3.1416:IsCasting1:17:PCTargetID:2080303:PosX:100.0000:PosY:110.0000:Radius:0.5000:Type:7:WeaponId:3" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="b1b0cb48-1351-4486-9462-d4201d906ae7" Name=".总体控制" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="导入提示" Id="eae5bd76-4cc8-40b6-a07a-2545e35ed40c" RegularExpression="^." PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="30000">
<Actions>
<Action OrderNumber="1" MessageBoxIconType="Information" MessageBoxText="已更新绝伊甸测试版 v0.3b &#xA;更新后请看说明&#xD;&#xA;不保证播报正确，欢迎试用" ActionType="MessageBox" />
<Action OrderNumber="2" TriggerOp="DisableTrigger" TriggerId="eae5bd76-4cc8-40b6-a07a-2545e35ed40c" ActionType="Trigger" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="调试自用" Id="c58814ea-9c40-4093-ab44-58abb4896699" RegularExpression="">
<Actions>
<Action OrderNumber="1" ListVariableOp="Build" ListVariableExpression=",${_me.id},107AC652,1010B6F0,106484F1,10710F3C,1087662F,108E7345,107518BC" ListVariableTarget="party" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="PartyList:MyIdx8:${l:party.indexof(${_me.id})}" LogProcess="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="false" Source="None" Name="【使用说明】 点开看" Id="f24190a0-3b61-4f21-8012-2e0c19aed773" RegularExpression="">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="·前置&#xD;&#xA;" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="　触发器 v1.2.0.718+  鲶鱼精邮差  远程触发器中的运行支持库（触发器自带）  不需要cactbotself" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="3" LaunchProcessPathExpression="https://docs.qq.com/doc/DS3duaXlSc1JJcFVB" ActionType="LaunchProcess" Description="　攻略：参考 MMW 攻略文档 （右键 - 测试动作）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="4" ActionType="Placeholder" Description="·用户配置" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="5" ActionType="Placeholder" Description="　还没写打法相关的配置，进本自动弹出小队列表界面" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="6" ActionType="Placeholder" Description="　介绍还没写 凑合用" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="7" ActionType="Placeholder" Description="·播报 / 标点说明&#xD;&#xA;" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="8" ActionType="Placeholder" Description="· P1" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="9" ActionType="Placeholder" Description="雷火线" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="10" ActionType="Placeholder" Description="　采用全队优先级法，MT - D4" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="11" ActionType="Placeholder" Description="六人塔" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="12" ActionType="Placeholder" Description="　采用 MMW 攻略的：北 [H1] D1; 南 [H2] D2; 中 [D4] D3，括号为固定组，另一人补位" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="13" ActionType="Placeholder" Description="· P2" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="14" ActionType="Placeholder" Description="滑冰" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="15" ActionType="Placeholder" Description="　滑冰前：如果自己在希瓦半场则标出希瓦背后的区域，否则用弧形标点标出一次可滑到 Boss 身后的范围，最好在结冰前进入二者之一" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="16" ActionType="Placeholder" Description="　冰地板判定后，如果自己：" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="17" ActionType="Placeholder" Description="　位于身后：无提示" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="18" ActionType="Placeholder" Description="　位于侧面（未成功进入上述两区域）：用弧形标点标出一次可滑到 Boss 身后的范围，你需要先滑进这个区域再处理" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="19" ActionType="Placeholder" Description="　位于前方（可一次滑进身后）：用一排标点标出最安全的滑动角度 （标点末端为滑冰终点）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="20" ActionType="Placeholder" Description="　计算无法考虑有人把光圈塞到 Boss 背后的情况，如果指路指向了光圈则自己回避一下。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="21" ActionType="Placeholder" Description="光暴：灰九式（镜像版）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="22" ActionType="Placeholder" Description="· P3" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="23" ActionType="Placeholder" Description="一运：灰九式" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="24" ActionType="Placeholder" Description="二运：双分组" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="25" ActionType="Placeholder" Description="· P5" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="26" ActionType="Placeholder" Description="地火" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="27" ActionType="Placeholder" Description="　初始去 A，TTS + 身上出现顺逆图标提示" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="28" ActionType="Placeholder" Description="　第一次穿到 B，两秒后 B 微调至一个更近的位置，自行选择是否跟随" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="29" ActionType="Placeholder" Description="　第二次穿到 C，两秒后 C 微调，同上" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="30" ActionType="Placeholder" Description="　第三次回到 A，准备分摊" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="31" ActionType="Placeholder" Description="·已知问题" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="32" ActionType="Placeholder" Description="·关于" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="33" ActionType="Placeholder" Description="　　by 阿洛 MnFeN   群号 556836295 / 133514183" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="34" LaunchProcessPathExpression="https://space.bilibili.com/83429972" ActionType="LaunchProcess" Description="　　你可以关注这个 b 站账号，不定期更新视频介绍（右键这一行 - 测试动作）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
</Actions>
</Trigger>
</Triggers>
</ExportedFolder>
</TriggernometryExport>