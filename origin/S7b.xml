<?xml version="1.0"?>
<TriggernometryExport PluginVersion="1.2.0.749">
<ExportedFolder Id="d2b0089b-2f54-4763-83f6-bcaf136d2e20" Name="M5-8 宝宝椅" Enabled="true" RawEnvironmentVariables="prefix = S7b">
<Folders>
<Folder Id="2f04cabb-9943-45e2-991c-85cb95c6299e" Name=".总体控制" Enabled="true">
<Folders>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^(125[6-9]|126[0-3])$" Id="ff49ab0d-48b2-4dc9-806c-b6211295aab5" DisableRemoteExpand="True" DisableRemoteToggle="True" Name="区域" Enabled="true">
<Folders>
<Folder Id="4d68c2e3-fd67-4c53-9285-4d5be87d6148" Name="标点" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="标点保存（有人标点）" Id="caa91d4b-636e-4bd8-943f-72b2da0218de" RegularExpression="^.{15}\S+ 1C:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="place" NamedCallbackParam="save" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="标点重载（重新挑战 / 进入战斗）" Id="4374f266-e15f-48f8-886f-97f245fc4272" RegularExpression="^.{15}\S+ (21:.{8}:40000006|104:.:1:.:1)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="place" NamedCallbackParam="load" ActionType="NamedCallback" />
<Action OrderNumber="2" NamedCallbackName="place" NamedCallbackParam="save" ActionType="NamedCallback" ExecutionDelayExpression="500" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="场地标点" Id="c1797d8f-697f-4a84-9b55-02eaed47ca61" RegularExpression="^.{15}\S+ 21:.{8}:40000001">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="A: 100, 82, 0" ActionType="NamedCallback" Description="M7" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1260" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="A: clear&#xD;&#xA;C: clear&#xD;&#xA;1: 100, 100&#xD;&#xA;B: 95.17, 111.31&#xD;&#xA;D: clear&#xD;&#xA;2: clear&#xD;&#xA;3: clear&#xD;&#xA;4: clear&#xD;&#xA;local: false" ActionType="NamedCallback" Description="M8" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1262" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="command" NamedCallbackParam="/e 提示：B 点为砍柱子绝对安全点" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1262" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 10&#xD;&#xA;R2: 12.5√2&#xD;&#xA;local: false" ActionType="NamedCallback" Description="M5s" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1257" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 10&#xD;&#xA;R2: 10√2&#xD;&#xA;local: false" ActionType="NamedCallback" Description="M6s" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1259" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="// P2&#xD;&#xA;O: 100, 5&#xD;&#xA;B: 4, -3.32&#xD;&#xA;D: -4, 3.32&#xD;&#xA;local: false&#xD;&#xA;---&#xD;&#xA;// P3&#xD;&#xA;Action: Circle&#xD;&#xA;O: 100, 5, -200&#xD;&#xA;Waymarks: A1_4C3_2&#xD;&#xA;R: 10&#xD;&#xA;R2: 10√2&#xD;&#xA;local: false" ActionType="NamedCallback" Description="M7s" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1261" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 6√2&#xD;&#xA;local: false" ActionType="NamedCallback" Description="M8s" DescBgColor="dff" DescriptionOverride="True">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1263" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="13378b0b-0645-43c2-a5b4-cc5a52b8b68e" Name="用户配置" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="false" Sequential="True" Name="记录用户配置（进本自动）" Id="b678b1eb-f689-4991-a2ee-f3f8c6aaa9ac" RegularExpression="^.{15}\S+ 01:(?&lt;zoneId&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="${env:prefix}_cfg" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${zoneId}" ExpressionTypeL="Numeric" ExpressionR="1257" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0x${zoneId}" ExpressionTypeL="Numeric" ExpressionR="1259" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0x${zoneId}" ExpressionTypeL="Numeric" ExpressionR="1261" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0x${zoneId}" ExpressionTypeL="Numeric" ExpressionR="1263" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="记录用户配置（副本内手动 /e cfg)" Id="64ec2431-b87c-4005-9a89-60c7ed2180db" RegularExpression="^.{15}\S+ 00:0038:: *(?i)cfg *$">
<Actions>
<Action OrderNumber="1" LogMessageText="${env:prefix}_cfg" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1257" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1259" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1263" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="1261" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="进战清空变量" Id="05096feb-0415-43c7-ad0a-eea31d625fa4" RegularExpression="^.{15}\S+ 104:.:1:.:1">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M[5678][sn]" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="重开 清除画图" Id="3fa8ac67-1d1f-4772-b557-e78e724169e3" RegularExpression="^.{15}\S+ 21:.{8}:40000006">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Regex: ^M[5678]s" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="团灭中断动作" Id="506184c0-0f33-49d3-a9c8-dab4d462b6fc" RegularExpression="^.{15}\S+ 21:.{8}:400000(03|05)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Regex: ^M[5678]s" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" FolderOp="CancelFolder" FolderId="2bae1fcc-7184-423a-8912-03eb84c4a4fa" TriggerOp="CancelAllTrigger" ActionType="Trigger" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="b81ccb4e-91eb-401f-b8ed-2eac9b09ffa3" Name="无区域" Enabled="true">
<Folders>
<Folder Id="a887e717-c696-43f8-897d-0a88c3d4321f" Name="用户配置" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Sequential="True" Name="[F] 注册并打开配置" Id="9fe02f58-b931-43f4-afd5-c7a2dcde178f" RegularExpression="^(?&lt;prefix&gt;[^[:_]+)_cfg$" PeriodRefire="Deny" RefirePeriodExpression="5000">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="正在开启配置" ActionType="UseTTS" />
<Action OrderNumber="2" ExecScriptExpression="using System;&#xD;&#xA;using System.Collections;&#xD;&#xA;using System.Collections.Generic;&#xD;&#xA;using System.Drawing;&#xD;&#xA;using System.Linq;&#xD;&#xA;using System.Threading;&#xD;&#xA;using System.Windows.Forms;&#xD;&#xA;using Triggernometry;&#xD;&#xA;using Triggernometry.Forms;&#xD;&#xA;using static Triggernometry.Forms.GameConfigForm;&#xD;&#xA;&#xD;&#xA;RealPlugin.plug.RegisterNamedCallback(S7bEntry.Info.ConfigName, new Action&lt;object, string&gt;((_, __) =&gt; S7bEntry.Start()), null);&#xD;&#xA;&#xD;&#xA;public static class S7bEntry&#xD;&#xA;{&#xD;&#xA;    public static ConfigInfo Info = new ConfigInfo(&quot;阿卡狄亚中量级 M5-8 宝宝椅&quot;, null, null/*&quot;阿洛 MnFeN&quot;*/, &quot;${env:prefix}_cfg&quot;);&#xD;&#xA;    static Color Blue = Color.FromArgb(0x22, 0x66, 0xff);&#xD;&#xA;    public static void RunConfigForm()&#xD;&#xA;    {&#xD;&#xA;        try { _RunConfigForm(); }&#xD;&#xA;        catch (Exception ex)&#xD;&#xA;        {&#xD;&#xA;            MessageBox.Show(&quot;配置界面运行时遇到问题：\n\n&quot; + ex, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Error);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private static void _RunConfigForm()&#xD;&#xA;    {&#xD;&#xA;        GameConfigForm form = new GameConfigForm(Info);&#xD;&#xA;        form.Shown += (sender, e) =&gt; RealPlugin.plug.InvokeNamedCallback(&quot;command&quot;, &quot;/e &lt;se.9&gt;&quot;);&#xD;&#xA;&#xD;&#xA;        BijectDictionary&lt;string, string&gt; cbxItems;&#xD;&#xA;        Option optionCtrl;&#xD;&#xA;        Label label;&#xD;&#xA;        string hint = &quot;&quot;;&#xD;&#xA;        // 在下面倒序添加各个选项组（组内的选项正序）&#xD;&#xA;&#xD;&#xA;        OptionsTableLayoutPanel tableM8s = form.AddOptionGroup(&quot; M8s 剑嚎 &quot;);&#xD;&#xA;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#xD;&#xA;            (&quot;国&quot;, &quot; [国服] 斜八方固定位置&quot;),&#xD;&#xA;            (&quot;美&quot;, &quot; [美服] 浮游炮安全区方向 TH 顺 D 逆&quot;)&#xD;&#xA;        );&#xD;&#xA;        optionCtrl = new OptionCbx(&quot;　钢铁浮游炮时的分散站位&quot;, &quot;M8s_钢铁站位&quot;, cbxItems, &quot;国&quot;);&#xD;&#xA;        form.AddOption(optionCtrl, tableM8s);&#xD;&#xA;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#xD;&#xA;            (&quot;1&quot;, &quot; [国服] 先撞绿色风球&quot;),&#xD;&#xA;            (&quot;0&quot;, &quot; [美服] 先撞黄色土立方体&quot;)&#xD;&#xA;        );&#xD;&#xA;        optionCtrl = new OptionCbx(&quot;　小怪阶段消除风土 debuff 顺序&quot;, &quot;M8s_b先撞绿&quot;, cbxItems, &quot;1&quot;);&#xD;&#xA;        form.AddOption(optionCtrl, tableM8s);&#xD;&#xA;        /*&#xD;&#xA;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#xD;&#xA;            (&quot;顺次&quot;, &quot; 连线顺次经过四个平台&quot;),&#xD;&#xA;            (&quot;半场&quot;, &quot; 分左右半场处理接线风圈和直线分摊&quot;)&#xD;&#xA;        );&#xD;&#xA;        optionCtrl = new OptionCbx(&quot;　[未适配] 本体传线解法&quot;, &quot;M8s_传线&quot;, cbxItems, &quot;顺次&quot;);&#xD;&#xA;        form.AddOption(optionCtrl, tableM8s);&#xD;&#xA;        */&#xD;&#xA;        OptionsTableLayoutPanel tableM7s = form.AddOptionGroup(&quot; M7s 野蛮恨心 &quot;);&#xD;&#xA;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#xD;&#xA;            (&quot;1&quot;, &quot; [国服] 相对面向基准&quot;),&#xD;&#xA;            (&quot;0&quot;, &quot; [美服] 绝对方向基准&quot;)&#xD;&#xA;        );&#xD;&#xA;        optionCtrl = new OptionCbx(&quot;　八方分散的方位基准&quot;, &quot;M7s_b面基&quot;, cbxItems, &quot;1&quot;);&#xD;&#xA;        form.AddOption(optionCtrl, tableM7s);&#xD;&#xA;&#xD;&#xA;        OptionsTableLayoutPanel tableM6s = form.AddOptionGroup(&quot; M6s 狂热糖潮 &quot;);&#xD;&#xA;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#xD;&#xA;            (&quot;国&quot;, &quot; [国服] 危险仙人掌为北，左至右 H1-人群-H2&quot;),&#xD;&#xA;            (&quot;美&quot;, &quot; [美服] 危险仙人掌为南，左至右 H1-人群-H2&quot;),&#xD;&#xA;            (&quot;日&quot;, &quot; [日服] 绝对方向基准&quot;)&#xD;&#xA;        );&#xD;&#xA;        optionCtrl = new OptionCbx(&quot;　沙坑+仙人掌阶段的方位基准&quot;, &quot;M6s_沙坑基准&quot;, cbxItems, &quot;1&quot;);&#xD;&#xA;        form.AddOption(optionCtrl, tableM6s);&#xD;&#xA;        hint = &quot;第一次飞行时的圆弧内为危险区域；\n第二次飞行时的橙色多边形区域为危险区域。\n只要不在危险区域内，即可纠正至正确方向。&quot;;&#xD;&#xA;        optionCtrl = new OptionChk(&quot;  强制飞行前自动纠正面向，防止飞进电网或熔岩&quot;, &quot;M6s_AutoFly&quot;, true, hint);&#xD;&#xA;        form.AddOption(optionCtrl, tableM6s);&#xD;&#xA;&#xD;&#xA;        OptionsTableLayoutPanel tableM5s = form.AddOptionGroup(&quot; M5s 热舞绿光 &quot;);&#xD;&#xA;        form.AddLabel(&quot;  &quot;, tableM5s);&#xD;&#xA;&#xD;&#xA;        #region 使用须知&#xD;&#xA;&#xD;&#xA;        OptionsTableLayoutPanel tableInfo = form.AddOptionGroup(&quot; 使用须知 &quot;);&#xD;&#xA;&#xD;&#xA;        form.AddLabel(&quot;· 使用前必须查看使用说明，见绝伊甸触发器分组下的「使用说明」触发器。&quot;, tableInfo)&#xD;&#xA;            .ForeColor = Blue;&#xD;&#xA;&#xD;&#xA;        //label = form.AddLabel(&quot;· 下方部分选项上悬停鼠标可以显示详细说明。&quot;, tableInfo);&#xD;&#xA;        //label.ForeColor = Blue;&#xD;&#xA;&#xD;&#xA;        #endregion 使用须知&#xD;&#xA;&#xD;&#xA;        Application.OpenForms.OfType&lt;GameConfigForm&gt;().ToList().ForEach(f =&gt; f.Close());&#xD;&#xA;        form.Run();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    [STAThread]&#xD;&#xA;    public static void Start()&#xD;&#xA;    {&#xD;&#xA;        try&#xD;&#xA;        {&#xD;&#xA;            Application.OpenForms.OfType&lt;GameConfigForm&gt;().ToList().ForEach(f =&gt; f.Close());&#xD;&#xA;            Thread staThread = new Thread(new ThreadStart(RunConfigForm));&#xD;&#xA;            staThread.SetApartmentState(ApartmentState.STA);&#xD;&#xA;            staThread.Start();&#xD;&#xA;            staThread.Join();&#xD;&#xA;        }&#xD;&#xA;        catch (Exception ex)&#xD;&#xA;        {&#xD;&#xA;            MessageBox.Show(&quot;用户配置表单运行错误：\n&quot; + ex, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Error);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;" ActionType="ExecuteScript">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ecallback:${env:prefix}_cfg}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:${env:prefix}_cfg[version]}" ExpressionTypeL="String" ExpressionR="${env:version}" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="${env:prefix}_cfg" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${prefix}" ExpressionTypeL="String" ExpressionR="${env:prefix}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="记录用户配置（副本外手动 /e cfg U7b/m5-8）" Id="1586d90a-303d-4c88-a141-57615d9c1340" RegularExpression="^.{15}\S+ 00:0038:: *(?i)cfg +(m5-8|U7b) *$">
<Actions>
<Action OrderNumber="1" LogMessageText="${env:prefix}_cfg" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="false" Name="导入提示" Id="ef8a6eca-f765-4055-a88c-8c806165caca" RegularExpression="^." PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="30000">
<Actions>
<Action OrderNumber="1" MessageBoxIconType="Information" MessageBoxText="M8s 已更新：&#xD;&#xA;· 优化了门神第一次分散分摊的绘制：&#xD;&#xA;  · 初始分散分摊后预先指路自己的大致方向&#xD;&#xA;  · 分身出现后修正至实际安全区&#xD;&#xA;· 本体改为绘制蓝色安全区：&#xD;&#xA;  · 钢铁月环 + 半场刀，附加 TTS 指明露线（已修复之前第二次报错的问题）&#xD;&#xA;  · 五连转盘&#xD;&#xA;  &#xD;&#xA;【如果你导入过群里的临时版本，请删除本地版并重新开启远程版】" ActionType="MessageBox" />
<Action OrderNumber="2" TriggerOp="DisableTrigger" TriggerId="ef8a6eca-f765-4055-a88c-8c806165caca" ActionType="Trigger" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="2bae1fcc-7184-423a-8912-03eb84c4a4fa" Name="M5-8s" Enabled="true">
<Folders>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1261$" Id="26cf99e2-a745-4c1a-a69c-20df5cd9e16b" Name="M7s v1.1.0" Enabled="true" RawEnvironmentVariables="zone = 1261">
<Folders>
<Folder Id="130144cf-c144-4bc0-80d9-73dc78c2952f" Name="杂项" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="冰花" Id="a846d3a6-1301-4b03-8bbe-4afb921ba242" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A59A|A59D|A570):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: er_general_x02t&#xD;&#xA;Tag: M7s_冰花&#xD;&#xA;t: 3.0&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 2, 60&#xD;&#xA;---&#xD;&#xA;Omen: er_general_x02t&#xD;&#xA;Tag: M7s_冰花&#xD;&#xA;t: 3.0&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h} + π/2&#xD;&#xA;Scale: 2, 60" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="孢子安全区" Id="37b6eece-e1c7-4752-98d4-8b4fccbc5c56" RegularExpression="^.{15}\S+ 101:[^:]*:0002.{4}:(?&lt;loc&gt;08|0C|10|14|18|1C|20|24)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="种子 mapeffect 四个一组，这里只获取 %4 = 0 的" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="0x${loc} &amp; 0x8 : 内圈左上右下 / 外圈左下右上" DescriptionOverride="True" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_内1&#xD;&#xA;t: 4.5&#xD;&#xA;Pos: -5.5, -2.5&#xD;&#xA;Scale: 3, 6&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_内2&#xD;&#xA;t: 4.5&#xD;&#xA;Pos: 5.5, 8.5&#xD;&#xA;Scale: 3, 6&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_外1&#xD;&#xA;t: 4.5&#xD;&#xA;Pos: -16.75, 20&#xD;&#xA;Scale: 3.25, 6.5&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_外2&#xD;&#xA;t: 4.5&#xD;&#xA;Pos: 16.75, -13.5&#xD;&#xA;Scale: 3.25, 6.5&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M7s_孢子安全区&#xD;&#xA;Color: 0.1, 1.5, 20, 1&#xD;&#xA;+X: 0x${loc} &amp; 0x8&#xD;&#xA;O: ${if: 0x${loc} &gt;= 0x18 ? 100, 5, -200 : 100, 100, 0 }" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" UseTTSTextExpression="${?l: &#xD;&#xA;  ${if: 0x${loc} &gt;= 0x18 ? 左上 : 右下 }, &#xD;&#xA;  右下, &#xD;&#xA;  右上角, &#xD;&#xA;  左下角, &#xD;&#xA;  ${if: 0x${loc} &gt;= 0x18 ? 左上 : 右下 }, &#xD;&#xA;  右下, &#xD;&#xA;  右上角, &#xD;&#xA;  左下角 &#xD;&#xA;[${v:myIdx}]}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${loc} &amp; 0x8" ExpressionTypeL="Numeric" ExpressionR="0x8" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" UseTTSTextExpression="${?l: &#xD;&#xA;  ${if: 0x${loc} &gt;= 0x18 ? 右上 : 左下 }, &#xD;&#xA;  左下, &#xD;&#xA;  左上角, &#xD;&#xA;  右下角, &#xD;&#xA;  左下, &#xD;&#xA;  ${if: 0x${loc} &gt;= 0x18 ? 右上 : 左下 }, &#xD;&#xA;  左上角, &#xD;&#xA;  右下角 &#xD;&#xA;[${v:myIdx}]}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${loc} &amp; 0x8" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" UseTTSTextExpression="${?l: 上北, 下南, &quot;&quot;, &quot;&quot;, 左西, 右东, &quot;&quot;, &quot;&quot; [${v:myIdx}]}贴边分摊" ActionType="UseTTS" ExecutionDelayExpression="4500">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${loc}" ExpressionTypeL="Numeric" ExpressionR="0x18" ExpressionTypeR="Numeric" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 脚下冰花" Id="56876037-d288-4183-84d2-7c3b9527d51d" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:52:17.106] 263 107:4001649A:A570:${_me.x}:${_me.y}:${_me.z}:${_me.h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="花点名 橙圈（P2 * 2 / P3 * 4）" Id="e410d577-33cf-4946-9549-45cb4c545860" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:01D2:">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M7s_橙圈_tid" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M7s_橙圈点名:${if: ${v:M7s_phase} == P3 ? P3 : P2 }:${l:M7s_橙圈_tid.contain(${_me.id})}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_橙圈_tid.size}" ExpressionTypeL="String" ExpressionR="${v:M7s_phase} == P3 ? 4 : 2" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" LogMessageText="cd5:5" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_橙圈_tid.size}" ExpressionTypeL="String" ExpressionR="${v:M7s_phase} == P3 ? 4 : 2" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_橙圈_tid.contain(${_me.id})}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ListVariableName="M7s_橙圈_tid" ActionType="ListVariable" ExecutionDelayExpression="1000" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="花点名 粉圈（开场/P3 +4黄aoe）" Id="9815e7cc-f20b-4631-a689-2d18931fa41f" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0177:">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M7s_粉圈_tid" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M7s_粉圈点名:${if: ${v:M7s_phase} == P3 ? P3 : P1 }:${l:M7s_粉圈_tid.contain(${_me.id})}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_粉圈_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" UseTTSTextExpression="${if: ${l:M7s_粉圈_tid.contain(${_me.id})} ? 放种子 : 躲黄圈 }" ActionType="UseTTS" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_粉圈_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" LogMessageText="cd5:7" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_粉圈_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" ListVariableName="M7s_粉圈_tid" ActionType="ListVariable" ExecutionDelayExpression="1000" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="阶段标点" Id="c70e8d48-4497-464b-b42a-58be1642bdba" RegularExpression="^M7s_waymark:(.+)$">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="https://www.geogebra.org/classic/jsbcev55" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="// P1&#xD;&#xA;Action: Circle&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 17&#xD;&#xA;R2: 9√2" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="$1" ExpressionTypeL="String" ExpressionR="P1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="// P2&#xD;&#xA;O: 100, 5, 0&#xD;&#xA;θ: $1 == P2L ? -π/2 : π/2&#xD;&#xA;// TH&#xD;&#xA;A: 0, -12.5&#xD;&#xA;B: -3.32, -4&#xD;&#xA;// D4&#xD;&#xA;C: 0, 12.5&#xD;&#xA;D: 14.42, 8.08&#xD;&#xA;// D12&#xD;&#xA;1: -25, -12.5&#xD;&#xA;2: ${if: $1 == P2L ? &quot;-21.18, -4&quot; : &quot;-21.18, -4, 0.7&quot; }&#xD;&#xA;// D3&#xD;&#xA;3: ${if: $1 == P2L ? &quot;25, -12.5&quot; : &quot;-25, 12.5&quot; }&#xD;&#xA;4: ${if: $1 == P2L ? &quot;21.18, -4&quot; : &quot;-21.18, -4, -0.7&quot; }" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="$1" ExpressionTypeL="String" ExpressionR="P2L" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="$1" ExpressionTypeL="String" ExpressionR="P2R" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="// P3&#xD;&#xA;Action: Circle&#xD;&#xA;O: 100, 5, -200&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 19&#xD;&#xA;R2: 10√2" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="$1" ExpressionTypeL="String" ExpressionR="P3" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="9de73449-8ead-4044-93a3-dc771c3a0972" Name="P1" Enabled="true" RawEnvironmentVariables="phase = P1">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="P1 时间轴" Id="c7733b33-2ae4-4c77-9133-12cfbdf09cf0" RegularExpression="^.{15}\S+ 104:.:1:.:1">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:3.17:六连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:18.92:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:35.92:种子站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:60.80:双分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:66.80:躲开黄圈" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:104.58:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:120.76:分摊，准备${?l: 前方, 后方, 左侧, 右侧, 左后, 右后, 左前, 右前 [${v:myIdx}]}分散" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:126.84:${?l: 前方, 后方, 左侧, 右侧, 左后, 右后, 左前, 右前 [${v:myIdx}]}分散" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="beep:126.94" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="tts:131.08:北侧击飞" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="11" NamedCallbackName="SetObjectScale" NamedCallbackParam="${_entity[bnpcid = 18307].address}, 0.3" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="12" LogMessageText="M7s_waymark:P1" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="3000" DescBgColor="dff" />
<Action OrderNumber="13" NamedCallbackName="PictoACT" NamedCallbackParam="Action: △&#xD;&#xA;Tag: M7s&#xD;&#xA;t: 17.2&#xD;&#xA;O: 100, 100&#xD;&#xA;Points: 0.001, -12; 1.22, -12.284; 2.304, -12.903; 3.236, -20; -3.236, -20; -2.304, -12.903; -1.22, -12.284; -0.001, -12; 0, -16&#xD;&#xA;Color: 0, 1.2, 6, 1.5" ActionType="NamedCallback" ExecutionDelayExpression="128.08 * 1000" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="核爆 2. 播报" Id="f30b8add-ce3b-436e-8dcf-fb2b27aedf39" RegularExpression="^M7s_核爆:2:dir6:(?&lt;dir6&gt;[0-5]):bCW:(?&lt;bCW&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${dir6}): 下南, 右下, 右上, 上北, 左上, 左下}开始" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_θ2" VariableExpression="dir2rad(${dir6}, 6) + (${bCW} ? -2*π/3 : 2*π/3)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Arc&#xD;&#xA;O: 100, 100 polar 16, ${v:tmp_θ2}&#xD;&#xA;R: 23.5 + 1.25&#xD;&#xA;θ: ${v:tmp_θ2} + π&#xD;&#xA;dθ: 50.32°&#xD;&#xA;ScaleX: ${bCW} ? 1 : -1&#xD;&#xA;Waymarks: 4321DCBA&#xD;&#xA;" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="4" VariableName="tmp_θ2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" LogMessageText="M7s_waymark:P1" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="11600" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="核爆 1. 获取 =&gt; 2" Id="6d2cb707-a810-443f-a6a5-27b460476fe9" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A576:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="23.5 外伤害恒定 n （对 dps 7w，对 t 4.1w）；0.5 - 23.5 线性衰减，每米衰减 0.78n；0.5 内恒定 18.9n" DescriptionOverride="True" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="M7s_核爆_dir6" ListVariableExpression="roundvec(${x} - 100, ${y} - 100, 6)" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M7s_核爆:1:dir6:${l:M7s_核爆_dir6[1]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_核爆_dir6.size}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" LogMessageText="M7s_核爆:2:dir6:${l:M7s_核爆_dir6[1]}:bCW:${n: (${l:M7s_核爆_dir6[2]} - ${l:M7s_核爆_dir6[1]}) %% 6 = 4 }" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M7s_核爆_dir6.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 核爆" Id="9bed2c10-fb8b-4c35-b138-13288826314c" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:52:51.191] 263 107:400164A8:A576:86.154:108.005:0.000:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.54 * 1000" />
<Action OrderNumber="3" LogMessageText="[12:52:53.732] 263 107:400164A9:A576:100.009:83.987:0.000:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="2.50 * 1000" />
<Action OrderNumber="5" LogMessageText="[12:52:56.228] 263 107:400164A7:A576:113.865:108.005:0.000:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="24ca1d2c-4ec2-4e63-bfca-ba2c3de9ec33" Name="P2" Enabled="true" RawEnvironmentVariables="phase = P2">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="核爆仇恨" Id="4c7ae929-d0ed-4427-aaf1-45243745483f" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0147:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${_entity[bnpcid = 18307].targetid} == ${_me.id} &#xD;&#xA;  ? ${if: ${tid} == ${_me.id} ? 死刑远离，退避 : 保持一仇 } &#xD;&#xA;  : ${if: ${tid} == ${_me.id} ? 死刑远离 : 挑衅 } &#xD;&#xA;}" Enabled="False" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 击飞" Id="0d23dbc4-3f3d-4a88-8dba-a8aa0f36660f" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A57C):">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M7s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="P2 时间轴" Id="e22f5c3d-c594-418a-bfc8-7cfa2e6b6903" RegularExpression="^.{15}\S+ 101:.{8}:00020001:00">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:14.04" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:62.89:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:74.39:地火" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:109.85:种子站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:121.54:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:164.85:双分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:192.82:碎地板" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="地火判定" Id="1cabc1cd-4ed1-4c42-9ffa-8129c24e9d1f" RegularExpression="^.{15}\S+ 108:4.{7}:A58B:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" SystemBeepFreqExpression="" SystemBeepLengthExpression="" LogMessageText="beep:0" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="种子标点" Id="87792532-3065-4084-bff6-6b5bf3809472" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A596:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" LogMessageText="M7s_waymark:${if: ${x} &gt; 100 ? P2R : P2L }" LogProcess="True" ActionType="LogMessage" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="花点名（P2 橙圈）" Id="3d831b19-5abd-4bfc-9422-99dacfceea68" RegularExpression="M7s_橙圈点名:P2:(?&lt;b点名&gt;[01])">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M7s_P2种子_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${b点名} ? 放种子 : 躲开 }，${v:M7s_P2种子_n}" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="af079867-2053-4e5b-8ba0-960ab13a9dde" Name="P3" Enabled="true" RawEnvironmentVariables="phase = P3">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 碎地板" Id="6bcf6c6b-45c8-4220-96bd-fa27c500891d" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A59E):">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M7s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="P3 时间轴" Id="1554b29e-a178-4a5b-95bf-f3da392d669b" RegularExpression="^.{15}\S+ 101:.{8}:00020001:01">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:16.35" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:23.47:七连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:81.77:八连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:97.55:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:114.86:种子站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:163.62:${if: ${v:myIdx_isTM} ? 近战集合站位 : 远程放黄圈站位 }" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:179.45:躲开黄圈，分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:187.27:准备${?l: 前方, 后方, 左侧, 右侧, 左后, 右后, 左前, 右前 [${v:myIdx}]}分散分散" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:189.05:分散" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="beep:189.15" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="tts:191.57:八连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="tts:214.00:钢铁月环2，种子站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="tts:261.78:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="tts:280.90:八连AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="M7s_waymark:P3" LogProcess="True" ActionType="LogMessage" DescBgColor="dff" />
<Action OrderNumber="16" ActionType="Placeholder" Asynchronous="False" Description="开场落地和两次分摊塔落地" DescriptionOverride="True" />
<Action OrderNumber="17" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[bnpcid = 18307].address}, 0.3" ActionType="NamedCallback" ExecutionDelayExpression="14000" DescTextColor="26f" />
<Action OrderNumber="18" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[bnpcid = 18307].address}, 0.3" ActionType="NamedCallback" ExecutionDelayExpression="66400" DescTextColor="26f" />
<Action OrderNumber="19" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[bnpcid = 18307].address}, 0.3" ActionType="NamedCallback" ExecutionDelayExpression="34500" DescTextColor="26f" />
<Action OrderNumber="20" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[bnpcid = 18307].address}, 0.3" ActionType="NamedCallback" ExecutionDelayExpression="145500" DescTextColor="26f" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="d44a313f-cdec-442a-9e8d-e7ee4fb4622d" Name="八方分散" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Sequential="True" Name="1. 分摊点名" Id="ae26026a-afe6-4dea-9a7f-575b4b630a86" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:00A1:">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="_tmp_dθ" VariableExpression="dir2rad(${?l: 0, 4, 2, 6, 3, 5, 1, 7 [${v:myIdx}]}, 8) + π" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M7s_八方_线&#xD;&#xA;t: 7.2&#xD;&#xA;Scale: 0.05, 7.5, 0&#xD;&#xA;Color: 3, 3, 3, 1.5&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M7s_八方_环&#xD;&#xA;t: 7.2&#xD;&#xA;Pos: 0, -7.5&#xD;&#xA;ScaleCyl: 1.5, 0.3&#xD;&#xA;Color: 0.1, 1.6, 20, 2&#xD;&#xA;Update: false" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" LoopDelayExpression="10" ActionType="Loop">
<LoopCondition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_sincems}" ExpressionTypeL="String" ExpressionR="4300" ExpressionTypeR="String" ConditionType="NumericLess" />
</LoopCondition>
<LoopActions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Delay: 0.001&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M7s_八方&#xD;&#xA;// ↓ 奇技淫巧 后面三元表达式是判断 z 的&#xD;&#xA;O: ${_entity[${tid}].XYZ} &gt; -1 ? 0 : -200&#xD;&#xA;θ: θ(${_entity[bnpcid = 18307].XY}, ${_entity[${tid}].XY}) + ${v:_tmp_dθ}" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M7s_b面基]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Delay: 0.001&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M7s_八方&#xD;&#xA;O: ${_entity[${tid}].XYZ} &gt; -1 ? 0 : -200&#xD;&#xA;θ: π + ${v:_tmp_dθ}" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M7s_b面基]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</LoopActions>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-27 10:35" Id="c204b087-2f75-4ff3-bc87-4e888229ab8b" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[13:00:12.221] TargetIcon 1B:${_me.id}:${_me}:0000:0000:00A1:${_me.id}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="2. 小钢铁读条" Id="937ea729-64f3-46e5-be7a-998465bdc96f" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A57A:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M7s_八方&#xD;&#xA;O: ${x}, ${y}, ${z}&#xD;&#xA;θ: ${_entity[${sid}].Heading} + ${v:_tmp_dθ}" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M7s_b面基]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M7s_八方&#xD;&#xA;O: ${x}, ${y}, ${z}&#xD;&#xA;θ: π + ${v:_tmp_dθ}" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M7s_b面基]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="762049a0-9ebd-40a1-81fd-76698ae67a0c" Name="钢铁月环组合技" Enabled="true" RawEnvironmentVariables="color钢铁 = 1.5, 0.5, 1, 0.8&#xD;&#xA;color月环 = 0, 1, 8, 0.8&#xD;&#xA;color钢铁箭头 = 5, 1, 1, 0.8&#xD;&#xA;color月环箭头 = 0, 2, 15, 1.5">
<Folders>
<Folder Id="923ed0e1-b1d5-463b-9697-37e19f4e1ff4" Name="钢铁月环2 P2" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 储存钢铁月环" Id="d57ee06e-cdd7-4bda-b6f5-69c2457ed9b1" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A5(?&lt;type&gt;7F|80):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M7s_钢月2_is钢" VariableExpression="${type} == 7F" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="储存${if: ${v:M7s_钢月2_is钢} ? 钢铁 : 月环 }" Enabled="False" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 跳跃" Id="bb30481c-d977-45c3-9399-55984e1f4991" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A5(?&lt;type&gt;8[CDEF]|9[01]):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d: 8C = 跳右侧, 8D = 跳左后, 8E = 跳左侧短边, 8F = 跳对角, 90 = 跳右侧短边, 91 = 跳对角 [${type}]}，${if: ${v:M7s_钢月2_is钢} ? 钢铁 : 月环 }，${if: ${type} == 90 &amp;&amp; !${v:M7s_钢月2_is钢} ? 准备快跑 : &quot;&quot; }" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="tmp_startXY" VariableExpression="${?d: &#xD;&#xA;  &quot;8C = 100, -20&quot;, &#xD;&#xA;  &quot;8D = 100, -20&quot;, &#xD;&#xA;  &quot;8E = 112.5, -7.5&quot;, &#xD;&#xA;  &quot;8F = 112.5, -7.5&quot;, &#xD;&#xA;  &quot;90 = 87.5, 17.5&quot;, &#xD;&#xA;  &quot;91 = 87.5, 17.5&quot; &#xD;&#xA;[${type}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="tmp_endXY" VariableExpression="${?d: &#xD;&#xA;  &quot;8C = 112.5, -7.5&quot;, &#xD;&#xA;  &quot;8D = 87.5, 17.5&quot;, &#xD;&#xA;  &quot;8E = 100, -20&quot;, &#xD;&#xA;  &quot;8F = 87.5, 17.5&quot;, &#xD;&#xA;  &quot;90 = 100, -20&quot;, &#xD;&#xA;  &quot;91 = 112.5, -7.5&quot; &#xD;&#xA;[${type}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="// 箭头&#xD;&#xA;Delay: 0.01&#xD;&#xA;Tag: M7s&#xD;&#xA;Omen: e5d1_b1_kblaser_t1&#xD;&#xA;t: 7.5&#xD;&#xA;Pos: ${v:tmp_startXY}, 0&#xD;&#xA;Angle: θ(${v:tmp_startXY}, ${v:tmp_endXY})&#xD;&#xA;Scale: 0.5, ${n: distance(${v:tmp_startXY}, ${v:tmp_endXY})}&#xD;&#xA;Color: ${if: ${v:M7s_钢月2_is钢} ? ${env:color钢铁箭头} : ${env:color月环箭头} }" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd" />
<Action OrderNumber="5" VariableName="tmp_startXY" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" VariableName="tmp_endXY" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-26 17:13" Id="3d02dd85-daf2-49ec-a56f-87a11cbe6383" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:54:02.870] 263 107:40016488:A57F:100.009:-34.486:0.183:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="3" LogMessageText="[12:54:10.711] StartsCasting 14:40016488:Brute Abombinator:A58C:Brutish Swing:E0000000::3.700:99.99:-34.50:0.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[12:54:10.711] 263 107:400164A9:A592:126.988:-7.508:0.000:-1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="15000" />
<Action OrderNumber="6" LogMessageText="[12:54:42.819] 263 107:40016488:A580:126.988:-7.508:0.183:-1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="8" LogMessageText="[12:55:13.207] StartsCasting 14:40016488:Brute Abombinator:A58F:Brutish Swing:E0000000::3.700:126.97:-7.52:0.00:-1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[12:55:13.207] 263 107:40016497:A593:73.000:17.487:0.000:1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="15000" />
<Action OrderNumber="11" LogMessageText="[12:56:07.883] 263 107:40016488:A57F:73.000:17.487:0.183:1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="13" LogMessageText="[12:56:35.777] StartsCasting 14:40016488:Brute Abombinator:A590:Brutish Swing:E0000000::3.700:72.98:17.47:0.00:1.57" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[12:56:35.777] 263 107:4001649D:A592:100.009:-34.486:0.000:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 钢铁月环" Id="7f118573-c484-4ec7-b13e-87b0ced3a3af" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A59(?&lt;type&gt;2|3):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:7.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;t: 7.3&#xD;&#xA;Tag: M7s_钢月2&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Scale: 0${v:M7s_钢月2_is钢} ? 25 : 22&#xD;&#xA;Color: ${if: ${v:M7s_钢月2_is钢} ? ${env:color钢铁} : ${env:color月环} }" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="7500" />
<Action OrderNumber="4" UseTTSTextExpression="${if: ${v:myIdx_isG1} ? 左 : 右 }侧分散。准备 AoE" ActionType="UseTTS" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: M7s&#xD;&#xA;t: 5.1&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 7, 70&#xD;&#xA;Color: 1,1,1,1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="941e267d-2d36-4d42-96df-7068552344e1" Name="钢铁月环1 死刑" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 播报钢铁月环" Id="d7a13fbd-f31a-4299-93cc-48232f356957" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A5(?&lt;type&gt;5F|60):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M7s_钢月1_is打远" VariableExpression="${type} == 60" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="然后${if: ${v:M7s_钢月1_is打远} ? 远死刑 : 近死刑 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" UseTTSTextExpression="然后${if: ${v:M7s_钢月1_is打远} ? 人群靠近 : 人群远离 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="3700" />
<Action OrderNumber="5" NamedCallbackName="AdvWm" NamedCallbackParam="load" Enabled="False" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Tag: M7s_钢月1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 储存钢铁月环" Id="291d867c-d888-443f-b58d-733577800e2a" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A55(?&lt;type&gt;D|E):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M7s_钢月1_is钢" VariableExpression="${type} == D" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${v:M7s_钢月1_is钢} ? 钢铁 : 月环 }" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: ${x}, ${y}, ${z}&#xD;&#xA;R: ${v:M7s_钢月1_is钢} ? 13.25 : 7.75&#xD;&#xA;Waymarks: A1D4C3B2" Enabled="False" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: M7s_钢月1&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Scale: 0${v:M7s_钢月1_is钢} ? 12 : 9&#xD;&#xA;Color: ${if: ${v:M7s_钢月1_is钢} ? ${env:color钢铁} : ${env:color月环} }" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="b2229d78-90f6-4660-95dd-51c72cf4dd3b" Name="钢铁月环3 P3" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 储存双手钢铁月环" Id="7737f2a3-6d5d-490c-b694-8be0643cc0df" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A5A(?&lt;type&gt;0|1):">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M7s_钢月3_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M7s_钢月3_is左钢" VariableExpression="${type} == 1" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4.1 结尾（第一次）" Id="875fc176-1404-45eb-ad43-df3d88aff940" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A5A(?&lt;type&gt;B|C):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="6600" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${v:myIdx_isG1} ? 左侧 : 右侧 }分散" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: M7s&#xD;&#xA;t: 3&#xD;&#xA;Pos: ${x}, ${y}, -200&#xD;&#xA;Angle: θ(${x}, ${y}, 100, 5)&#xD;&#xA;Scale: 7, 60&#xD;&#xA;Color: 1,1,1,1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="3000" />
<Action OrderNumber="5" UseTTSTextExpression="踩塔" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" LogMessageText="M7s_waymark:P3" LogProcess="True" ActionType="LogMessage" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M7s_钢月3_n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 跳跃 1 + 释放钢铁月环 1" Id="6527ac09-9ec0-494b-8c42-f444a9560b4f" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A5A(?&lt;type&gt;3|5):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="30000">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M7s_钢月3_is先钢" VariableExpression="${type} == 3" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M7s_钢月3_is右安全" VariableExpression="${v:M7s_钢月3_is先钢} != ${v:M7s_钢月3_is左钢}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" UseTTSTextExpression="${if: ${v:M7s_钢月3_is先钢} ? 钢铁 : 月环 }，${if: ${v:M7s_钢月3_n} = 1 ? AoE : &quot;&quot; }，然后去${if: ${v:M7s_钢月3_is右安全} ? 右 : 左 }" ActionType="UseTTS" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;t: 6.3&#xD;&#xA;Tag: M7s_钢月3&#xD;&#xA;Pos: ${x}, ${y}, -200&#xD;&#xA;Scale: 0${v:M7s_钢月3_is先钢} ? 25 : 22&#xD;&#xA;Color: ${if: ${v:M7s_钢月3_is先钢} ? ${env:color钢铁} : ${env:color月环} }" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="// 箭头&#xD;&#xA;Omen: e5d1_b1_kblaser_t1&#xD;&#xA;Tag: M7s&#xD;&#xA;t: 6.3&#xD;&#xA;Pos: 100, 5, -200&#xD;&#xA;Angle: ${h} + π&#xD;&#xA;Scale: 0.5, 20&#xD;&#xA;Color: ${if: ${v:M7s_钢月3_is先钢} ? ${env:color钢铁箭头} : ${env:color月环箭头} }" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="6" LogMessageText="cd5:6.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="${v:M7s_钢月3_n} = 1 ? 6300 : 7200" />
<Action OrderNumber="8" UseTTSTextExpression="${if: ${v:M7s_钢月3_is右安全} ? 右右右 : 左左左 }" ActionType="UseTTS" />
<Action OrderNumber="9" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: M7s&#xD;&#xA;t: ${v:M7s_钢月3_n} = 1 ? 7.1 : 4.1&#xD;&#xA;O: 100, 5, -200&#xD;&#xA;θ: ${h} + pi&#xD;&#xA;+X: ${v:M7s_钢月3_is右安全}&#xD;&#xA;Pos: -6.5, -20&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 13.5, 40&#xD;&#xA;Color: 1,1,1,1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 跳跃 2 + 释放钢铁月环 2" Id="55c587f6-cb18-4ad4-a1a9-0f8ab4724346" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A5A(?&lt;type&gt;B|C):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${type} == B ? 右侧 : 左侧 }${if: ${v:M7s_钢月3_is先钢} ? 月环 : 钢铁 }，${if: ${v:M7s_钢月3_n} = 1 ? 准备${if: ${v:myIdx_isG1} ? 左侧 : 右侧 }分散 : &quot;&quot; }" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:6.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;t: 6.3&#xD;&#xA;Tag: M7s_钢月3&#xD;&#xA;Pos: ${x}, ${y}, -200&#xD;&#xA;Scale: !0${v:M7s_钢月3_is先钢} ? 25 : 22&#xD;&#xA;Color: ${if: !${v:M7s_钢月3_is先钢} ? ${env:color钢铁} : ${env:color月环} }" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="// 箭头&#xD;&#xA;Omen: e5d1_b1_kblaser_t1&#xD;&#xA;Tag: M7s&#xD;&#xA;t: 6.3&#xD;&#xA;O: 100, 5, -200&#xD;&#xA;θ: θ(100, 5, ${x}, ${y})&#xD;&#xA;+X: ${type} == B&#xD;&#xA;Pos: -20, 0&#xD;&#xA;Angle: 3/4 * π&#xD;&#xA;Scale: 0.5, 20√2&#xD;&#xA;Color: ${if: !${v:M7s_钢月3_is先钢} ? ${env:color钢铁箭头} : ${env:color月环箭头} }" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4.2 结尾（第二次）" Id="6e433805-80ed-4c4d-b29a-db1faf4c0b5d" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A5A(?&lt;type&gt;B|C):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="6600" />
<Action OrderNumber="2" UseTTSTextExpression="踩塔" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" LogMessageText="M7s_waymark:P3" LogProcess="True" ActionType="LogMessage" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M7s_钢月3_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-26 17:59" Id="0eb53d9e-19dc-4157-a1c0-76c73be4b87e" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:57:48.190] StartsCasting 14:40016488:Brute Abombinator:A5A0:Stoneringer 2: Stoneringers:40016488:Brute Abombinator:1.700:99.99:4.99:-200.00:-0.36" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="3" LogMessageText="[12:57:56.342] 263 107:400164A9:A5A3:65.493:5.005:-199.988:1.570" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="15.51 * 1000" />
<Action OrderNumber="5" LogMessageText="[12:58:11.848] 263 107:40016488:A5AC:100.009:-29.511:-199.988:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[12:58:11.848] 263 107:400164A9:A5A5:100.009:-29.511:-199.988:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="5000" />
<Action OrderNumber="8" LogMessageText="[13:00:41.634] StartsCasting 14:40016488:Brute Abombinator:A5A0:Stoneringer 2: Stoneringers:40016488:Brute Abombinator:1.700:99.47:5.87:-200.00:-3.09" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="2000" />
<Action OrderNumber="10" LogMessageText="[13:00:59.688] 263 107:400164A5:A5A5:134.495:5.005:-199.988:-1.571" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="14.44 * 1000" />
<Action OrderNumber="12" LogMessageText="[13:01:14.134] 263 107:40016488:A5AC:100.009:39.491:-199.988:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[13:01:14.134] 263 107:400164A5:A5A3:100.009:39.491:-199.988:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="花点名（P3 橙圈）" Id="fcbba4b0-9b04-4d56-8881-04c9b7dbdfd0" RegularExpression="M7s_橙圈点名:P3:(?&lt;b初始&gt;[01])" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="20000">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b初始} ? 放种子 : 二组 }" ActionType="UseTTS" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${b初始} ? &quot;&quot; : 准备放种子 }" ActionType="UseTTS" ExecutionDelayExpression="11200" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="c1dc8226-e66e-463d-b88e-69fc457bb3d3" Name="小怪石化安全区" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="4. 石化" Id="6e6ca73d-da45-45e7-946a-5b1381ccc3e6" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A575|A52D):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="躲在小怪后" ActionType="UseTTS" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="5000" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Regex: ^M7s_石化_" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" TableVariableName="tmp_entities" ActionType="TableVariable" />
<Action OrderNumber="5" TableVariableName="tmp_boss" ActionType="TableVariable" />
<Action OrderNumber="6" TableVariableName="tmp_花" ActionType="TableVariable" />
<Action OrderNumber="7" VariableName="M7s_石化_loop" ActionType="Variable" />
<Action OrderNumber="8" VariableOp="UnsetRegex" VariableName="^tmp_" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="3. [F] 绘制单个花的安全区" Id="76a6cfce-ee82-4c87-8c52-14b9f6f69a2c" RegularExpression="^M7s_石化:boss:(?&lt;xBoss&gt;[^:]+):(?&lt;yBoss&gt;[^:]+):(?&lt;z&gt;[^:]+):花(?&lt;idx&gt;[1-4]):(?&lt;id&gt;.{8}):(?&lt;x花&gt;[^:]+):(?&lt;y花&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="绘制三条边缘：boss 中心到花 (r = 3.4) 目标圈的两条切线作为左右边缘；过花中心、垂直于 [boss 到花方向] 的线作为前边缘" DescriptionOverride="True" />
<Action OrderNumber="1" ActionType="Placeholder" Description="首先求 boss 到花距离 d、角度 θ、前边缘的半长度 l" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_d_${id}" VariableExpression="distance(${xBoss}, ${yBoss}, ${x花}, ${y花})" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_θ_${id}" VariableExpression="θ(${xBoss}, ${yBoss}, ${x花}, ${y花})" ActionType="Variable" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="tmp_l_${id}" VariableExpression="${v:tmp_d_${id}} * 3.4 / √(${v:tmp_d_${id}} ^ 2 - 3.4 ^ 2)" ActionType="Variable">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_d_${id}}" ExpressionTypeL="String" ExpressionR="3.5" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="tmp_l_${id}" VariableExpression="20" ActionType="Variable">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_d_${id}}" ExpressionTypeL="String" ExpressionR="3.5" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Action>
<Action OrderNumber="6" ActionType="Placeholder" Description="以花为中心，boss 到花为北建立相对参考系画图" DescriptionOverride="True" />
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Tag: M7s_石化_${id}_右边缘&#xD;&#xA;O: ${x花}, ${y花}, ${z}&#xD;&#xA;θ: ${v:tmp_θ_${id}}&#xD;&#xA;Pos: -${v:tmp_l_${id}}, 0, 0&#xD;&#xA;Angle: π + arcsin(3.4 / max(${v:tmp_d_${id}}, 3.4))&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Tag: M7s_石化_${id}_左边缘&#xD;&#xA;O: ${x花}, ${y花}, ${z}&#xD;&#xA;θ: ${v:tmp_θ_${id}}&#xD;&#xA;Pos: ${v:tmp_l_${id}}, 0, 0&#xD;&#xA;Angle: π - arcsin(3.4 / max(${v:tmp_d_${id}}, 3.4))&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Tag: M7s_石化_${id}_前边缘&#xD;&#xA;O: ${x花}, ${y花}, ${z}&#xD;&#xA;θ: ${v:tmp_θ_${id}}&#xD;&#xA;Pos: -${v:tmp_l_${id}}, 0, 0&#xD;&#xA;Angle: π/2&#xD;&#xA;Scale: 0.05, 2 * ${v:tmp_l_${id}}, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="8" NamedCallbackName="command" NamedCallbackParam="/e 3. 小怪${id}" Enabled="False" ActionType="NamedCallback" DescBgColor="fdd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="2. 触发循环 =&gt; 3" Id="908811b2-edd8-4bcd-bad4-04ddca110eab" RegularExpression="^_M7s_石化_loop" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M7s_石化_loop" VariableExpression="1" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="command" NamedCallbackParam="/e 2. 循环" Enabled="False" ActionType="NamedCallback" DescBgColor="fdd" />
<Action OrderNumber="3" LoopDelayExpression="20" ActionType="Loop" DescBgColor="ffd">
<LoopCondition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M7s_石化_loop}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="false" ExpressionL="${_me.InCombat}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</LoopCondition>
<LoopActions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="获取花、自身、boss的位置 (bnpcid 第一个是零式 第二个是普通 第三个是用于测试的吉祥天女歼灭战)" DescriptionOverride="True" />
<Action OrderNumber="2" TableVariableOp="GetAllEntities" TableVariableName="tmp_entities" TableVariableX="ID, BNpcID, X, Y, Z" ActionType="TableVariable" />
<Action OrderNumber="3" TableVariableOp="FilterLine" TableVariableName="tmp_entities" TableVariableTarget="tmp_boss" TableVariableY="${_row[2]} == 18307 || ${_row[2]} == 18305 || ${_row[2]} == 7712" ActionType="TableVariable" />
<Action OrderNumber="4" TableVariableOp="FilterLine" TableVariableName="tmp_entities" TableVariableTarget="tmp_花" TableVariableY="${_row[2]} == 18308 || ${_row[2]} == 18306 || ${_row[2]} == 7714" ActionType="TableVariable" />
<Action OrderNumber="5" TableVariableOp="SortLine" TableVariableName="tmp_花" TableVariableY="n+: 0x${_row[1]}" ActionType="TableVariable" />
<Action OrderNumber="6" LogMessageText="M7s_石化:boss:${t:tmp_boss.hjoin(&quot;:&quot;, &quot;:&quot;, &quot;3,4,5&quot;, 1)}:花1:${t:tmp_花.hjoin(&quot;:&quot;, &quot;:&quot;, &quot;1,3,4&quot;, 1)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="7" LogMessageText="M7s_石化:boss:${t:tmp_boss.hjoin(&quot;:&quot;, &quot;:&quot;, &quot;3,4,5&quot;, 1)}:花2:${t:tmp_花.hjoin(&quot;:&quot;, &quot;:&quot;, &quot;1,3,4&quot;, 2)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="8" LogMessageText="M7s_石化:boss:${t:tmp_boss.hjoin(&quot;:&quot;, &quot;:&quot;, &quot;3,4,5&quot;, 1)}:花3:${t:tmp_花.hjoin(&quot;:&quot;, &quot;:&quot;, &quot;1,3,4&quot;, 3)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="9" LogMessageText="M7s_石化:boss:${t:tmp_boss.hjoin(&quot;:&quot;, &quot;:&quot;, &quot;3,4,5&quot;, 1)}:花4:${t:tmp_花.hjoin(&quot;:&quot;, &quot;:&quot;, &quot;1,3,4&quot;, 4)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" DescBgColor="ffd" />
<Action OrderNumber="10" NamedCallbackName="command" NamedCallbackParam="/e 2. 循环 ${_sincems}" Enabled="False" ActionType="NamedCallback" DescBgColor="fdd" />
</LoopActions>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="1. 生成小怪 =&gt; 2" Id="924d3b2a-30e6-474b-b843-cacb7b4d3bed" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}(?&lt;bnpcid&gt;1830[68]|7714):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="18308:零式小怪 18306:普通小怪 7714:吉祥天女歼灭战（调试用）" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="${_entity[${id}].y} &gt; 80 ? 30000 : 12000" />
<Action OrderNumber="3" NamedCallbackName="command" NamedCallbackParam="/e 1. 小怪${id}" Enabled="False" ActionType="NamedCallback" DescBgColor="fdd" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m0372_stlight01j&#xD;&#xA;Tag: M7s_石化_${id}_右边缘&#xD;&#xA;Scale: 0.05, 30, 1&#xD;&#xA;---&#xD;&#xA;Omen: m0372_stlight01j&#xD;&#xA;Tag: M7s_石化_${id}_左边缘&#xD;&#xA;Scale: 0.05, 30, 1&#xD;&#xA;---&#xD;&#xA;Omen: m0372_stlight01j&#xD;&#xA;Tag: M7s_石化_${id}_前边缘" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M7s_石化_${id}_&#xD;&#xA;Color: ${if: 0x${id} % 2 ? 0, 2, 4, 3 : 0, 3, 0, 3 } " ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="6" LogMessageText="_M7s_石化_loop" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="b3339f32-8d24-467b-b2bf-5e9c8828e9ae" Name="连线 debuff 层数范围" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 销毁" Id="c0b01f4d-52b2-4c64-a531-e36405b1253b" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;type&gt;A588|A596|A5B0):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Regex: ^M7s_荆棘" ActionType="NamedCallback" ExecutionDelayExpression="${?d: A588 = 24600, A596 = 57400, A5B0 = 59400 [${type}]}" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 连线" Id="50f97e8b-26e7-497c-9b27-48d757b0b2da" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;0145|0152)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M7s_荆棘_12&#xD;&#xA;Scale: 20 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.1, 0.5&#xD;&#xA;---&#xD;&#xA;Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M7s_荆棘_23&#xD;&#xA;Scale: 23 * 1.09&#xD;&#xA;Color: 0.8, 1.5, 0, 0.5&#xD;&#xA;---&#xD;&#xA;Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M7s_荆棘_34&#xD;&#xA;Scale: 26 * 1.09&#xD;&#xA;Color: 1, 0.5, 0, 0.5&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M7s_荆棘&#xD;&#xA;Pos: ${_entity[${sid}].x, y}, round(${_entity[${sid}].z})" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="注册小队：自身" Id="d52a7dfe-7928-437e-9ae8-d604d64c40dd" RegularExpression="^.{15}\S+ 01:(?&lt;zoneid&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="PartyList:Register:${env:zone}:Self" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${zoneid}" ExpressionTypeL="Numeric" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1263$" Id="1e2249bb-6d96-48be-9107-d4f961730a73" Name="M8s v1.1.2" Enabled="true" RawEnvironmentVariables="zone = 1263">
<Folders>
<Folder Id="8511270f-4672-42dd-a3b1-f61b0e0fc9f4" Name="杂项" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="AoE Extraplanar Pursuit" Id="5e5321c8-d02f-428d-8a8b-d2a6a12a58b8" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A74F):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="分摊死刑 Great Divide" Id="c99004b0-faf0-44c6-9a79-50cf2cc2ab45" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3D8):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="分摊死刑" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="分摊 Heavensearth" Id="3ef3d6c1-42d6-4bbe-9371-fc8669378313" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3C0):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="分摊" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="多段分摊 Tracking Tremors" Id="59428271-b1b6-4f28-a29e-97fa67c6c97f" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3B9):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="多段分摊" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="临时" Id="20a7a56f-c1cc-45ac-a9fa-3b723d7816ce" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A45A|A4CD):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d:&#xD;&#xA;  A45A = 双分摊,&#xD;&#xA;  A4CD = 双死刑&#xD;&#xA;  [${aid}]&#xD;&#xA;}&#xD;&#xA;" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="狂暴碎平台" Id="8d4a3934-001d-45b9-91d2-a335ba9b6e9d" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A74D:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="传送" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="distance(${_me.x, y}, ${x}, ${y})" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="本体时间轴" Id="65583979-2f3d-4cab-b83b-95f5be60b2a4" RegularExpression="^.{15}\S+ 28:994:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：本体存在（否则战斗胜利还会有一次）" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="SetCameraParams" NamedCallbackParam="AngleH = π&#xD;&#xA;AngleV = -30°&#xD;&#xA;Distance = 20" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="3" LogMessageText="cd5:18.45" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="C: 100, 100 + 17.5, -150" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="第一套技能" DescriptionOverride="True" />
<Action OrderNumber="6" UseTTSTextExpression="${if: ${v:myIdx_isG1} ? 左 : 右}侧平台，四人分摊" UseTTSExclusive="False" ActionType="UseTTS" ExecutionDelayExpression="14450" />
<Action OrderNumber="7" NamedCallbackName="SetObjectScale" NamedCallbackParam="${_entity[bnpcid = 18222].Address}, 0.5" ActionType="NamedCallback" DescTextColor="26f" />
<Action OrderNumber="8" UseTTSTextExpression="蓝圈站位" ActionType="UseTTS" ExecutionDelayExpression="17000" />
<Action OrderNumber="9" UseTTSTextExpression="${if: ${_me.IsT} ? 双T死刑 : 死刑，回到初始平台 }" ActionType="UseTTS" ExecutionDelayExpression="12000" />
<Action OrderNumber="10" UseTTSTextExpression="${if: ${_me.IsT} ? 回到初始平台 : &quot;&quot; }" ActionType="UseTTS" ExecutionDelayExpression="11000" />
<Action OrderNumber="11" ActionType="Placeholder" Asynchronous="False" Description="第二套技能" DescriptionOverride="True" />
<Action OrderNumber="12" UseTTSTextExpression="${if: ${v:myIdx_isG1} ? 左 : 右}侧蓝圈站位" ActionType="UseTTS" ExecutionDelayExpression="11500" />
<Action OrderNumber="13" UseTTSTextExpression="${if: ${v:myIdx_isG1} ? 左 : 右}侧平台，四人分摊" ActionType="UseTTS" ExecutionDelayExpression="11000" />
<Action OrderNumber="14" UseTTSTextExpression="前方集合引导，碎平台" ActionType="UseTTS" ExecutionDelayExpression="11000" />
<Action OrderNumber="15" ActionType="Placeholder" Asynchronous="False" Description="死刑刀 + 传线" DescriptionOverride="True" />
<Action OrderNumber="16" UseTTSTextExpression="躲开，去${if: ${_me.isT} ? ${if: ${v:myIdx_isG1} ? 左 : 右}侧 : 背后 }" ActionType="UseTTS" ExecutionDelayExpression="8000" />
<Action OrderNumber="17" UseTTSTextExpression="踩塔站位" ActionType="UseTTS" ExecutionDelayExpression="17500" />
<Action OrderNumber="18" UseTTSTextExpression="准备接线" ActionType="UseTTS" ExecutionDelayExpression="15000" />
<Action OrderNumber="19" ActionType="Placeholder" Asynchronous="False" Description="第三套技能" DescriptionOverride="True" />
<Action OrderNumber="20" UseTTSTextExpression="${if: ${v:myIdx_isG1} ? 左 : 右}侧平台，四人分摊" ActionType="UseTTS" ExecutionDelayExpression="74000" />
<Action OrderNumber="21" UseTTSTextExpression="蓝圈站位" ActionType="UseTTS" ExecutionDelayExpression="10000" />
<Action OrderNumber="22" UseTTSTextExpression="${if: ${_me.IsT} ? 双T死刑 : 死刑，回到初始平台 }" ActionType="UseTTS" ExecutionDelayExpression="14000" />
<Action OrderNumber="23" ActionType="Placeholder" Asynchronous="False" Description="远近线" DescriptionOverride="True" />
<Action OrderNumber="24" UseTTSTextExpression="拉线站位，去${?l: 左后, 左后, 下南, 下南, 右前, 右前, 右前, 右前 [${v:myIdx}]}" ActionType="UseTTS" ExecutionDelayExpression="11000" />
<Action OrderNumber="25" UseTTSTextExpression="准备半场刀" ActionType="UseTTS" ExecutionDelayExpression="39000" />
<Action OrderNumber="26" UseTTSTextExpression="${?d: &#xD;&#xA;  0 = 原地,&#xD;&#xA;  1 = 右侧，一次,&#xD;&#xA;  2 = 稍后右侧，两次,&#xD;&#xA;  3 = 稍后左侧，两次,&#xD;&#xA;  4 = 左侧，一次&#xD;&#xA;  [${n: (roundir(${_entity[bnpcid = 18222].h}, -5) + (${v:myIdx_isG1} ? -1 : 1) - roundvec(${_me.x} - 100, ${_me.y} - 100, -5)) %% 5}]&#xD;&#xA;}" ActionType="UseTTS" ExecutionDelayExpression="9000" />
<Action OrderNumber="27" UseTTSTextExpression="狂暴塔，${?d: &#xD;&#xA;  0 = 原地,&#xD;&#xA;  1 = 去右侧，一次,&#xD;&#xA;  2 = 去右侧，两次,&#xD;&#xA;  3 = 去左侧，两次,&#xD;&#xA;  4 = 去左侧，一次&#xD;&#xA;  [${n: (roundir(${_entity[bnpcid = 18222].h}, -5) - roundvec(${_me.x} - 100, ${_me.y} - 100, -5)) %% 5}]&#xD;&#xA;}" ActionType="UseTTS" ExecutionDelayExpression="13000" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_entity[bnpcid=18222].Exist}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="劈刀死刑" Id="b1a6ad29-42d9-482a-acc8-86a91d65aae2" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:0017:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：tgt.isT" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="自己是 T：" DescriptionOverride="True" />
<Action OrderNumber="3" UseTTSTextExpression="${if: 0x${tid} = 0x${_me.id} ? 退避 : 挑衅 }，死刑" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="自己不是 T：" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="tmp_dirN5_T" VariableExpression="roundvec(${_entity[${tid}].x} - 100, ${_entity[${tid}].y} - 100, -5)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" VariableOp="SetNumeric" VariableName="tmp_dirN5_me" VariableExpression="roundvec(${_me.x} - 100, ${_me.y} - 100, -5)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" UseTTSTextExpression="${if: (${v:tmp_dirN5_T} - ${v:tmp_dirN5_me}) %% 5 %% 3 = 1 ? 原地分摊 : 换平台，分摊 }" ActionType="UseTTS" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" LogMessageText="M8s_指平台_omen:${?d:&#xD;&#xA;  0 = ${n: ${v:tmp_dirN5_T} = 1 ? 0 : 4},&#xD;&#xA;  1 = ${v:tmp_dirN5_me},&#xD;&#xA;  2 = ${n: (${v:tmp_dirN5_me} + 1) %% 5},&#xD;&#xA;  3 = ${n: (${v:tmp_dirN5_me} - 1) %% 5},&#xD;&#xA;  4 = ${v:tmp_dirN5_me}&#xD;&#xA;  [${n: (${v:tmp_dirN5_T} - ${v:tmp_dirN5_me}) %% 5}]&#xD;&#xA;}:8" LogProcess="True" ActionType="LogMessage" Asynchronous="False" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" VariableName="tmp_dirN5_T" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="10" VariableName="tmp_dirN5_me" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="45bc8a54-da4b-4104-9d56-7f49948520d2" Name="C. 千年风蚀 Millennial Decay" Enabled="true" RawEnvironmentVariables="phase = Millennial Decay">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始 AoE" Id="8d224e2b-3432-404b-83e2-692f15b32f39" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3B2):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE，${?l: 左上, 右上, 左下, 右下, 左下, 右下, 左上, 右上 [${v:myIdx}]}预站位" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M8s_MD" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取龙头 =&gt; 2" Id="dcf05a65-a81c-4169-bbe7-daca072dc1bb" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18218:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" LogProcess="True" ActionType="Placeholder" Description="phase " DescriptionOverride="True" />
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M8s_MD_头_h" ListVariableExpression="${id}${h}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="_M8s_MD_头" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_MD_头_h.size}" ExpressionTypeL="String" ExpressionR="9" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 处理龙头" Id="2ae31caf-14fd-44c9-8577-9926a3709dab" RegularExpression="^_M8s_MD_头">
<Actions>
<Action OrderNumber="1" ListVariableOp="SortAlphaDesc" ListVariableName="M8s_MD_头_h" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" ListVariableOp="SetAll" ListVariableName="M8s_MD_头_h" ListVariableExpression="${f:substring(8):${_this}}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M8s_MD_is顺" VariableExpression="relθ(${l:M8s_MD_头_h[1]}, ${l:M8s_MD_头_h[2]}) &lt; 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M8s_MD_is线正" VariableExpression="roundir(${l:M8s_MD_头_h[-1]}, 8) % 2 = 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" LogMessageText="M8s_MD_头:is顺:${v:M8s_MD_is顺}:is线正:${v:M8s_MD_is线正}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" UseTTSTextExpression="${if: ${v:M8s_MD_is顺} ? 顺时针 : 逆时针 }" ActionType="UseTTS" />
<Action OrderNumber="7" UseTTSTextExpression="防击退" ActionType="UseTTS" ExecutionDelayExpression="4500" />
<Action OrderNumber="8" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[bnpcid = 18215].Address}, ${if: ${v:M8s_MD_is顺} ? m0515_turning_right01c : m0515_turning_left01c }" ActionType="NamedCallback" ExecutionDelayExpression="2500" />
<Action OrderNumber="9" UseTTSTextExpression="${if: ${v:M8s_MD_is顺} ? 左顺 : 右逆 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="5. 获取连线 =&gt; 6" Id="f2e46cdf-e4dd-40e5-8ff3-cef09cbbef5b" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;0039|0001)">
<Actions>
<Action OrderNumber="1" LogProcess="True" ActionType="Placeholder" Description="phase " DescriptionOverride="True" />
<Action OrderNumber="2" LogProcess="True" ActionType="Placeholder" Description="0039 近   0001 拉远" DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="tmp_recorded" VariableExpression="${l:M8s_MD_线_tid.contain(${tid})}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogProcess="True" ActionType="Placeholder" Description="是自身：输出" DescriptionOverride="True" />
<Action OrderNumber="5" LogMessageText="M8s_MD_自线:dir8:${n: roundir(${_entity[${sid}].Heading}, 8)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_recorded}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" LogProcess="True" ActionType="Placeholder" Description="四次均不是自身：输出" DescriptionOverride="True" />
<Action OrderNumber="7" ListVariableOp="Push" ListVariableName="M8s_MD_线_tid" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_recorded}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" LogMessageText="M8s_MD_线_自塔:is正:${n: !${v:M8s_MD_is线正}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_recorded}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_MD_线_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_MD_线_tid.contain(${_me.id})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="9" VariableName="tmp_recorded" ActionType="Variable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_MD_线_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericLess" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="6.1 拉线" Id="fa59a45f-6ca5-45ed-adc8-be5d9bac430c" RegularExpression="^M8s_MD_自线:dir8:(?&lt;dir8&gt;[0-7])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="拉线，${f:pick(${dir8}):上北, 左上, 左西, 左下, 下南, 右下, 右东, 右上}" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="Action: linear&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dir8}, 8)&#xD;&#xA;Start: 0, -2.25&#xD;&#xA;End: 0, -10.75&#xD;&#xA;Waymarks: ABCD&#xD;&#xA;---&#xD;&#xA;1: fakeclear&#xD;&#xA;2: fakeclear&#xD;&#xA;3: fakeclear&#xD;&#xA;4: fakeclear" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="7200" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="6.2 踩塔" Id="36da8382-6559-4ff3-92d6-437b44e0e31b" RegularExpression="^M8s_MD_线_自塔:is正:(?&lt;is正&gt;0|1)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${is正} ? 正点踩塔 : 斜点踩塔 }" ActionType="UseTTS" />
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="Action: linear&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${?l: 0, 6, 2, 4, 2, 4, 0, 6 [${v:myIdx}]} + (${is正} ? 0 : 1), 8)&#xD;&#xA;Start: 0, -2&#xD;&#xA;End: 0, -10&#xD;&#xA;Waymarks: ABCD&#xD;&#xA;---&#xD;&#xA;1: fakeclear&#xD;&#xA;2: fakeclear&#xD;&#xA;3: fakeclear&#xD;&#xA;4: fakeclear" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="7200" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-06 19:41" Id="16b32c3c-6837-4148-a5e9-ee7328538577">
<Actions>
<Action OrderNumber="1" LogMessageText="[15:01:56.030] StartsCasting 14:40020188:Howling Blade:A3B2:_rsv_41906_-1_1_0_0_SE2DC5B04_EE2DC5B04:40020188:Howling Blade:4.700:99.99:99.99:0.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="5.00 * 1000" />
<Action OrderNumber="3" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:40020173:Wolf of Wind:13846:18218:100.0000:112.0000:0.0000:3.1414" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:40020172:Wolf of Wind:13846:18218:107.0534:109.7082:0.0000:-2.5133" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:40020171:Wolf of Wind:13846:18218:111.4127:103.7082:0.0000:-1.8850" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:4002016F:Wolf of Wind:13846:18218:107.0534:90.2918:0.0000:-0.6284" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:40020170:Wolf of Wind:13846:18218:111.4127:96.2918:0.0000:-1.2567" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:4002016E:Wolf of Wind:13846:18218:100.0000:92.0000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:4002016D:Wolf of Wind:13846:18218:108.0000:99.9972:0.0000:-1.5705" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:4002016C:Wolf of Wind:13846:18218:100.0000:108.0000:0.0000:3.1414" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[15:02:01.029] _ActorSetPos AAA:10F:4002016B:Wolf of Wind:13846:18218:92.0000:99.9972:0.0000:1.5703" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="21.65 * 1000" />
<Action OrderNumber="13" LogMessageText="[15:02:22.683] Tether 23:4002016E:Wolf of Wind:${l:party[2]}:队员:0000:0000:0039:${l:party[2]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[15:02:22.683] Tether 23:4002016D:Wolf of Wind:${l:party[1]}:队员:0000:0000:0039:${l:party[1]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[15:02:22.683] Tether 23:4002016C:Wolf of Wind:${l:party[3]}:队员:0000:0000:0039:${l:party[3]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[15:02:22.683] Tether 23:4002016B:Wolf of Wind:${l:party[4]}:队员:0000:0000:0039:${l:party[4]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" ActionType="Placeholder" ExecutionDelayExpression="5.66 * 1000" />
<Action OrderNumber="18" LogMessageText="[15:02:28.338] Tether 23:4002016D:Wolf of Wind:${l:party[1]}:队员:0000:0000:0001:${l:party[1]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="[15:02:28.382] Tether 23:4002016E:Wolf of Wind:${l:party[2]}:队员:0000:0000:0001:${l:party[2]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" LogMessageText="[15:02:28.427] Tether 23:4002016C:Wolf of Wind:${l:party[3]}:队员:0000:0000:0001:${l:party[3]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" ActionType="Placeholder" ExecutionDelayExpression="0.22 * 1000" />
<Action OrderNumber="22" LogMessageText="[15:02:28.560] Tether 23:4002016B:Wolf of Wind:${l:party[4]}:队员:0000:0000:0001:${l:party[4]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="24" LogMessageText="[15:02:29.006] Tether 23:4002016E:Wolf of Wind:${l:party[5]}:队员:0000:0000:0039:${l:party[5]}:000F:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="取消特效" Id="751a08e9-f870-43f6-8388-abd32c9bb7f6" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:A3B3:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Redraw" NamedCallbackParam="${_entity[${tid}].Address}" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="龙头范围" Id="a2656393-3f35-4d57-a33f-58b98fcd5714" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A3B4:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M8s_MD_直线读条_n" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: M8s&#xD;&#xA;Delay: ${v:M8s_MD_直线读条_n} = 1 ? 0 : 5.5&#xD;&#xA;t: ${v:M8s_MD_直线读条_n} = 1 ? 7.6 : 2.1&#xD;&#xA;Scale: 4, 40&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Angle: ${h}" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 龙头" Id="e8f4b3c5-703c-47ca-bab7-414a0fd5634a" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[23:59:30.614] 263 107:40020AAC:A3B4:100.009:88.015:0.000:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.01 * 1000" />
<Action OrderNumber="3" LogMessageText="[23:59:32.624] 263 107:40020AAB:A3B4:107.059:90.304:0.000:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="2.01 * 1000" />
<Action OrderNumber="5" LogMessageText="[23:59:34.633] 263 107:40020AAA:A3B4:111.423:96.286:0.000:-1.257" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="2.01 * 1000" />
<Action OrderNumber="7" LogMessageText="[23:59:36.642] 263 107:40020AA9:A3B4:111.423:103.702:0.000:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="9" LogMessageText="[23:59:38.648] 263 107:40020AA8:A3B4:107.059:109.714:0.000:-2.513" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4. 播报风圈点名" Id="fc52f52a-1713-4a55-b924-0660eb697f5b" RegularExpression="^M8s_MD_点名:(?&lt;b点名&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b点名} ? 风圈点名 : 躲开风圈 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 风圈点名 =&gt; 4" Id="bc1f0e43-80af-4ab9-91fe-ecb488005e59" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:0178:">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M8s_MD_点名" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M8s_MD_点名:${l:M8s_MD_点名.contain(${_me.id})}" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_MD_点名.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ListVariableName="M8s_MD_点名" ActionType="ListVariable" ExecutionDelayExpression="1000" Asynchronous="False" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="5dcfae3b-d533-49f0-bbfc-e8c80e41d712" Name="D. 柱子" Enabled="true" RawEnvironmentVariables="phase = Terrestrial Titans">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 获取柱子" Id="93c1c53d-241c-4f67-8da2-2b979ac083c8" RegularExpression="^.{15}\S+ 101:[^:]*:(?&lt;facing&gt;0002|0080).{4}:(?&lt;loc&gt;1[02])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="0002：面向中心偏右倒  0080：偏左倒     10-13：右左上下柱子" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M8s_柱_is沿主斜" VariableExpression="(0x${facing} = 0x2) = (0x${loc} = 0x10)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" UseTTSTextExpression="${if: ${v:M8s_柱_is沿主斜} ? 右上左下 : 左上右下 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="播报" Id="3191131f-66d1-4c95-b6ea-3f574f7b9c93" RegularExpression="^M8s_柱:dir4:(?&lt;dir4&gt;[0-3]):is相对主斜:(?&lt;is相对主斜&gt;0|1)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${n: (${dir4} - ${is相对主斜}) %% 4 }): 左上, 左下, 右下, 右上 }" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:5.95" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#xD;&#xA;θ: dir2rad(${dir4}, 4)&#xD;&#xA;ScaleX: ${is相对主斜} ? 1 : -1&#xD;&#xA;1: 0, 0&#xD;&#xA;2: 2, -2&#xD;&#xA;3: 4, -4&#xD;&#xA;4: fakeclear&#xD;&#xA;A: 7.28, -8.56&#xD;&#xA;B: 8.68, -7.16&#xD;&#xA;C: 10.09, -5.75&#xD;&#xA;D: 11.49, -4.35" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="5950" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 获取激光" Id="bcfcf4b9-838a-432f-a109-c4a59c89ac9a" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18221:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):-?(0.7|2.3)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_柱_X_dir4" VariableExpression="roundvec(${x} - 100, ${y} - 100, 4)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M8s_柱_is相对X沿主斜" VariableExpression="(${v:M8s_柱_X_dir4} % 2 = 0) = ${v:M8s_柱_is沿主斜}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M8s_柱:dir4:${v:M8s_柱_X_dir4}:is相对主斜:${v:M8s_柱_is相对X沿主斜}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-06 23:51" Id="7d612736-32d8-4838-96c9-35073df840b6">
<Actions>
<Action OrderNumber="1" LogMessageText="[21:20:58.322] 257 101:800375C8:00020001:12::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.91 * 1000" />
<Action OrderNumber="3" LogMessageText="[21:21:07.051] _ActorSetPos AAA:10F:40021A73:Gleaming Fang:13850:18221:108.0000:100.0000:0.0000:-0.7855" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 柱子 Terrestrial Titans" Id="2e60ed57-567f-433f-9004-d43b9425ade6" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3C4):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="柱子" ActionType="UseTTS" />
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M8s_柱子" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="a57e86c0-dd9e-4405-96d4-0b98c63364b1" Name="F. Terrestrial Rage" Enabled="true" RawEnvironmentVariables="phase = Terrestrial Rage">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="3. 五分身安全区" Id="ffd6b5ba-47a0-4317-b05e-054b3077eca3" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18216:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：面向 dir10 = 0 或 1（防止重复）" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen:Rect&#xD;&#xA;t: 2.8&#xD;&#xA;Pos: ${x}, ${y}, ${z}&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 4, 24" Enabled="False" ActionType="NamedCallback" DescBgColor="fdd" />
<Action OrderNumber="3" NamedCallbackName="SetObjectScale" NamedCallbackParam="${_entity[${id}].Address}, 0.3" ActionType="NamedCallback" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Regex: ^M8s_TR_分身1&#xD;&#xA;Action: Change&#xD;&#xA;// 指向 dir5 方向顺时针偏 0.25 ，即可能的两个安全区之间&#xD;&#xA;θ: dir2rad((${v:M8s_TR_b自散} ? 0 : ${?l: 1,4,2,3,2,3,1,4[${v:myIdx}]}), 5) - (roundir(${h}, 10) = 0 ? π/5 : 0) " ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="roundir(${h}, 10)" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="roundir(${h}, 10)" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Regex: ^M8s_TR_分身1&#xD;&#xA;Action: Remove" ActionType="NamedCallback" ExecutionDelayExpression="2800" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="roundir(${h}, 10)" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="roundir(${h}, 10)" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="画第二次的条件：第二次的安全区在自己附近" DescriptionOverride="True" />
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Triangulate&#xD;&#xA;Tag: M8s_TR_分身2&#xD;&#xA;t: 4.1&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: ${h}&#xD;&#xA;Points: -1.05,-8.25; 1.05,-8.25; 3.77,-12; 0,-12; -3.77,-12&#xD;&#xA;Color: 0, 1, 10, 3" Enabled="False" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="abs( relθ( ${h}, θ(100, 100, ${_me.xy}) ) )" ExpressionTypeL="Numeric" ExpressionR="π/2" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
</Condition>
</Action>
<Action OrderNumber="8" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: M8s_TR_分身2&#xD;&#xA;t: 4.1&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;θ: ${h}&#xD;&#xA;Pos: 0, -10.31&#xD;&#xA;Scale: 10.31 - 8.25&#xD;&#xA;Color: 0, 1, 10, 1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(distance(100, 100, 0, ${x}, ${y}, ${z}), 1)" ExpressionTypeL="Numeric" ExpressionR="7.5" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="黄头矩形" Id="fb6f10ca-fe64-4803-9f7d-9f39baa32f25" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18507:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="phase" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2300" />
<Action OrderNumber="3" NamedCallbackName="Omen" NamedCallbackParam="general02f, 2.8, ${x}, ${y}, ${z}, ${h}, 3, 40" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="99f86437-b7be-4526-85a6-c7faa93c4f1e" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A3CB:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="用的是小怪阶段结束，因为 TR 读条有两次，且第二次在 moonlight 后" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" UseTTSTextExpression="AoE" ActionType="UseTTS" />
<Action OrderNumber="4" VariableOp="UnsetRegexUniversal" VariableName="^M8s_TR" ActionType="Variable" />
<Action OrderNumber="5" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取分散点名" Id="62e4f5f9-9a42-40ce-8940-7d050b36824c" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:008B:">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M8s_TR_散_tid" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M8s_TR_散:b自散:${l:M8s_TR_散_tid.contain(${_me.id})}:tid:${l:M8s_TR_散_tid.join(:)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_TR_散_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ListVariableName="M8s_TR_散_tid" ActionType="ListVariable" ExecutionDelayExpression="1000" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 处理分散点名" Id="5154203c-8a3d-4521-ab0c-1d5e2277d83c" RegularExpression="^M8s_TR_散:b自散:(?&lt;b自散&gt;0|1)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="10000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase, 冷却" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="M8s_TR_b自散" VariableExpression="${b自散}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="cd5:5" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" UseTTSTextExpression="${if: ${b自散} ? ${?l:&#xD;&#xA;  上北, 右东, 左西, 下南, &#xD;&#xA;  左西, 下南, 上北, 右东&#xD;&#xA;  [${v:myIdx}]&#xD;&#xA;}分散 : 中心分摊 }" ActionType="UseTTS" />
<Action OrderNumber="5" UseTTSTextExpression="穿" ActionType="UseTTS" ExecutionDelayExpression="3100" />
<Action OrderNumber="6" UseTTSTextExpression="${if: ${b自散} ? 上偏右分摊 : ${?l:&#xD;&#xA;  左上, 右侧, 左下, 下偏右, &#xD;&#xA;  左下, 下偏右, 左上, 右侧&#xD;&#xA;  [${v:myIdx}]&#xD;&#xA;}分散 }" ActionType="UseTTS" ExecutionDelayExpression="1900" />
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Tag: M8s_TR_分身1_安全区&#xD;&#xA;Action: Triangulate&#xD;&#xA;// 指向 dir5 方向顺时针偏 0.25 ，即可能的两个安全区之间&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;θ: dir2rad((${b自散} ? 0 : ${?l: 1,4,2,3,2,3,1,4[${v:myIdx}]}) - 0.25, 5)&#xD;&#xA;Points: -0.5,-7.5; 0.5,-7.5; 3.77,-12; 0,-12; -3.77,-12&#xD;&#xA;Color: 0, 1, 10, 3&#xD;&#xA;---&#xD;&#xA;Tag: M8s_TR_分身1_箭头&#xD;&#xA;// 箭头&#xD;&#xA;Omen: e5d1_b1_kblaser_t1&#xD;&#xA;O: 100, 100, 0&#xD;&#xA;θ: dir2rad((${b自散} ? 0 : ${?l: 1,4,2,3,2,3,1,4[${v:myIdx}]}) - 0.25, 5)&#xD;&#xA;Scale: 0.5, 7.5&#xD;&#xA;Color: 0, 1.5, 15, 3" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="8" UseTTSTextExpression="躲开" ActionType="UseTTS" ExecutionDelayExpression="6800" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-07-06 16:14" Id="d7ddca22-3a58-4f27-93e2-1cd7dc317884" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:30:55.197] StartsCasting 14:4003A494:剑嚎:A3CB:风尘光狼斩:4003A494:剑嚎:7.000:100.00:88.00:0.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="3" LogMessageText="[12:31:20.888] _ActorSetPos AAA:10F:4003A473:光牙:13849:18220:97.8787:97.8787:0.0000:2.3561" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[12:31:20.888] _ActorSetPos AAA:10F:4003A471:光牙:13849:18220:106.3640:106.3640:0.0000:2.3561" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="2.36 * 1000" />
<Action OrderNumber="6" LogMessageText="[12:31:23.250] TargetIcon 1B:${l:party[2]}:队员:0000:0000:008B:${l:party[2]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[12:31:23.250] TargetIcon 1B:${l:party[1]}:队员:0000:0000:008B:${l:party[1]}:0000:0000" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[12:31:23.250] TargetIcon 1B:${l:party[6]}:队员:0000:0000:008B:${l:party[6]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[12:31:23.250] TargetIcon 1B:${l:party[3]}:队员:0000:0000:008B:${l:party[3]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[12:31:23.250] TargetIcon 1B:${l:party[4]}:队员:0000:0000:008B:${l:party[4]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="0.14 * 1000" />
<Action OrderNumber="12" LogMessageText="[12:31:23.384] _ActorSetPos AAA:10F:4003A474:光牙:13849:18220:93.6360:93.6360:0.0000:2.3561" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[12:31:23.384] _ActorSetPos AAA:10F:4003A472:光牙:13849:18220:102.1213:102.1213:0.0000:2.3561" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="6.54 * 1000" />
<Action OrderNumber="15" LogMessageText="[12:31:29.927] TargetIcon 1B:${l:party[5]}:队员:0000:0000:008B:${l:party[5]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[12:31:29.927] TargetIcon 1B:${l:party[2]}:队员:0000:0000:008B:${l:party[2]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[12:31:29.927] TargetIcon 1B:${l:party[7]}:队员:0000:0000:008B:${l:party[7]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[12:31:29.927] TargetIcon 1B:${l:party[8]}:队员:0000:0000:008B:${l:party[8]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="2.27 * 1000" />
<Action OrderNumber="20" LogMessageText="[12:31:32.194] _ActorSetPos AAA:10F:4003A47D:剑嚎:13843:18216:100.0000:107.5000:0.0000:-3.1416" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[12:31:32.194] _ActorSetPos AAA:10F:4003A47C:剑嚎:13843:18216:92.8671:102.3176:0.0000:1.8849" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogMessageText="[12:31:32.194] _ActorSetPos AAA:10F:4003A47B:剑嚎:13843:18216:95.5916:93.9324:0.0000:0.6283" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" LogMessageText="[12:31:32.194] _ActorSetPos AAA:10F:4003A47A:剑嚎:13843:18216:104.4084:93.9324:0.0000:-0.6284" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" LogMessageText="[12:31:32.194] _ActorSetPos AAA:10F:4003A479:剑嚎:13843:18216:107.1329:102.3176:0.0000:-1.8850" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="25" ActionType="Placeholder" ExecutionDelayExpression="7.12 * 1000" />
<Action OrderNumber="26" LogMessageText="[12:31:39.317] _ActorSetPos AAA:10F:4003A47D:剑嚎:13843:18216:100.0000:100.0000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="27" LogMessageText="[12:31:39.317] _ActorSetPos AAA:10F:4003A47C:剑嚎:13843:18216:91.1232:105.1250:0.0000:2.0943" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" LogMessageText="[12:31:39.317] _ActorSetPos AAA:10F:4003A47B:剑嚎:13843:18216:100.0000:89.7500:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="29" ActionType="Placeholder" ExecutionDelayExpression="9.81 * 1000" />
<Action OrderNumber="30" LogMessageText="[12:31:49.125] _ActorSetPos AAA:10F:4003A5AA:土狼首:13847:18507:88.1077:96.5981:0.0000:1.0470" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="31" LogMessageText="[12:31:49.125] _ActorSetPos AAA:10F:4003A5AB:土狼首:13847:18507:94.1077:86.2058:0.0000:1.0470" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="激光器矩形" Id="916adef7-462c-4704-a5f6-263790992c90" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18220:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="两次实体必然镜像对称，为了控制显示时长，只用前两个触发 ，结束后镜像显示第二组对应的" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="Omen" NamedCallbackParam="general_x02f, 5.8, ${x}, ${y}, ${z}, ${h}, 3, 30" ActionType="NamedCallback" />
<Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="4" VariableOp="SetString" VariableName="M8s_双向激光_lock" VariableExpression="1" ActionType="Variable" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="4800" />
<Action OrderNumber="6" NamedCallbackName="Omen" NamedCallbackParam="general_x02f, 2.5, 200 - ${x}, 200 - ${y}, ${z}, ${h}, 3, 30" ActionType="NamedCallback" />
<Action OrderNumber="7" VariableName="M8s_双向激光_lock" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_双向激光_lock}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="07e75ee3-7e62-4588-ae23-d39c876ddc83" Name="I. Hero's Blow 钢铁月环+半场刀" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1.1 获取钢铁月环 =&gt; 2" Id="bf5c488c-5377-4c35-8946-fc0b2b8f591f" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A46[34]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_HB_b钢" VariableExpression="0x${aid} = 0xA463" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M8s_HB_dirN5" VariableExpression="roundir(${h}, -5)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M8s_HB:b钢:${v:M8s_HB_b钢}:b右safe:${v:M8s_HB_b右safe}:dirN5:${v:M8s_HB_dirN5}:myDirN5:${n: roundvec(${_me.x}-100, ${_me.y}-100, -5)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_HB_b钢}${ev:M8s_HB_b右safe}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" VariableOp="UnsetRegexUniversal" VariableName="^M8s_HB" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_HB_b钢}${ev:M8s_HB_b右safe}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1.2 获取左右刀 =&gt; 2" Id="bb0d6976-473e-400d-a876-a3e5bc72942b" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A46[02]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_HB_b右safe" VariableExpression="0x${aid} = 0xA460" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M8s_HB:b钢:${v:M8s_HB_b钢}:b右safe:${v:M8s_HB_b右safe}:dirN5:${v:M8s_HB_dirN5}:myDirN5:${n: roundvec(${_me.x}-100, ${_me.y}-100, -5)}" LogProcess="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_HB_b钢}${ev:M8s_HB_b右safe}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="UnsetRegexUniversal" VariableName="^M8s_HB" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_HB_b钢}${ev:M8s_HB_b右safe}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 安全区" Id="a955ddb6-3721-4648-bb49-d367821740a8" RegularExpression="^M8s_HB:b钢:(?&lt;b钢&gt;[01]):b右safe:(?&lt;b右safe&gt;[01]):dirN5:(?&lt;dirN5&gt;[0-4]):myDirN5:(?&lt;myDirN5&gt;[0-4])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Tag: M8s&#xD;&#xA;t: 6.7&#xD;&#xA;Omen: gl_fan180_6014g2&#xD;&#xA;O: 100, 100, -150&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + π&#xD;&#xA;Scale: 22 * 60/14&#xD;&#xA;Angle: ${b右safe} ? π/2 : -π/2&#xD;&#xA;Color: 0, 1.1, 6, 0.8" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b钢}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Tag: M8s&#xD;&#xA;t: 6.7&#xD;&#xA;Omen: Fan180&#xD;&#xA;O: 100, 100, -150&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + π&#xD;&#xA;Scale: 15&#xD;&#xA;Angle: ${b右safe} ? π/2 : -π/2&#xD;&#xA;Color: 0, 0.8, 6, 2" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b钢}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="// 正面&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;t: 26.3&#xD;&#xA;Tag: M8s_半场刀_正面&#xD;&#xA;O: 100, 100, -150&#xD;&#xA;θ: dir2rad(${dirN5}, -5)&#xD;&#xA;Scale: 0.05, 40, 0&#xD;&#xA;Color: 1, 2, 9, 1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 播报" Id="8b0907a3-b266-4cce-aafd-33f5dd46d5ea" RegularExpression="^M8s_HB:b钢:(?&lt;b钢&gt;[01]):b右safe:(?&lt;b右safe&gt;[01]):dirN5:(?&lt;dirN5&gt;[0-4]):myDirN5:(?&lt;myDirN5&gt;[0-4])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="在正面" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="原地，${if: ${b右safe} ? 右 : 左 }${if: ${b钢} ? 外 : 内 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="在左前/右前，安全侧，是自己的分摊侧" DescriptionOverride="True" />
<Action OrderNumber="4" UseTTSTextExpression="原地，${if: ${b钢} ? 外 : 内 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isG1}" ExpressionTypeL="Numeric" ExpressionR="${b右safe}" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${b右safe}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b右safe}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isG1}" ExpressionTypeL="Numeric" ExpressionR="${b右safe}" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</ConditionGroup>
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="在左前/右前，安全侧，不是自己的分摊侧" DescriptionOverride="True" />
<Action OrderNumber="6" UseTTSTextExpression="${if: ${b右safe} ? 向左传送。右 : 向右传送。左}${if: ${b钢} ? 外 : 内 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isG1}" ExpressionTypeL="Numeric" ExpressionR="${b右safe}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${b右safe}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b右safe}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isG1}" ExpressionTypeL="Numeric" ExpressionR="${b右safe}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="在左前/右前，危险侧" DescriptionOverride="True" />
<Action OrderNumber="8" UseTTSTextExpression="${if: ${b右safe} ? 向右传送。右 : 向左传送。左}${if: ${b钢} ? 外 : 内 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${b右safe}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b右safe}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
</Condition>
</Action>
<Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="在左后/右后，危险侧" DescriptionOverride="True" />
<Action OrderNumber="10" UseTTSTextExpression="${if: ${b右safe} ? 向左传送 : 向右传送}，${if: ${b钢} ? 外 : 内 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${b右safe}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b右safe}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
</Condition>
</Action>
<Action OrderNumber="11" UseTTSTextExpression="原地，${if: ${b钢} ? 外 : 内 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${b右safe}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b右safe}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="(${myDirN5} - ${dirN5}) %% 5" ExpressionTypeL="Numeric" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 面朝右下 月环 左安全" Id="4d5f89a5-0d06-4a3e-9f3d-073f276d9f66" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[00:10:10.956] 263 107:40020C95:A464:100.009:100.009:-148.991:1.257" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[00:10:10.956] 263 107:40020ADA:A462:100.009:100.009:-148.991:2.827" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="fde50409-1138-436a-b52b-b7790bc840a4" Name="B. 群狼剑" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2.2 特效" Id="23ab4b3a-98ff-4644-b571-d835817190db" RegularExpression="^M8s_群狼剑:dir6:(?&lt;dir6&gt;[0-5]):b最终远:(?&lt;b最终远&gt;[01]):b钢铁:(?&lt;b钢铁&gt;[01])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="// 箭头&#xD;&#xA;Omen: x6d2_pk_o0e1&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 6.8&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dir6}, 6)&#xD;&#xA;Scale: 2, 12" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="// boss 边上自己一侧的安全区&#xD;&#xA;Action: Triangulate&#xD;&#xA;Tag: M8s_群狼剑_△&#xD;&#xA;t: 6.8&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir6}, 6)&#xD;&#xA;+X: ${v:myIdx_isG1}&#xD;&#xA;Points: 3.12,-5.125; 4.685,-6.502; 5.685,-8.332; 5.998,-10.393; 9.192,-7.714; 11.277,-4.104; 12,0.002; 10.058,-0.758; 7.974,-0.807; 5.998,-0.139; 5.622,-2.096; 4.626,-3.821; 3.119,-5.125; 7.734,-4.465&#xD;&#xA;Color: 0, 1.2, 6, 1.5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="clear" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="6800" />
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="dir6 = 0-3（初始方向 0 3 4 5）的分身距离场中 7.5，4-5（初始方向 1 2）的距离 7.0，制作组算错数还要人擦屁股 绝了" DescriptionOverride="True" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Tag: M8s_群狼剑_△" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="// 直线&#xD;&#xA;Omen: Rect&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 2.3&#xD;&#xA;O: 100, 100 &#xD;&#xA;θ: dir2rad(0${dir6}, 6)&#xD;&#xA;Pos: 0, -12&#xD;&#xA;Angle: 0&#xD;&#xA;Scale: 5, 28" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="8" NamedCallbackName="PictoACT" NamedCallbackParam="// 扇形&#xD;&#xA;Omen: Fan120&#xD;&#xA;Tag: M8s_群狼剑_扇形&#xD;&#xA;t: 5.3&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir6}, 6) + pi&#xD;&#xA;Pos: 0, 0${b最终远} ? -7.5 : -7.0&#xD;&#xA;Angle: 0&#xD;&#xA;Color: 1, 1, 1, 0.2&#xD;&#xA;Scale: 25&#xD;&#xA;---&#xD;&#xA;Delay: 2&#xD;&#xA;Action: Change&#xD;&#xA;Tag: M8s_群狼剑_扇形&#xD;&#xA;Color: 1, 1, 1, 0.5" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" NamedCallbackName="PictoACT" NamedCallbackParam="// 钢铁&#xD;&#xA;Omen: Circle&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 5.3&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir6}, 6) + pi&#xD;&#xA;Pos: 0, 0${b最终远} ? -7.5 : -7.0&#xD;&#xA;Angle: 0&#xD;&#xA;Color: 1, 1, 1, 0.5&#xD;&#xA;Scale: 14" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="10" NamedCallbackName="PictoACT" NamedCallbackParam="// 四线 扇形&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线T1&#xD;&#xA;Angle: -140°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线H1&#xD;&#xA;Angle: -85°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线H2&#xD;&#xA;Angle: 85°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线T2&#xD;&#xA;Angle: 140°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_群狼剑_线&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir6}, 6) + pi&#xD;&#xA;Pos: 0, 0${b最终远} ? -7.5 : -7.0&#xD;&#xA;Scale: 0.05, 25, 0" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="11" NamedCallbackName="PictoACT" NamedCallbackParam="// 四线 钢铁&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线T1&#xD;&#xA;Angle: -52°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线H1&#xD;&#xA;Angle: -12°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线H2&#xD;&#xA;Angle: 12°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_群狼剑_线T2&#xD;&#xA;Angle: 52°&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_群狼剑_线&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir6}, 6) + pi&#xD;&#xA;Pos: 0, 0${b最终远} ? -7.5 : -7.0&#xD;&#xA;Scale: 0.05, 25, 0" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b钢铁}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="12" NamedCallbackName="PictoACT" NamedCallbackParam="// 四线 染色&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_群狼剑_线T&#xD;&#xA;Color: 1, 2, 9, 1&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_群狼剑_线H&#xD;&#xA;Color: 1.5, 7, 1, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="6000" />
<Action OrderNumber="14" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Regex: ^M8s_群狼剑_线" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="15" NamedCallbackName="AdvWm" NamedCallbackParam="&#xA;load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取" Id="6a89cec5-d26b-4f10-bf5a-5a97403705f9" RegularExpression="^.{15}\S+ 107:4.{7}:A93(?&lt;type&gt;0|1):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_跳跃_dir6" VariableExpression="roundvec(${x} - 100, ${y} - 100, 6)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M8s_群狼剑:dir6:${v:M8s_跳跃_dir6}:b最终远:${?l: 0,3,4,5.contain(${v:M8s_跳跃_dir6})}:b钢铁:${n: ${type} == 1}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 tts 播报" Id="19099c2c-38f9-4e4c-bf82-dad025672b18" RegularExpression="^M8s_群狼剑:dir6:(?&lt;dir6&gt;[0-5]):b最终远:(?&lt;b最终远&gt;[01]):b钢铁:(?&lt;b钢铁&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${dir6}):上北, 左上, 左下, 下南, 右下, 右上}，最后${if: ${b钢铁} ? 远离 : 靠近 }" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:12.1" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="6100" />
<Action OrderNumber="4" UseTTSTextExpression="两侧，然后${if: ${b钢铁} ? 远离 : 靠近 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-23 14:37" Id="e4e2df44-c5e7-4089-ba6c-be548010d084">
<Actions>
<Action OrderNumber="1" LogMessageText="[01:13:40.083] 263 107:400116E6:A931:91.128:94.882:0.000:1.047" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="e8b066de-9980-405b-98ee-a8b0e5f233b7" Name="G. 月光 Beckon Moonlight" Enabled="true" RawEnvironmentVariables="phase = Beckon Moonlight">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始 AoE" Id="abbd7b68-598b-40db-884f-cf5cd7fa95d8" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A3C1):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="准备半场刀" ActionType="UseTTS" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M8s_月光" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="4" NamedCallbackName="Omen" ActionType="Placeholder" ExecutionDelayExpression="4000" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M8s_月光_环&#xD;&#xA;Pos: 100, 100&#xD;&#xA;Scale: 5.5&#xD;&#xA;Color: 0.4, 4, 2, 10" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_月光_线0&#xD;&#xA;θ: dir2rad(0, 4)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M8s_月光_线1&#xD;&#xA;θ: dir2rad(1, 4)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_月光_线&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, 15&#xD;&#xA;Scale: 0.05, 30, 0&#xD;&#xA;Color: 3, 3, 3, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Regex: ^M8s_月光" ActionType="NamedCallback" ExecutionDelayExpression="24000" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 播报安全区 (2)" Id="e0ebf209-8867-40a9-ab0a-6990cd8123fb" RegularExpression="^M8s_月光:2:dirN4:(?&lt;dirN4&gt;[0-3]):relDir4:(?&lt;relDir4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="然后${f:pick(${relDir4}): 原地, 去右, 对穿, 去左}" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: M8s_月光_Quad2&#xD;&#xA;t: 13.5&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dirN4}, -4)&#xD;&#xA;Scale: 15&#xD;&#xA;Color: 1, 4, 3, 0.5&#xD;&#xA;---&#xD;&#xA;Delay: 9.5&#xD;&#xA;Action: Change&#xD;&#xA;Tag: M8s_月光_Quad2&#xD;&#xA;Color: 0, 1, 10, 1&#xD;&#xA;---&#xD;&#xA;Delay: 9.5&#xD;&#xA;Action: Remove&#xD;&#xA;Tag: M8s_月光_Quad1" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${relDir4}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Delay: 13.5&#xD;&#xA;Action: Remove&#xD;&#xA;Tag: M8s_月光_Quad1" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${relDir4}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="黄头矩形" Id="4caed2b0-3b93-4d37-be54-632cd7e8f4e2" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18507:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="phase" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="3" NamedCallbackName="Omen" NamedCallbackParam="general02f, 4.1, ${x}, ${y}, ${z}, ${h}, 3, 40" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 处理分散点名" Id="c381c793-4a3b-4d72-a1c3-91a9f91b5df5" RegularExpression="^M8s_TR_散:b自散:(?&lt;b自散&gt;0|1)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="10000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase, 冷却" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="M8s_月光_b自散" VariableExpression="${b自散}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="cd5:5" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" UseTTSTextExpression="${f:pick(${v:M8s_月光_dirN4_1}): 左上, 左下, 右下, 右上 }${if: ${b自散} ? 分散 : 分摊 }" ActionType="UseTTS" />
<Action OrderNumber="5" UseTTSTextExpression="准备${f:pick(${v:M8s_月光_relDir4Quad1To2}): 原地, 右侧, 对角, 左侧}${if: ${b自散} ? 分摊 : 分散 }" ActionType="UseTTS" ExecutionDelayExpression="5000" />
<Action OrderNumber="6" LogMessageText="cd5:8.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" UseTTSTextExpression="正点贴边" ActionType="UseTTS" ExecutionDelayExpression="6800" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-11 14:10" Id="5033ff89-5d4d-4a7d-bb2c-2055372fc5a0" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:52:38.190] StartsCasting 14:4001455C:Howling Blade:A3C1:Beckon Moonlight:4001455C:Howling Blade:2.700:99.99:99.99:0.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.02 * 1000" />
<Action OrderNumber="3" LogMessageText="[12:52:44.245] _WeaponId AAA:202:7:40014555:Moonlit Shadow:13845:18217:99.99231:111.986:-0.0001000166:3.141545" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="0.33 * 1000" />
<Action OrderNumber="5" LogMessageText="[12:52:45.226] _WeaponId AAA:202:7:40014554:Moonlit Shadow:13845:18217:111.986:99.99231:-0.0001000166:-1.570533" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="0.32 * 1000" />
<Action OrderNumber="7" LogMessageText="[12:52:46.203] _WeaponId AAA:202:6:40014553:Moonlit Shadow:13845:18217:99.99231:87.99878:-0.0001000166:0.0000002384186" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="0.34 * 1000" />
<Action OrderNumber="9" LogMessageText="[12:52:47.226] _WeaponId AAA:202:6:40014552:Moonlit Shadow:13845:18217:87.99878:99.99231:-0.0001000166:1.570437" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[12:52:47.226] _WeaponId AAA:202:7:40014552:Moonlit Shadow:13845:18217:87.99878:99.99231:-0.0001000166:1.570437" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取分身 =&gt; 2" Id="806bbd34-618d-48c3-afd0-49d349c70cd6" RegularExpression="^.{15}\S+ AAA:202:(?&lt;wid&gt;6|7):(?&lt;sid&gt;4.{7}):[^:]*:[^:]*:18217:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="6 打右   7 打左    由于位置和 WeaponID 是一起设置的，加一个延迟，动态获取 Heading" DescriptionOverride="True" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="M8s_月光_dir4" ListVariableExpression="(roundir(${_entity[${sid}].Heading}, 4) + (${wid} = 6 ? 1 : -1)) %% 4" ActionType="ListVariable" ExecutionDelayExpression="100" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M8s_月光_dirN4_${n: ${l:M8s_月光_dir4.size} / 2}" VariableExpression="${?d:&#xD;&#xA;  01 = 0, 10 = 0,&#xD;&#xA;  12 = 1, 21 = 1,&#xD;&#xA;  23 = 2, 32 = 2,&#xD;&#xA;  30 = 3, 03 = 3&#xD;&#xA;  [${l:M8s_月光_dir4[-1]}${l:M8s_月光_dir4[-2]}]&#xD;&#xA;}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_月光_dir4.size} % 2" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="第二次" DescriptionOverride="True" />
<Action OrderNumber="5" LogMessageText="M8s_月光:1:dirN4:${v:M8s_月光_dirN4_1}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_月光_dir4.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="第四次" DescriptionOverride="True" />
<Action OrderNumber="7" VariableOp="SetNumeric" VariableName="M8s_月光_relDir4Quad1To2" VariableExpression="(${v:M8s_月光_dirN4_2} - ${v:M8s_月光_dirN4_1}) %% 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_月光_dir4.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" LogMessageText="M8s_月光:2:dirN4:${v:M8s_月光_dirN4_2}:relDir4:${v:M8s_月光_relDir4Quad1To2}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_月光_dir4.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 播报安全区 (1)" Id="8de7ca42-b123-42f9-a2e3-1c9c3a70e82a" RegularExpression="^M8s_月光:1:dirN4:(?&lt;dirN4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${dirN4}): 左上, 左下, 右下, 右上}" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: M8s_月光_Quad1&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${dirN4}, -4)&#xD;&#xA;Scale: 15&#xD;&#xA;Color: 0, 1, 10, 1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-07-11 23:59" Id="95f06c97-f76f-427e-9829-21fc2ec6fd5c">
<Actions>
<Action OrderNumber="1" LogMessageText="[23:15:45.258] StartsCasting 14:4000CF98:剑嚎:A3C1:幻狼召唤:4000CF98:剑嚎:2.700:99.99:99.99:0.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="6.02 * 1000" />
<Action OrderNumber="3" LogMessageText="[23:15:51.276] _WeaponId AAA:202:6:4000CF91:剑嚎的幻影:13845:18217:106.5185:99.99582:-0.0001000166:1.354159" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="1.02 * 1000" />
<Action OrderNumber="5" LogMessageText="[23:15:52.301] _WeaponId AAA:202:6:4000CF90:剑嚎的幻影:13845:18217:99.99231:87.99878:-0.0001000166:0.0000002384186" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="0.98 * 1000" />
<Action OrderNumber="7" LogMessageText="[23:15:53.279] _WeaponId AAA:202:7:4000CF8F:剑嚎的幻影:13845:18217:87.99878:99.99231:-0.0001000166:1.570437" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="1.03 * 1000" />
<Action OrderNumber="9" LogMessageText="[23:15:54.303] _WeaponId AAA:202:6:4000CF8E:剑嚎的幻影:13845:18217:99.99249:111.7159:-0.0001000166:-2.648328" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="69e58cbe-c62e-455c-92ea-2e5447352999" Name="A. 钢铁月环 + 十字" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 接收" Id="123e25b9-56fb-4f71-be2c-80c57f5e62bc" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A39[DE]|A3A[12]):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_钢月_is钢" VariableExpression="0x${aid} = 0xA3A1 || 0x${aid} = 0xA3A2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M8s_钢月_isX" VariableExpression="0x${aid} = 0xA39E || 0x${aid} = 0xA3A2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M8s_钢月十字:b钢:${v:M8s_钢月_is钢}:b斜十:${v:M8s_钢月_isX}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="4" UseTTSTextExpression="${?d: 00 = 斜点内分摊, 01 = 正点内分摊, 10 = 斜点外分散, 11 = 正点外分散 [${v:M8s_钢月_is钢}${v:M8s_钢月_isX}]}" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 播报" Id="2fea843d-2e6b-4e80-b009-24074d6941b4" RegularExpression="^M8s_钢月十字:b钢:(?&lt;b钢&gt;[01]):b斜十:(?&lt;b斜十&gt;[01])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b斜十} ? 正点 : 斜点 }${if: ${b钢} ? 外分散 : 内分摊 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 安全点" Id="7024ba9d-bbb0-44b4-932d-274c6792fc1d" RegularExpression="^M8s_钢月十字:b钢:(?&lt;b钢&gt;[01]):b斜十:(?&lt;b斜十&gt;[01])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="国服" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_θ" VariableExpression="dir2rad(${?l: 0,3,1,2,2,3,1,0 [${v:myIdx}]}, 4) + (${v:myIdx_isTH} ? 1 : -1) * (${b斜十} ? 19.63° : 25.37°)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b钢}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M8s_钢铁站位]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_θ" VariableExpression="dir2rad(${?l: 0, 6, 2, 4, 2, 4, 0, 6 [${v:myIdx}]} + (0${b斜十} ? 0 : 1), 8)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b钢}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M8s_钢铁站位]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="美服" DescriptionOverride="True" />
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="前一半是自己和同组的初始 dir8 对应角度；如果是钢铁则根据自己的职能顺逆错开 16.7°" DescriptionOverride="True" />
<Action OrderNumber="6" VariableOp="SetNumeric" VariableName="tmp_θ" VariableExpression="dir2rad(${?l: 0, 6, 2, 4, 2, 4, 0, 6 [${v:myIdx}]} + (0${b斜十} ? 0 : 1), 8) + (${b钢} ? 1 : 0) * (${v:myIdx_isG1} ? -1 : 1) * 19.63°" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M8s_钢铁站位]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True" />
<Action OrderNumber="8" VariableOp="SetNumeric" VariableName="tmp_r" VariableExpression="${b钢} ? 10.5 : 6.44" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="9" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 5.7&#xD;&#xA;θ: ${v:tmp_θ}&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.05, ${v:tmp_r}, 0&#xD;&#xA;Color: 3, 3, 3, 1.5&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M8s&#xD;&#xA;t: 5.7&#xD;&#xA;θ: ${v:tmp_θ}&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, -${v:tmp_r}&#xD;&#xA;ScaleCyl: 1.5, 0.3&#xD;&#xA;Color: 0.1, 1.6, 20, 2" ActionType="NamedCallback" Asynchronous="False" DescBgColor="ffd" />
<Action OrderNumber="10" VariableName="tmp_θ" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" VariableName="tmp_r" ActionType="Variable" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M8s_钢铁站位]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="9ae7996e-f3da-4a73-9de7-f9277e64b63f" Name="H. UltraViolent" Enabled="true" RawEnvironmentVariables="center = 100,100,-150">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 获取半场分组（开场双分摊）=&gt; 2" Id="a9d86af7-1ccb-45fc-ae72-425e12549ac6" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:A45B:[^:]*:(?&lt;tid&gt;1.{7}):([^:]*:){37}(?&lt;aoeid&gt;.{8}):(?&lt;idx&gt;[^:]*):4">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="tmp_${aoeid}_tid" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" ListVariableOp="Push" LogMessageText="M8s_双分摊:bG1:${n: ${_entity[${tid}].x} &lt; 100}:${l:tmp_${aoeid}_tid.join(:)}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:tmp_${aoeid}_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ListVariableName="tmp_${aoeid}_tid" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:tmp_${aoeid}_tid.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 记录分组" Id="6acc86e4-3475-44ab-8f03-48290fcc5480" RegularExpression="^M8s_双分摊:bG1:(?&lt;bG1&gt;[01]):(?&lt;ids&gt;.+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="5000">
<Actions>
<Action OrderNumber="1" ListVariableOp="Build" ListVariableExpression=":${ids}" ListVariableTarget="M8s_${if: ${bG1} ? G1 : G2}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" ListVariableOp="Build" TableVariableOp="GetAllEntities" TableVariableName="tmp_party" TableVariableX="ID" TableVariableY="Type = 1" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="3" ListVariableOp="Build" TableVariableOp="RemoveLine" TableVariableName="tmp_party" TableVariableY="1" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="4" ListVariableOp="Build" TableVariableOp="Filter" TableVariableExpressionType="Numeric" TableVariableName="tmp_party" TableVariableTarget="M8s_${if: ${bG1} ? G2 : G1}" TableVariableExpression="!${f:contain(${_this}):${ids}}" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="5" ListVariableOp="Build" TableVariableExpressionType="Numeric" TableVariableName="tmp_party" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="6" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#xD;&#xA;G1: ${_entity[${l:M8s_G1[1]}].JobCN1}${_entity[${l:M8s_G1[2]}].JobCN1}${_entity[${l:M8s_G1[3]}].JobCN1}${_entity[${l:M8s_G1[4]}].JobCN1}&#xD;&#xA;G2: ${_entity[${l:M8s_G2[1]}].JobCN1}${_entity[${l:M8s_G2[2]}].JobCN1}${_entity[${l:M8s_G2[3]}].JobCN1}${_entity[${l:M8s_G2[4]}].JobCN1}" Enabled="False" ActionType="NamedCallback" DescBgColor="fdd" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${el:M8s_G1}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3.1 获取蓝点名 * 5 =&gt; 4" Id="e78c4de3-fea1-4ca7-9833-98e1e007df0c" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:000E:">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M8s_UV_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableName="M8s_UV_同组" ListVariableExpression="${tid}" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_G1.contain(${_me.id})}" ExpressionTypeL="String" ExpressionR="${l:M8s_G1.contain(${tid})}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" LogMessageText="M8s_UV:${l:M8s_UV_同组.contain(${_me.id})}:dirN5:${v:M8s_UV_dirN5}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_UV_dirN5}${v:M8s_UV_n}" ExpressionTypeL="String" ExpressionR="15" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="5000" />
<Action OrderNumber="5" ListVariableName="M8s_UV_同组" ActionType="ListVariable" />
<Action OrderNumber="6" VariableName="M8s_UV_n" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3.2 获取面向 =&gt; 4" Id="9f4424c4-de67-425f-9f57-8e6664fdaf1d" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A45C:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_UV_dirN5" VariableExpression="roundir(${h}, -5)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M8s_UV:${l:M8s_UV_同组.contain(${_me.id})}:dirN5:${v:M8s_UV_dirN5}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M8s_UV_dirN5}${v:M8s_UV_n}" ExpressionTypeL="String" ExpressionR="15" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="浮游炮 （PlayActionTimeline）" Id="7005cd36-c550-4cb4-8308-0bed265e5e7b" RegularExpression="^.{15}\S+ AAA:203:11D3:(?&lt;sid&gt;[^:]*):[^:]*:[^:]*:[^:]*:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="计算未取整的 dirN5 和取整的 dirN5" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_dirN5_${sid}" VariableExpression="roundvec(${x}-100, ${y}-100, -5, -1)" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_roundirN5_${sid}" VariableExpression="round(${v:tmp_dirN5_${sid}})" ActionType="Variable" />
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="二者差值判断浮游炮在左/右" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="tmp_bL_${sid}" VariableExpression="${v:tmp_dirN5_${sid}} - ${v:tmp_roundirN5_${sid}} &lt; 0" ActionType="Variable" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M8s_UV_${v:tmp_roundirN5_${sid}}${if: ${v:tmp_bL_${sid}} ? L : R }&#xD;&#xA;O: 100, 100, -1000" ActionType="NamedCallback" ExecutionDelayExpression="200" DescBgColor="ffd" />
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M8s_UV_${v:tmp_roundirN5_${sid}}${if: ${v:tmp_bL_${sid}} ? L : R }&#xD;&#xA;O: 100, 100, -1000" ActionType="NamedCallback" ExecutionDelayExpression="200" DescBgColor="ffd" />
<Action OrderNumber="8" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M8s_UV_${v:tmp_roundirN5_${sid}}${if: ${v:tmp_bL_${sid}} ? L : R }&#xD;&#xA;O: 100, 100, -1000" ActionType="NamedCallback" ExecutionDelayExpression="200" DescBgColor="ffd" />
<Action OrderNumber="9" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M8s_UV_${v:tmp_roundirN5_${sid}}${if: ${v:tmp_bL_${sid}} ? L : R }&#xD;&#xA;O: 100, 100, -1000" ActionType="NamedCallback" ExecutionDelayExpression="200" DescBgColor="ffd" />
<Action OrderNumber="10" VariableName="tmp_dirN5_${sid}" ActionType="Variable" />
<Action OrderNumber="11" VariableName="tmp_roundirN5_${sid}" ActionType="Variable" />
<Action OrderNumber="12" VariableName="tmp_bL_${sid}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="4.1 播报（有点名）" Id="bf9d7578-4011-4635-bef4-baa7fcb87689" RegularExpression="^M8s_UV:1:dirN5:(?&lt;dirN5&gt;[0-4])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Channeling" NamedCallbackParam="${_entity[${l:M8s_UV_同组[1]}].Address}, ${_entity[${l:M8s_UV_同组[2]}].Address}, chn_tergetfix2k1, 5.7" ActionType="NamedCallback" DescTextColor="26f">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_UV_同组.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="2" NamedCallbackName="Channeling" NamedCallbackParam="${_entity[${l:M8s_UV_同组[2]}].Address}, ${_entity[${l:M8s_UV_同组[3]}].Address}, chn_tergetfix2k1, 5.7" ActionType="NamedCallback" DescTextColor="26f">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_UV_同组.size}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="Channeling" NamedCallbackParam="${_entity[${l:M8s_UV_同组[3]}].Address}, ${_entity[${l:M8s_UV_同组[1]}].Address}, chn_tergetfix2k1, 5.7" ActionType="NamedCallback" DescTextColor="26f">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_UV_同组.size}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Tag: M8s_UV_${dirN5}L&#xD;&#xA;t: 5.7&#xD;&#xA;Omen: Fan180&#xD;&#xA;θ: dir2rad(${dirN5}, -5)&#xD;&#xA;---&#xD;&#xA;Tag: M8s_UV_${dirN5}R&#xD;&#xA;t: 5.7&#xD;&#xA;Omen: Fan180&#xD;&#xA;θ: dir2rad(${dirN5}, -5)" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M8s_UV_同组.size}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Tag: M8s_UV_${n: (${dirN5} + (${v:myIdx_isG1} ? -2 : 2)) %% 5}L&#xD;&#xA;t: 5.7&#xD;&#xA;Omen: Fan180&#xD;&#xA;θ: dir2rad(${dirN5} + (${v:myIdx_isG1} ? -2 : 2), -5)&#xD;&#xA;---&#xD;&#xA;Tag: M8s_UV_${n: (${dirN5} + (${v:myIdx_isG1} ? -2 : 2)) %% 5}R&#xD;&#xA;t: 5.7&#xD;&#xA;Omen: Fan180&#xD;&#xA;θ: dir2rad(${dirN5} + (${v:myIdx_isG1} ? -2 : 2), -5)&#xD;&#xA;---&#xD;&#xA;Tag: M8s_UV_${n: (${dirN5} + (${v:myIdx_isG1} ? -1 : 1)) %% 5}L&#xD;&#xA;t: 5.7&#xD;&#xA;Omen: Fan180&#xD;&#xA;θ: dir2rad(${dirN5} + (${v:myIdx_isG1} ? -1 : 1), -5)&#xD;&#xA;---&#xD;&#xA;Tag: M8s_UV_${n: (${dirN5} + (${v:myIdx_isG1} ? -1 : 1)) %% 5}R&#xD;&#xA;t: 5.7&#xD;&#xA;Omen: Fan180&#xD;&#xA;θ: dir2rad(${dirN5} + (${v:myIdx_isG1} ? -1 : 1), -5)" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M8s_UV_[0-4]&#xD;&#xA;O: ${env:center}&#xD;&#xA;Pos: 0, -17.5&#xD;&#xA;Scale: 8&#xD;&#xA;Color: 0, 1.5, 15, 1&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_UV_[0-4]L&#xD;&#xA;Angle: π/2&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_UV_[0-4]R&#xD;&#xA;Angle: -π/2" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="7" UseTTSTextExpression="${if: ${l:M8s_UV_同组.size} = 3 ? 三个 : 两个}点名" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log （z = 0）" Id="8476ec5a-d9b8-4841-a255-1c5348e384f5" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[00:06:03.254] AOEActionEffect 16:40020AD9:Howling Blade:A45B:Quake III:${l:party[1]}:队员:450603:0:B80E:B7D0000:1B:A45B8000:0:0:0:0:0:0:0:0:0:0:171560:171560:8060:10000:::110.86:106.71:-150.00:-2.13:44:44:0:10000:::116.64:105.41:-150.00:-1.88:00012E88:0:4:00::01:A45B:A45B:1.100:3333" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[00:06:03.254] AOEActionEffect 16:40020AD9:Howling Blade:A45B:Quake III:${l:party[2]}:队员:450603:3C8D0000:B80E:B7D0000:1B:A45B8000:0:0:0:0:0:0:0:0:0:0:159305:159305:10000:10000:::111.62:106.43:-150.00:1.53:44:44:0:10000:::116.64:105.41:-150.00:-1.88:00012E88:1:4:00::01:A45B:A45B:1.100:3333" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[00:06:03.254] AOEActionEffect 16:40020AD9:Howling Blade:A45B:Quake III:${l:party[3]}:队员:450603:1F130000:B80E:B7D0000:1B:A45B8000:0:0:0:0:0:0:0:0:0:0:218113:255344:6600:10000:::110.95:106.68:-150.00:-2.12:44:44:0:10000:::116.64:105.41:-150.00:-1.88:00012E88:2:4:00::01:A45B:A45B:1.100:3333" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[00:06:03.254] AOEActionEffect 16:40020AD9:Howling Blade:A45B:Quake III:${l:party[4]}:队员:A10:F0D0000:450603:99CF0000:B80E:B7D0000:1B:A45B8000:0:0:0:0:0:0:0:0:174575:174575:10000:10000:::111.25:106.46:-150.00:-2.09:44:44:0:10000:::116.64:105.41:-150.00:-1.88:00012E88:3:4:00::01:A45B:A45B:1.100:3333" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[00:06:03.254] AOEActionEffect 16:40020ADA:Howling Blade:A45B:Quake III:${l:party[5]}:队员:450603:B6910000:B80E:B7D0000:1B:A45B8000:0:0:0:0:0:0:0:0:0:0:159967:159967:9246:10000:::88.94:105.73:-150.00:2.15:44:44:0:10000:::83.36:105.41:-150.00:1.88:00012E89:0:4:00::01:A45B:A45B:1.100:CCCC" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[00:06:03.254] AOEActionEffect 16:40020ADA:Howling Blade:A45B:Quake III:${l:party[6]}:队员:EC450605:0:B80E:B7D0000:1B:A45B8000:0:0:0:0:0:0:0:0:0:0:233962:250141:9200:10000:::89.01:105.16:-150.00:2.01:44:44:0:10000:::83.36:105.41:-150.00:1.88:00012E89:1:4:00::01:A45B:A45B:1.100:CCCC" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[00:06:03.254] AOEActionEffect 16:40020ADA:Howling Blade:A45B:Quake III:${l:party[7]}:队员:450603:BF160000:B80E:B7D0000:1B:A45B8000:0:0:0:0:0:0:0:0:0:0:173752:173752:10000:10000:::88.52:105.58:-150.00:2.03:44:44:0:10000:::83.36:105.41:-150.00:1.88:00012E89:2:4:00::01:A45B:A45B:1.100:CCCC" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[00:06:03.254] AOEActionEffect 16:40020ADA:Howling Blade:A45B:Quake III:${l:party[8]}:队员:450603:DB310000:B80E:B7D0000:1B:A45B8000:0:0:0:0:0:0:0:0:0:0:177094:177094:10000:10000:::88.64:105.21:-150.00:2.00:44:44:0:10000:::83.36:105.41:-150.00:1.88:00012E89:3:4:00::01:A45B:A45B:1.100:CCCC" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="10" LogMessageText="[00:06:09.271] TargetIcon 1B:${l:party[1]}:队员:0000:0000:000E:${l:party[1]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[00:06:09.271] TargetIcon 1B:${l:party[7]}:队员:0000:0000:000E:${l:party[7]}:0000:0000" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[00:06:09.271] TargetIcon 1B:${l:party[4]}:队员:0000:0000:000E:${l:party[4]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[00:06:09.271] TargetIcon 1B:${l:party[8]}:队员:0000:0000:000E:${l:party[8]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[00:06:09.271] TargetIcon 1B:${l:party[2]}:队员:0000:0000:000E:${l:party[2]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[00:06:09.271] TargetIcon 1B:${l:party[3]}:队员:0000:0000:000E:${l:party[3]}:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[00:06:09.361] 263 107:40020AC0:A45C:100.009:100.009:-148.991:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[00:06:09.361] _PlayActionTimeline AAA:203:11D3:40020C8C:Gleaming Fang:13848:18223:126.4391:104.3847:0:-1.884956" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[00:06:09.361] _PlayActionTimeline AAA:203:11D3:40020C92:Gleaming Fang:13848:18223:76.03307:111.9932:0:1.884859" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="[00:06:09.361] _PlayActionTimeline AAA:203:11D3:40020C8E:Gleaming Fang:13848:18223:112.3402:76.20992:0:-0.6283188" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" LogMessageText="[00:06:09.361] _PlayActionTimeline AAA:203:11D3:40020C93:Gleaming Fang:13848:18223:96:126.5:0:3.141593" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[00:06:09.361] _PlayActionTimeline AAA:203:11D3:40020C90:Gleaming Fang:13848:18223:81.18763:80.91219:0:0.6283183" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="4.2 播报（无点名）" Id="2a62ff2e-77bf-413f-8e2d-184e6d773aaf" RegularExpression="^M8s_UV:0">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_myDirN5" VariableExpression="roundvec(${_me.x}-100, ${_me.y}-100, -5)" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Tag: M8s_UV_${v:tmp_myDirN5}L&#xD;&#xA;t: 5.7&#xD;&#xA;Omen: Fan180&#xD;&#xA;θ: dir2rad(${v:tmp_myDirN5}, -5)&#xD;&#xA;---&#xD;&#xA;Tag: M8s_UV_${v:tmp_myDirN5}R&#xD;&#xA;t: 5.7&#xD;&#xA;Omen: Fan180&#xD;&#xA;θ: dir2rad(${v:tmp_myDirN5}, -5)" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M8s_UV_[0-4]&#xD;&#xA;O: ${env:center}&#xD;&#xA;Pos: 0, -17.5&#xD;&#xA;Scale: 8&#xD;&#xA;Color: 0, 1.5, 15, 1&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_UV_[0-4]L&#xD;&#xA;Angle: π/2&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_UV_[0-4]R&#xD;&#xA;Angle: -π/2" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" VariableName="tmp_myDirN5" ActionType="Variable" />
<Action OrderNumber="5" UseTTSTextExpression="无点名" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="3e6e8a8f-e804-475d-a52d-e16fb8599726" Name="K. 转盘" Enabled="true" RawEnvironmentVariables="phase = 转盘">
<Folders>
<Folder Id="66f418af-7a84-48ba-9ca1-7de97d920b1c" Name="模拟用" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 每个初始读条" Id="d6777170-fab8-45b6-861a-6276f4ad936c" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):(?&lt;aid&gt;A47[9ABCD]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" LogMessageText="_M8s_转盘_omen:${aid}:0:7.8:${x}:${y}:${z}:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 旋转方向" Id="07b27559-73b1-476e-83a8-774c62ca6d16" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;4.{7}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;01F[56]):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="LockOn" NamedCallbackParam="${_tgt.Address}, ${?d: 01F5 = m0851_turnright_c0g, 01F6 = m0851_turnleft_c0g [${type}] }" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="1. 旋转方向" Id="2e213fde-937e-4a9c-950b-8c424964231d" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;4.{7}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;01F[56]):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_转盘_b逆" VariableExpression="0x${type} = 0x01F6" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 接收初始读条 =&gt; 3" Id="0ef0f1ca-37c6-4631-a4cb-d7b903af3d93" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A479:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_转盘_初始dirN5" VariableExpression="roundir(${h}, -5)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M8s_转盘_dirN5" VariableExpression="${v:M8s_转盘_初始dirN5}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="_M8s_转盘:round:0:t:7.9:dirN5:${v:M8s_转盘_dirN5}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="8200" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="M8s_转盘_dirN5" VariableExpression="(${v:M8s_转盘_dirN5} + (${v:M8s_转盘_b逆} ? 1 : -1) * 1) %% 5" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" LogMessageText="_M8s_转盘:round:1:t:4.1:dirN5:${v:M8s_转盘_dirN5}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="4400" />
<Action OrderNumber="8" VariableOp="SetNumeric" VariableName="M8s_转盘_dirN5" VariableExpression="(${v:M8s_转盘_dirN5} + (${v:M8s_转盘_b逆} ? 1 : -1) * 1) %% 5" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="9" LogMessageText="_M8s_转盘:round:2:t:4.1:dirN5:${v:M8s_转盘_dirN5}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="4400" />
<Action OrderNumber="11" VariableOp="SetNumeric" VariableName="M8s_转盘_dirN5" VariableExpression="(${v:M8s_转盘_dirN5} + (${v:M8s_转盘_b逆} ? 1 : -1) * 1) %% 5" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="12" LogMessageText="_M8s_转盘:round:3:t:4.1:dirN5:${v:M8s_转盘_dirN5}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="4400" />
<Action OrderNumber="14" VariableOp="SetNumeric" VariableName="M8s_转盘_dirN5" VariableExpression="(${v:M8s_转盘_dirN5} + (${v:M8s_转盘_b逆} ? 1 : -1) * 1) %% 5" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="15" LogMessageText="_M8s_转盘:round:4:t:4.1:dirN5:${v:M8s_转盘_dirN5}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 每轮画图" Id="5ad3111c-a42c-4208-9b59-e89e5dc98d66" RegularExpression="^_M8s_转盘:round:(?&lt;round&gt;[0-4]):t:(?&lt;t&gt;[^:]*):dirN5:(?&lt;dirN5&gt;[0-4])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="9：30*12 矩形 general02f" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="A：13/4 月环 x6r8_b4_donut13m_4_01k1" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="B/D：28/16 60°扇环 x6r8_b4_fan28m60_16_01k1" DescriptionOverride="True" />
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="C：22 60°扇形 gl_fan060_y10_1bt" DescriptionOverride="True" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="// 正面：直线，左右两个直条安全区&#xD;&#xA;Omen: Rect&#xD;&#xA;Tag: M8s_转盘_${n: (${dirN5} + 0) % 5}L_侧&#xD;&#xA;t: ${t}&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + 0 * π/5&#xD;&#xA;Pos: 7, -8&#xD;&#xA;Scale: 1, 16&#xD;&#xA;---&#xD;&#xA;Omen: Rect&#xD;&#xA;Tag: M8s_转盘_${n: (${dirN5} + 0) % 5}R_侧&#xD;&#xA;t: ${t}&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + 0 * π/5&#xD;&#xA;Pos: -7, -8&#xD;&#xA;Scale: 1, 16&#xD;&#xA;---&#xD;&#xA;&#xD;&#xA;// 右前（面向 boss，即 boss 左前，下同）：平台月环，中心两个半圆安全区&#xD;&#xA;Omen: Fan180&#xD;&#xA;Tag: M8s_转盘_${n: (${dirN5} + 1) % 5}L_中&#xD;&#xA;t: ${t}&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + 2 * π/5&#xD;&#xA;Pos: 0, -17.5&#xD;&#xA;Angle: π/2&#xD;&#xA;Scale: 4&#xD;&#xA;---&#xD;&#xA;Omen: Fan180&#xD;&#xA;Tag: M8s_转盘_${n: (${dirN5} + 1) % 5}R_中&#xD;&#xA;t: ${t}&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + 2 * π/5&#xD;&#xA;Pos: 0, -17.5&#xD;&#xA;Angle: -π/2&#xD;&#xA;Scale: 4&#xD;&#xA;---&#xD;&#xA;&#xD;&#xA;// 右后：大扇环，前方两个 30 扇形安全区&#xD;&#xA;Omen: Fan30&#xD;&#xA;Tag: M8s_转盘_${n: (${dirN5} + 2) % 5}L_前&#xD;&#xA;t: ${t}&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + 4 * π/5&#xD;&#xA;Angle: π - 15°&#xD;&#xA;Scale: 16&#xD;&#xA;---&#xD;&#xA;Omen: Fan30&#xD;&#xA;Tag: M8s_转盘_${n: (${dirN5} + 2) % 5}R_前&#xD;&#xA;t: ${t}&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + 4 * π/5&#xD;&#xA;Angle: π + 15°&#xD;&#xA;Scale: 16&#xD;&#xA;---&#xD;&#xA;&#xD;&#xA;// 左后：钢铁，后方两个 40 扇环安全区&#xD;&#xA;Omen: m0559donut_o0v&#xD;&#xA;Tag: M8s_转盘_${n: (${dirN5} + 3) % 5}L_后&#xD;&#xA;t: ${t}&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + 6 * π/5&#xD;&#xA;Angle: π - 20°&#xD;&#xA;Scale: 22 / 0.75&#xD;&#xA;---&#xD;&#xA;Omen: m0559donut_o0v&#xD;&#xA;Tag: M8s_转盘_${n: (${dirN5} + 3) % 5}R_后&#xD;&#xA;t: ${t}&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + 6 * π/5&#xD;&#xA;Angle: π + 20°&#xD;&#xA;Scale: 22 / 0.75&#xD;&#xA;---&#xD;&#xA;&#xD;&#xA;// 左前 同右后&#xD;&#xA;Omen: Fan30&#xD;&#xA;Tag: M8s_转盘_${n: (${dirN5} + 4) % 5}L_前&#xD;&#xA;t: ${t}&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + 8 * π/5&#xD;&#xA;Angle: π - 15°&#xD;&#xA;Scale: 16&#xD;&#xA;---&#xD;&#xA;Omen: Fan30&#xD;&#xA;Tag: M8s_转盘_${n: (${dirN5} + 4) % 5}R_前&#xD;&#xA;t: ${t}&#xD;&#xA;θ: dir2rad(${dirN5}, -5) + 8 * π/5&#xD;&#xA;Angle: π + 15°&#xD;&#xA;Scale: 16&#xD;&#xA;&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_转盘_[0-4][LR]&#xD;&#xA;O: 100, 100, -150&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_转盘_[0-4][LR]_(?!后|侧)&#xD;&#xA;Color: 0, 1.5, 15, 1&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_转盘_[0-4][LR]_(?=侧)&#xD;&#xA;Color: 0, 1.5, 15, 3&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M8s_转盘_[0-4][LR]_(?=后)&#xD;&#xA;Color:  0, 10, 100, 0.1" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log (@ 100 100 0)" Id="a906841d-9502-4124-9fb0-86dee7d8ed7c" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[22:27:39.706] 263 107:4001E986:A47D:100.009:100.009:1.009:-1.257" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[22:27:39.706] 263 107:4001E987:A47C:100.009:100.009:1.009:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[22:27:39.706] 263 107:4001E989:A47A:89.724:85.849:0.001:0.000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[22:27:39.706] 263 107:4001E988:A47B:100.009:100.009:1.009:1.257" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[22:27:39.706] 263 107:4001E98B:A479:100.009:100.009:1.009:2.513" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[22:27:39.706] TargetIcon 1B:4001E971:Howling Blade:0000:0000:01F5:4001E971:0000:0000" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="4.54 * 1000" />
<Action OrderNumber="8" LogMessageText="[22:27:44.250] 263 107:4001EB34:A476:124.912:112.308:0.001:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[22:27:44.250] 263 107:4001EB37:A476:112.919:75.411:0.001:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[22:27:44.250] 263 107:4001EB39:A476:80.599:80.111:0.001:0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[22:27:44.250] 263 107:4001EB3A:A476:72.604:104.709:0.001:1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[22:27:44.250] 263 107:4001EB3C:A476:96.011:127.506:0.001:3.141" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="4.36 * 1000" />
<Action OrderNumber="14" LogMessageText="[22:27:48.611] 263 107:4001EB3D:A476:104.007:127.506:0.001:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[22:27:48.655] 263 107:4001EB35:A476:127.384:104.709:0.001:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[22:27:48.655] 263 107:4001EB37:A476:112.919:75.411:0.001:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[22:27:48.655] 263 107:4001EB38:A476:87.069:75.411:0.001:0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[22:27:48.655] 263 107:4001EB3B:A476:75.076:112.308:0.001:1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="4.41 * 1000" />
<Action OrderNumber="20" LogMessageText="[22:27:53.021] 263 107:4001EB3B:A476:75.076:112.308:0.001:1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[22:27:53.021] 263 107:4001EB3C:A476:96.011:127.506:0.001:3.141" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogMessageText="[22:27:53.065] 263 107:4001EB35:A476:127.384:104.709:0.001:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" LogMessageText="[22:27:53.065] 263 107:4001EB36:A476:119.388:80.111:0.001:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" LogMessageText="[22:27:53.065] 263 107:4001EB39:A476:80.599:80.111:0.001:0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="25" ActionType="Placeholder" ExecutionDelayExpression="4.42 * 1000" />
<Action OrderNumber="26" LogMessageText="[22:27:57.435] 263 107:4001EB39:A476:80.599:80.111:0.001:0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="27" LogMessageText="[22:27:57.435] 263 107:4001EB3A:A476:72.604:104.709:0.001:1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" LogMessageText="[22:27:57.435] 263 107:4001EB3D:A476:104.007:127.506:0.001:-3.142" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="29" LogMessageText="[22:27:57.479] 263 107:4001EB34:A476:124.912:112.308:0.001:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" LogMessageText="[22:27:57.479] 263 107:4001EB37:A476:112.919:75.411:0.001:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="31" ActionType="Placeholder" ExecutionDelayExpression="4.41 * 1000" />
<Action OrderNumber="32" LogMessageText="[22:28:01.843] 263 107:4001EB37:A476:112.919:75.411:0.001:-0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="33" LogMessageText="[22:28:01.843] 263 107:4001EB38:A476:87.069:75.411:0.001:0.628" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" LogMessageText="[22:28:01.843] 263 107:4001EB3A:A476:72.604:104.709:0.001:1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="35" LogMessageText="[22:28:01.843] 263 107:4001EB3C:A476:96.011:127.506:0.001:3.141" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="36" LogMessageText="[22:28:01.888] 263 107:4001EB34:A476:124.912:112.308:0.001:-1.885" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="4. 激光" Id="523e25b5-575e-4abe-bc16-5ff3314764d6" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A476:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="计算未取整的 dirN5 和取整的 dirN5" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_dirN5_${sid}" VariableExpression="roundvec(${x}-100, ${y}-100, -5, -1)" ActionType="Variable" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_roundirN5_${sid}" VariableExpression="round(${v:tmp_dirN5_${sid}})" ActionType="Variable" />
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="二者差值判断浮游炮在左/右" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="tmp_bL_${sid}" VariableExpression="${v:tmp_dirN5_${sid}} - ${v:tmp_roundirN5_${sid}} &lt; 0" ActionType="Variable" />
<Action OrderNumber="6" UseTTSTextExpression="${if: ${v:tmp_bL_${sid}} ? 右 : 左 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_roundirN5_${sid}}" ExpressionTypeL="Numeric" ExpressionR="roundvec(${_me.x}-100, ${_me.y}-100, -5)" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Regex: ^M8s_转盘_${v:tmp_roundirN5_${sid}}${if: ${v:tmp_bL_${sid}} ? L : R }&#xD;&#xA;O: 100, 100, -1000" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="8" VariableName="tmp_dirN5_${sid}" ActionType="Variable" />
<Action OrderNumber="9" VariableName="tmp_roundirN5_${sid}" ActionType="Variable" />
<Action OrderNumber="10" VariableName="tmp_bL_${sid}" ActionType="Variable" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="d823e102-6ed5-4ba1-8914-aeec033fc3ed" Name="L. 远近线" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 播报远近线" Id="a816a3fc-822c-4f50-8526-1d4910a32c14" RegularExpression="^M8s_远近:b远:(?&lt;b远&gt;[01]):self:(?&lt;self&gt;Tank|Healer|DPS):partner:(?&lt;partner&gt;Tank|Healer|DPS)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b远} ? 远线 : 近线 }，原地" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${self}" ExpressionTypeL="String" ExpressionR="Healer" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="2" UseTTSTextExpression="${if: ${b远} ? 远线，去右 : 近线，去左 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${self}" ExpressionTypeL="String" ExpressionR="Tank" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" UseTTSTextExpression="${?d:&#xD;&#xA;  0 Tank = 右，近线连T，找双人塔,&#xD;&#xA;  1 Tank = 原地，远线连T,&#xD;&#xA;  0 Healer = 左，近线连治疗,&#xD;&#xA;  1 Healer = 右，远线连治疗，找单人塔&#xD;&#xA;  [${b远} ${partner}]&#xD;&#xA;}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${self}" ExpressionTypeL="String" ExpressionR="DPS" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M8s_远近_b北近" VariableExpression="!${b远} &amp;&amp; ${f:contain(Tank):${self}${partner}} &amp;&amp; ${f:contain(DPS):${self}${partner}}" ActionType="Variable" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="M8s_远近_b北远" VariableExpression="${b远} &amp;&amp; ${self} == DPS &amp;&amp; ${partner} == Healer" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取远近线" Id="99d46f75-2028-465c-a091-bbaa5de3c576" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;.{8}):[^:]*:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;013[DE])">
<Actions>
<Action OrderNumber="1" LogMessageText="M8s_远近:b远:${n: 0x${type} = 0x013E}:self:${_me.Role}:partner:${_entity[${if: 0x${sid} = 0x${_me.id} ? ${tid} : ${sid}}].Role}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${sid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 双人塔" Id="74059084-7471-458a-b9f9-73d5487c8d32" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A487:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：自己是北边三人" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="${if: (${x} &gt; 100) = (${_me.x} &gt; 100) = ${v:M8s_远近_b北近} ? 原地 : 换平台 }，踩${if: ${v:M8s_远近_b北近} ? 双人塔 : 单人塔 }" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_远近_b北近} || ${v:M8s_远近_b北远}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="4a6146c4-86cd-41ea-8b1c-ed4f175eb55c" Name="E. 小怪" Enabled="true" RawEnvironmentVariables="phase = add">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 获取连线" Id="699493fa-bb17-4496-b559-0d36165b80f4" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:[^:]*:[^:]*:(?&lt;type&gt;014F|0150)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_add_is自土线" VariableExpression="0x${type} = 0x14F" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="去${if: ${v:M8s_add_is自土线} ? 左侧绿色 : 右侧黄色 }" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100&#xD;&#xA;ScaleX: 0${v:M8s_add_is自土线} ? -1 : 1&#xD;&#xA;Start: 1, 0&#xD;&#xA;End: 10.75, 0&#xD;&#xA;Waymarks: ABCD" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${sid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 获取风球 =&gt; 顺逆" Id="d607ef18-82b0-414c-b135-c96b5fa3fa88" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;4.{7}):[^:]*:[^:]*:18261:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="左风头 右土头" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${y} &lt; 100 ? 逆时针 : 顺时针 }" ActionType="UseTTS" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="318/319：指向北/南侧的箭头（P2s）" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[bnpcid = 18219].Address}, ${y} &lt; 100 ? 319 : 318" ActionType="NamedCallback" />
<Action OrderNumber="5" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[bnpcid = 18225].Address}, ${y} &lt; 100 ? 318 : 319" ActionType="NamedCallback" />
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="clear" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="12000" />
<Action OrderNumber="8" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[bnpcid = 18219].Address}, 0" ActionType="NamedCallback" />
<Action OrderNumber="9" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[bnpcid = 18225].Address}, 0" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取风头" Id="0e5b0cbc-64c6-4522-a32f-85b51aa4f0b8" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}18219:([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M8s_add_风头_id" VariableExpression="${id}" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4.1 获取毒 + 先撞组提醒" Id="66213d50-7a51-43bb-8cd5-9de596201804" RegularExpression="^.{15}\S+ 1A:(?&lt;type&gt;112[78]):[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：自己        1127 黄; 1128 绿" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M8s_add_b绿" VariableExpression="0x${type} = 0x1128" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M8s_add_round" VariableExpression="floor(${t} / 16)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M8s_add_b先" VariableExpression="${v:M8s_add_b绿} = (${pd:S7b_cfg[M8s_b先撞绿]} ?? 1)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" UseTTSTextExpression="第${?l:壹, 贰, 叁[${v:M8s_add_round}]}轮，${if: ${v:M8s_add_b绿} ? 风 : 土 }" ActionType="UseTTS" ExecutionDelayExpression="1000" />
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="如果自己先撞：设置倒计时提示  （下述时间为获得 debuff 到相应轮的 1 s 易伤消失的间隔）" DescriptionOverride="True" />
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="(${?l: 10.63, 24.78, 38.93 [${n: floor(${t} / 16)}]} - 5) * 1000" />
<Action OrderNumber="8" UseTTSTextExpression="准备撞${if: ${pd:S7b_cfg[M8s_b先撞绿]} ?? 1 ? 风球 : 土立方体 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_add_b先}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" LogMessageText="cd5:5" LogProcess="True" UseTTSTextExpression="准备撞风球" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_add_b先}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_me.id}" ExpressionTypeL="String" ExpressionR="${tid}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="4.2 后撞组提醒" Id="956f60d2-848c-487d-a40e-da3eac21e03d" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:(?&lt;type&gt;A3E[DE]|A88[12]):[^:]*:(?&lt;tid&gt;1.{7}):([^:]*:){38}0:(?&lt;count&gt;[^:]*)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="10000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="A3E[DE]：前两次风/土爆炸  A88[12]：第三次" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="M8s_add_先撞_n" ActionType="Variable" />
<Action OrderNumber="3" LogMessageText="cd5:4.46" LogProcess="True" UseTTSTextExpression="准备撞风球" ActionType="LogMessage" />
<Action OrderNumber="4" UseTTSTextExpression="准备撞${if: ${pd:S7b_cfg[M8s_b先撞绿]} ?? 1 ? 土立方体 : 风球 }" ActionType="UseTTS" ExecutionDelayExpression="460" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_add_b先}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_add_round}" ExpressionTypeL="String" ExpressionR="${v:M8s_add_先撞_n} + 1" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0x${type} % 2 = 1" ExpressionTypeL="Numeric" ExpressionR="${pd:S7b_cfg[M8s_b先撞绿]} ?? 1" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="本体半透明" Id="7a1a3b02-c8a9-4a38-9a06-63c611d84627" RegularExpression="^.{15}\S+ 1A:808:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:385:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="SetOpacity" NamedCallbackParam="${_entity[${tid}].Address}, 0.2" ActionType="NamedCallback" />
<Action OrderNumber="2" NamedCallbackName="SetOpacity" NamedCallbackParam="${_entity[${tid}].Address}, 1" ActionType="NamedCallback" ExecutionDelayExpression="50000" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-07-20 23:26" Id="02213aea-3f9b-4d8d-9177-ac55912c60fc" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[00:01:16.112] StartsCasting 14:40020AC1:Howling Blade:A3C8:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="3" LogMessageText="[00:01:29.004] StatusAdd 1A:1127:土毒:21.00:E0000000::${_me.id}:${_me}:00:1:" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[00:01:29.004] StatusAdd 1A:1127:土毒:37.00:E0000000::${_me.id}:${_me}:00:1:" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[00:01:29.004] StatusAdd 1A:1127:土毒:54.00:E0000000::${_me.id}:${_me}:00:1:" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[00:01:29.004] StatusAdd 1A:1128:风毒:21.00:E0000000::${_me.id}:${_me}:00:1:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[00:01:29.004] StatusAdd 1A:1128:风毒:37.00:E0000000::${_me.id}:${_me}:00:1:" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[00:01:29.004] StatusAdd 1A:1128:风毒:54.00:E0000000::${_me.id}:${_me}:00:1:" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="11.83 * 1000" />
<Action OrderNumber="10" LogMessageText="[00:01:45.607] AOEActionEffect 16:40020B95:Font of Wind Aether:A3ED:风12AoE:10000000:AA::::::::::::::::::::::::::::::::::::::0:9:00::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="4.77 * 1000" />
<Action OrderNumber="12" LogMessageText="[00:01:40.834] AOEActionEffect 16:40020B94:Font of Earth Aether:A3EE:土12AoE:10000000:AA::::::::::::::::::::::::::::::::::::::0:9:00::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="9.19 * 1000" />
<Action OrderNumber="14" LogMessageText="[00:01:59.781] AOEActionEffect 16:40020B95:Font of Wind Aether:A3ED:风12AoE:10000000:AA::::::::::::::::::::::::::::::::::::::0:9:00::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" ActionType="Placeholder" ExecutionDelayExpression="4.99 * 1000" />
<Action OrderNumber="16" LogMessageText="[00:01:54.793] AOEActionEffect 16:40020B94:Font of Earth Aether:A3EE:土12AoE:10000000:AA::::::::::::::::::::::::::::::::::::::0:9:00::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" ActionType="Placeholder" ExecutionDelayExpression="11.06 * 1000" />
<Action OrderNumber="18" LogMessageText="[00:02:14.905] AOEActionEffect 16:40020B95:Font of Wind Aether:A881:风3AoE:10000000:AA::::::::::::::::::::::::::::::::::::::0:9:00::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="4.06 * 1000" />
<Action OrderNumber="20" LogMessageText="[00:02:10.841] AOEActionEffect 16:40020B94:Font of Earth Aether:A882:土3AoE:10000000:AA::::::::::::::::::::::::::::::::::::::0:9:00::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="787def3f-5340-447b-b8f2-65db7914154a" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A3C8:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="clear" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M8s_add" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="M8s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="1d527050-a4ff-4c2d-b8ff-8bcef908422b" Name="J. Twofold Tempest 线" Enabled="true" RawEnvironmentVariables="phase = Twofold Tempest">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 连线" Id="b7146980-845d-4354-b570-d2b550d92c6b" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:0054" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="25000">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8s_TT_b左侧线" VariableExpression="0${l:M8s_G1.contain(${tid})} ? 1 : 0${l:M8s_G2.contain(${tid})} ? 0 : ${_entity[${tid}].x} &lt; 100" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="按连线经过的顺序，1-4：近战组 5-8：远程组 " DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M8s_TT_idx" VariableExpression="${?l: 1, 4, 1, 4, 2, 3, 2, 3 [${v:myIdx}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M8s_TT_idx" VariableExpression="(${v:M8s_TT_b左侧线} ? ${v:M8s_TT_idx} : (5 - ${v:M8s_TT_idx})) + (${v:myIdx_isTM} ? 0 : 4)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" UseTTSTextExpression="${?l:&#xD;&#xA;  接线，然后靠后分摊,&#xD;&#xA;  传送回去，然后准备接线,&#xD;&#xA;  传送回去，然后靠前引导直线,&#xD;&#xA;  对侧连线，挂机,&#xD;&#xA;  &#xD;&#xA;  ${if: ${v:M8s_TT_b左侧线} ? 右 : 左 }后，贴边分摊,&#xD;&#xA;  传送回去, 挂机,&#xD;&#xA;  传送回去, 靠前引导直线,&#xD;&#xA;  对侧连线, 挂机&#xD;&#xA;  &#xD;&#xA;  [${v:M8s_TT_idx}]&#xD;&#xA;}" ActionType="UseTTS" />
<Action OrderNumber="6" LogMessageText="cd5:7.1" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_TT_idx} % 4" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" UseTTSTextExpression="第二轮，${?l:&#xD;&#xA;  带着线去${if: ${v:M8s_TT_b左侧线} ? 左 : 右 }侧，然后靠后等待,&#xD;&#xA;  接线，然后靠后分摊,&#xD;&#xA;  ${if: ${v:M8s_TT_b左侧线} ? 右 : 左 }前准备接线,&#xD;&#xA;  靠前引导直线,&#xD;&#xA;  &#xD;&#xA;  ${if: ${v:M8s_TT_b左侧线} ? 右 : 左 }侧贴边躲开，挂机,&#xD;&#xA;  ${if: ${v:M8s_TT_b左侧线} ? 右 : 左 }后，贴边分摊,&#xD;&#xA;  挂机,&#xD;&#xA;  靠前引导直线&#xD;&#xA;  &#xD;&#xA;  [${v:M8s_TT_idx}]&#xD;&#xA;}" ActionType="UseTTS" ExecutionDelayExpression="7100" />
<Action OrderNumber="8" LogMessageText="cd5:7.1" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_TT_idx} % 4" ExpressionTypeL="Numeric" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" UseTTSTextExpression="第三轮，${?l:&#xD;&#xA;  传送回去，然后靠前引导直线,&#xD;&#xA;  带着线去${if: ${v:M8s_TT_b左侧线} ? 左 : 右 }侧，然后靠后等待,&#xD;&#xA;  接线，然后靠后分摊,&#xD;&#xA;  ${if: ${v:M8s_TT_b左侧线} ? 右 : 左 }前准备接线,&#xD;&#xA;  &#xD;&#xA;  靠前引导直线,&#xD;&#xA;  ${if: ${v:M8s_TT_b左侧线} ? 右 : 左 }侧贴边躲开，挂机,&#xD;&#xA;  ${if: ${v:M8s_TT_b左侧线} ? 右 : 左 }后，贴边分摊,&#xD;&#xA;  挂机&#xD;&#xA;    &#xD;&#xA;  [${v:M8s_TT_idx}]&#xD;&#xA;}" ActionType="UseTTS" ExecutionDelayExpression="7100" />
<Action OrderNumber="10" LogMessageText="cd5:7.1" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_TT_idx} % 4" ExpressionTypeL="Numeric" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="11" UseTTSTextExpression="第四轮，${?l:&#xD;&#xA;  挂机,&#xD;&#xA;  传送回去，然后靠前引导直线,&#xD;&#xA;  带着线去${if: ${v:M8s_TT_b左侧线} ? 左 : 右 }侧，然后靠后等待,&#xD;&#xA;  接线，然后靠后分摊,&#xD;&#xA;&#xD;&#xA;  挂机,&#xD;&#xA;  靠前引导直线,&#xD;&#xA;  ${if: ${v:M8s_TT_b左侧线} ? 右 : 左 }侧贴边躲开，挂机,&#xD;&#xA;  ${if: ${v:M8s_TT_b左侧线} ? 右 : 左 }后，贴边分摊&#xD;&#xA;  [${v:M8s_TT_idx}]&#xD;&#xA;}" ActionType="UseTTS" ExecutionDelayExpression="7100" />
<Action OrderNumber="12" LogMessageText="cd5:7.1" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M8s_TT_idx} % 4" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="13" UseTTSTextExpression="准备转盘" ActionType="UseTTS" ExecutionDelayExpression="7100" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="绿圈" Id="3195e0d8-687a-4cb0-be00-bce2bb5fbd37" RegularExpression="^.{15}\S+ 105:Add:.+BNpcID:1EBD8F:.*PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):PosZ:(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="general_1bf, 7.0,   ${x}, ${y}, ${z}, 0,   9.5, 9.5, 1,   0.05, 0.3, 0.05, 2" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="false" Name="Debug Log" Id="8d029a9e-ca8d-4e85-8f72-9a664518b179" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[00:00:00.000] 0 23:40000000:x:${_me.id}:x:x:x:0054" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 踩塔判定" Id="02fe734d-16b6-42f3-a172-d13d610df90e" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:A46F:[^:]*:(?&lt;tid&gt;1.{7})">
<Actions>
<Action OrderNumber="1" SystemBeepLengthExpression="200" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 读条" Id="5c988718-fee4-4f8e-8277-92c5d9f94737" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A82A:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="踩塔，${?l:&#xD;&#xA;  &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &#xD;&#xA;  准备去右侧平台, 准备去左侧平台, 准备去右侧平台, 准备去左侧平台&#xD;&#xA;  [${v:myIdx}]&#xD;&#xA;}" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="注册小队：自身" Id="a7f43b64-315d-4478-92a3-5873ac6761c1" RegularExpression="^.{15}\S+ 01:(?&lt;zoneid&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="PartyList:Register:${env:zone}:Self" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${zoneid}" ExpressionTypeL="Numeric" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1257$" Id="7c1b128a-128c-4bb5-83a0-5df07c1eb8f4" Name="M5s v1.0.5" Enabled="true" RawEnvironmentVariables="zone = 1257">
<Folders>
<Folder Id="4c20a738-afcd-41b9-b3f5-1b6442ce711e" Name="杂项" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2、4、8 分音符" Id="669647b3-f771-4fa0-9b97-90f5959b29c4" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A75(?&lt;type&gt;9|B|D):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d: 9 = 双组分摊, B = 两人分摊, D = 全体分散 [${type}] }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="InvokeOnMultipleEntities" NamedCallbackParam="IsD = 1&#xD;&#xA;LockOn, _address, z3o3_b0_gimmick04_t0n" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.isTH}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="B" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="InvokeOnMultipleEntities" NamedCallbackParam="IsTH = 1&#xD;&#xA;LockOn, _address, z3o3_b0_gimmick04_t0n" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.isTH}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="B" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="InvokeOnMultipleEntities" NamedCallbackParam="Type = 1&#xD;&#xA;LockOn, _address, m0420tar_5m0f" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="D" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="跳舞倒计时" Id="daec9761-7d21-49f0-a4ce-45a77eaaf538" RegularExpression="^.{15}\S+ 1A:116D:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:${t}" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="时间轴" Id="bbf9fd9c-f539-48d0-8abf-ac85fa383dd1" RegularExpression="^.{15}\S+ 104:.:1:.:1">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:4.0:死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:58.5:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:121.9:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:129.0:死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:276.8:死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:284.3:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:356.3:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:507.2:死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:554.0:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="210 * 1000" />
<Action OrderNumber="11" UseTTSTextExpression="${if: ${_entity[bnpcid = 18361].TargetID} == ${_me.id} ? 拉怪到下半场 : 准备地火站位 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="取消灯光" Id="37dc5751-e5a5-498a-8437-edbd0b227f6f" RegularExpression="^.{15}\S+ 1A:808:[^:]*:[^:]*:[^:]*:[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:37D:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="SetOpacity" NamedCallbackParam="${_entity[${tid}].Address}, 0.3" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="cce66328-c2b0-4983-8374-8471b7fffecf" Name="B. 格子" Enabled="true" RawEnvironmentVariables="phase = 格">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化" Id="3b0cae71-b1f2-437b-8778-b8df0fe3b258" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A756:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M5s_格" ActionType="Variable" />
<Action OrderNumber="2" UseTTSTextExpression="AoE，追光灯" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 获取地板 =&gt; O1" Id="dbc7b3b2-c7bb-40c9-bc78-04766539ce9f" RegularExpression="^.{15}\S+ 101:[^:]*:(?&lt;type&gt;0002|0020).{4}:03">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="地板：最终判定时和初始相反" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_格_is最终主斜Safe" VariableExpression="0x${type} = 0x0002" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="灯：短组与初始相反 长组与初始相同" DescriptionOverride="True" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M5s_格_is最终灯偏逆" VariableExpression="${v:M5s_格_is初始灯偏逆} != ${v:M5s_格_is自先}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" LogMessageText="M5s_格:is主斜:${v:M5s_格_is最终主斜Safe}:is灯逆:${v:M5s_格_is最终灯偏逆}:is自先:${v:M5s_格_is自先}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_格_is最终主斜Safe}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_phase_地火}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1.1 获取追光灯初始位置" Id="9c310fcb-7bc6-4806-8b0d-1cf7d131d580" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18363:(?&lt;x&gt;[^:]*):92">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="（四个正方向偏逆时针）" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_格_is初始灯偏逆" VariableExpression="${x} &lt; 100" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O2. 钢铁月环" Id="ecd66950-ac3e-4bfd-a06d-e2f8d4d9ec83" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A77(?&lt;type&gt;C|E):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${type} == C ? 外 : 内 }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: M5s&#xD;&#xA;Delay: 0x0${type} = 0xC ? 0 : 5.3&#xD;&#xA;t:     0x0${type} = 0xC ? 5 : 2.7&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 7&#xD;&#xA;Color: 1.3, 0.7, 0.4, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: gl_sircle_4005bf&#xD;&#xA;Tag: M5s&#xD;&#xA;Delay: 0x0${type} = 0xE ? 0 : 5.3&#xD;&#xA;t:     0x0${type} = 0xE ? 5 : 2.7&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 40&#xD;&#xA;Color: 1.3, 0.7, 0.4, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="5000" />
<Action OrderNumber="5" UseTTSTextExpression="${if: ${type} == C ? 内 : 外 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1.2 获取 Debuff" Id="6f9ba912-fb0e-419e-9f7d-a1532a9220f9" RegularExpression="^.{15}\S+ 1A:116D:[^:]+:(?&lt;t&gt;[23][^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5s_格_is自先" VariableExpression="${t} &lt; 27.5" ActionType="Variable" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-01 13:30" Id="bbed6c9f-5a35-4536-b0ae-202dbb698999" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[10:29:21.716] StartsCasting 14:40007921:Dancing Green:A756:Disco Infernal:40007921:Dancing Green:3.700:99.99:99.99:0.00:-3.13" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="4.55 * 1000" />
<Action OrderNumber="3" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:23.50:E0000000::${l:party[1]}:队员:00:242272:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:23.50:E0000000::${l:party[2]}:队员:00:151750:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:23.50:E0000000::${l:party[3]}:队员:00:240795:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:23.50:E0000000::${l:party[4]}:队员:00:150937:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:31.50:E0000000::${l:party[5]}:队员:00:151720:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:31.50:E0000000::${l:party[6]}:队员:00:170351:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:31.50:E0000000::${l:party[7]}:队员:00:168726:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[10:29:26.262] StatusAdd 1A:116D:_rsv_4461_-1_1_0_0_S74CFC3B0_E74CFC3B0:31.50:E0000000::${l:party[8]}:队员:00:171113:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[10:29:26.262] _ActorSetPos AAA:10F:40007925:Spotlight:13780:18363:97.5000:92.5000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="13" LogMessageText="[10:29:27.732] 257 101:800375C2:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="5.12 * 1000" />
<Action OrderNumber="15" LogMessageText="[10:29:32.853] 257 101:800375C2:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="4.05 * 1000" />
<Action OrderNumber="17" LogMessageText="[10:29:36.908] 257 101:800375C2:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" ActionType="Placeholder" ExecutionDelayExpression="4.05 * 1000" />
<Action OrderNumber="19" LogMessageText="[10:29:40.957] 257 101:800375C2:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="4.05 * 1000" />
<Action OrderNumber="21" LogMessageText="[10:29:45.005] 257 101:800375C2:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" ActionType="Placeholder" ExecutionDelayExpression="4.06 * 1000" />
<Action OrderNumber="23" LogMessageText="[10:29:49.065] 257 101:800375C2:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" ActionType="Placeholder" ExecutionDelayExpression="4.06 * 1000" />
<Action OrderNumber="25" LogMessageText="[10:29:53.122] 257 101:800375C2:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="4.05 * 1000" />
<Action OrderNumber="27" LogMessageText="[10:29:57.178] 257 101:800375C2:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" ActionType="Placeholder" ExecutionDelayExpression="4.06 * 1000" />
<Action OrderNumber="29" LogMessageText="[10:30:01.236] 257 101:800375C2:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" ActionType="Placeholder" ExecutionDelayExpression="4.05 * 1000" />
<Action OrderNumber="31" LogMessageText="[10:30:05.288] 257 101:800375C2:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="O1. 跳舞位置" Id="06cefd30-883f-4f20-b215-d309ebe5f878" RegularExpression="^M5s_格:is主斜:(?&lt;is主斜&gt;0|1):is灯逆:(?&lt;is灯逆&gt;0|1):is自先:(?&lt;is自先&gt;0|1)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="灯逆 指的是最终轮到自己时灯偏逆" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_格_远_myDirN4" VariableExpression="!${is主斜} + 2 * !${v:myIdx_isG1}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[3478]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M5s_格_近_myDirN8" VariableExpression="${is主斜} * 2 + !${is灯逆} + 4 * !${v:myIdx_isG1}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[1256]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M5s_格_近_myθ" VariableExpression="dir2rad(${v:M5s_格_近_myDirN8}, -8) + (22.5° - arctan(1/3)) * (${v:M5s_格_近_myDirN8} % 2 = 1 ? 1 : -1)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[1256]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="5" UseTTSTextExpression="远程${if: 0${is自先} ? 壹组 : 贰组 }，准备去${f:pick(0${v:M5s_格_远_myDirN4}): 左上, 左下, 右下, 右上 }角" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[3478]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="6" UseTTSTextExpression="近战${if: 0${is自先} ? 壹组 : 贰组 }，准备去${f:pick(0${v:M5s_格_近_myDirN8}): 上偏左, 左偏上, 左偏下, 下偏左, 下偏右, 右偏下, 右偏上, 上偏右 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[1256]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_格_线&#xD;&#xA;t: ${is自先} ? 24 : 32&#xD;&#xA;θ: dir2rad(${v:M5s_格_远_myDirN4}, -4)&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.05, 12.5√2, 0&#xD;&#xA;Color: 3, 3, 3, 0.8&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M5s_格_点&#xD;&#xA;t: ${is自先} ? 24 : 32&#xD;&#xA;θ: dir2rad(${v:M5s_格_远_myDirN4}, -4)&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, -12.5√2&#xD;&#xA;ScaleCyl: 2.5, 0.3&#xD;&#xA;Color: 0, 2, 10, 2" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[3478]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="8" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_格_线&#xD;&#xA;t: ${is自先} ? 24 : 32&#xD;&#xA;θ: ${v:M5s_格_近_myθ}&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.05, 2.5√10, 0&#xD;&#xA;Color: 3, 3, 3, 0.8&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M5s_格_点&#xD;&#xA;t: ${is自先} ? 24 : 32&#xD;&#xA;θ: ${v:M5s_格_近_myθ}&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, -2.5√10&#xD;&#xA;ScaleCyl: 2.5, 0.3&#xD;&#xA;Color: 0, 2, 10, 2" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="[1256]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="9" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;O: 100, 100&#xD;&#xA;Waymarks: A1D4C3B2&#xD;&#xA;R: 12.5&#xD;&#xA;R2: 12.5√2" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 &#xD;&#xA;Scale: 2.5 &#xD;&#xA;2:  3, -1 &#xD;&#xA;4: -3,  1 " ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is主斜}${is灯逆}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="11" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 &#xD;&#xA;Scale: 2.5 &#xD;&#xA;2:  1, -3 &#xD;&#xA;4: -1,  3 " ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is主斜}${is灯逆}" ExpressionTypeL="String" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="12" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 &#xD;&#xA;Scale: 2.5 &#xD;&#xA;1: -1, -3 &#xD;&#xA;3:  1,  3 " ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is主斜}${is灯逆}" ExpressionTypeL="String" ExpressionR="01" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="13" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 &#xD;&#xA;Scale: 2.5 &#xD;&#xA;1: -3, -1 &#xD;&#xA;3:  3,  1 " ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${is主斜}${is灯逆}" ExpressionTypeL="String" ExpressionR="00" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="14" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="31500" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="地板预兆提前显示" Id="91d5abcd-5033-4b55-93d6-8bfc1944b2f9" RegularExpression="^.{15}\S+ 101:.{8}:(?&lt;type&gt;0080|0008)....:03">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="0020: 副斜向预兆  0080：副斜向判定  0002：主斜向预兆  0008：主斜向判定" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="M5s_格_预兆_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="判定（不是最后一次）：提前删除特效，并提前生成相反预兆" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="MapEffect" NamedCallbackParam="3, 0x0040" ActionType="NamedCallback" ExecutionDelayExpression="800">
<Condition Enabled="true" Grouping="Or">
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_格_预兆_n}" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_phase_地火}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_格_预兆_n}" ExpressionTypeL="Numeric" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_phase_地火}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionSingle Enabled="false" ExpressionL="注：开场的有十次 结束的有八次" ExpressionTypeL="String" ExpressionR="" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" NamedCallbackName="MapEffect" NamedCallbackParam="3, ${type} = 8 ? 0x0020 : 0x0002" ActionType="NamedCallback" ExecutionDelayExpression="100">
<Condition Enabled="true" Grouping="Or">
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_格_预兆_n}" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_phase_地火}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionGroup Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_格_预兆_n}" ExpressionTypeL="Numeric" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_phase_地火}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</ConditionGroup>
<ConditionSingle Enabled="false" ExpressionL="注：开场的有十次 结束的有八次" ExpressionTypeL="String" ExpressionR="" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 地板" Id="87236d67-9b0f-4869-ab7e-48dd7492c047" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[10:29:21.716] StartsCasting 14:40007921:Dancing Green:A756:Disco Infernal:40007921:Dancing Green:3.700:99.99:99.99:0.00:-3.13" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500" />
<Action OrderNumber="3" LogMessageText="[08:36:52.475] 257 101:800375C1:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00200010:03" ActionType="NamedCallback" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="3.04 * 1000" />
<Action OrderNumber="6" LogMessageText="[08:36:55.518] 257 101:800375C1:00800004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00800004:03" ActionType="NamedCallback" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="9" LogMessageText="[08:36:57.617] 257 101:800375C1:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00020001:03" ActionType="NamedCallback" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="1.97 * 1000" />
<Action OrderNumber="12" LogMessageText="[08:36:59.584] 257 101:800375C1:00080004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:03" ActionType="NamedCallback" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="15" LogMessageText="[08:37:01.686] 257 101:800375C1:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00200010:03" ActionType="NamedCallback" />
<Action OrderNumber="17" ActionType="Placeholder" ExecutionDelayExpression="1.96 * 1000" />
<Action OrderNumber="18" LogMessageText="[08:37:03.646] 257 101:800375C1:00800004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00800004:03" ActionType="NamedCallback" />
<Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="21" LogMessageText="[08:37:05.749] 257 101:800375C1:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00020001:03" ActionType="NamedCallback" />
<Action OrderNumber="23" ActionType="Placeholder" ExecutionDelayExpression="1.97 * 1000" />
<Action OrderNumber="24" LogMessageText="[08:37:07.715] 257 101:800375C1:00080004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="25" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:03" ActionType="NamedCallback" />
<Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="27" LogMessageText="[08:37:01.686] 257 101:800375C1:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00200010:03" ActionType="NamedCallback" />
<Action OrderNumber="29" ActionType="Placeholder" ExecutionDelayExpression="1.96 * 1000" />
<Action OrderNumber="30" LogMessageText="[08:37:03.646] 257 101:800375C1:00800004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="31" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00800004:03" ActionType="NamedCallback" />
<Action OrderNumber="32" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="33" LogMessageText="[08:37:05.749] 257 101:800375C1:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00020001:03" ActionType="NamedCallback" />
<Action OrderNumber="35" ActionType="Placeholder" ExecutionDelayExpression="1.97 * 1000" />
<Action OrderNumber="36" LogMessageText="[08:37:07.715] 257 101:800375C1:00080004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="37" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:03" ActionType="NamedCallback" />
<Action OrderNumber="38" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="39" LogMessageText="[08:37:01.686] 257 101:800375C1:00200010:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="40" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00200010:03" ActionType="NamedCallback" />
<Action OrderNumber="41" ActionType="Placeholder" ExecutionDelayExpression="1.96 * 1000" />
<Action OrderNumber="42" LogMessageText="[08:37:03.646] 257 101:800375C1:00800004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="43" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00800004:03" ActionType="NamedCallback" />
<Action OrderNumber="44" ActionType="Placeholder" ExecutionDelayExpression="2.10 * 1000" />
<Action OrderNumber="45" LogMessageText="[08:37:05.749] 257 101:800375C1:00020001:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="46" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00020001:03" ActionType="NamedCallback" />
<Action OrderNumber="47" ActionType="Placeholder" ExecutionDelayExpression="1.97 * 1000" />
<Action OrderNumber="48" LogMessageText="[08:37:07.715] 257 101:800375C1:00080004:03::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="49" LogProcess="True" LogProcessACT="True" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:03" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="e238ffee-66b6-4a08-8e56-95ccb137878c" Name="A. 半场刀" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 记录" Id="3f4c7545-b232-41de-ab06-b0ac1afed32e" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A78(?&lt;type&gt;0|1):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5s_半场_is双组" VariableExpression="${type} = 1" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 二段左右刀" Id="85b72065-5e54-463f-98d0-af920f5c2170" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A72(?&lt;type&gt;[89ABCD]):">
<Actions>
<Action OrderNumber="1" LogMessageText="_M5s_半场:is先去左:${n: 0x${type} &lt;= 0xA }:t:6.5" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 三段左右刀" Id="3754d361-0b5e-4e79-9cbb-51cebb4c3913" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A73(?&lt;type&gt;[012345]):">
<Actions>
<Action OrderNumber="1" LogMessageText="_M5s_半场:is先去左:${n: 0x${type} &lt;= 0x2 }:t:6.9" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.3 四段左右刀" Id="677fe1c6-c616-495b-8304-3de80a0fe97c" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A73(?&lt;type&gt;[9ABCDE]):">
<Actions>
<Action OrderNumber="1" LogMessageText="_M5s_半场:is先去左:${n: 0x${type} &lt;= 0xB }:t:7.0" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O1. 处理左右刀" Id="1c81d249-4b3b-4095-88fa-1d5acdad36a3" RegularExpression="^_M5s_半场:is先去左:(?&lt;is先去左&gt;0|1):t:(?&lt;t&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${is先去左} ? 左 : 右 }，${if: ${v:M5s_半场_is双组} ? 双组分摊 : 职能分散 }" ActionType="UseTTS" />
<Action OrderNumber="2" SystemBeepFreqExpression="" SystemBeepLengthExpression="" LogMessageText="beep:${t}" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" SystemBeepFreqExpression="" SystemBeepLengthExpression="" LogMessageText="beep:8.5" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" UseTTSTextExpression="穿" ActionType="UseTTS" ExecutionDelayExpression="${t} * 1000 - 100" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.4 追光灯 + 引导扇形之后" Id="21266c51-e1b7-4484-b4f7-87aa0acba9f4" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:A4(?&lt;type&gt;D[78BCDEF]|E0):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="A4E0 左4 63136" DescriptionOverride="True" />
<Action OrderNumber="2" LogMessageText="_M5s_半场:is先去左:${n: 0x${type} % 2 = 1 }:t:7.0" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="40abb771-b30d-4b3a-87df-771c6115bc45" Name="E. 地火" Enabled="true" RawEnvironmentVariables="phase = 地火">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 开始" Id="5cac2225-3c2b-4517-bea4-b750b3a4f127" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A754:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="地火" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="[F] 地火 AoE 范围" Id="5a455e49-3ad5-4f29-9e88-14a7c41172f7" RegularExpression="^M5s_地火:n:(?&lt;n&gt;\d+):keepX:(?&lt;keepX&gt;[01])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_1&#xD;&#xA;Update: false&#xD;&#xA;Pos: -17.5, 0&#xD;&#xA;Scale: 20, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_2&#xD;&#xA;Update: false&#xD;&#xA;Pos: -12.5, 0&#xD;&#xA;Scale: 20, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_3&#xD;&#xA;Update: false&#xD;&#xA;Pos: -7.5, 10&#xD;&#xA;Scale: 10, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_4&#xD;&#xA;Update: false&#xD;&#xA;Pos: -2.5, -12.5&#xD;&#xA;Scale: 7.5, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_5&#xD;&#xA;Update: false&#xD;&#xA;Pos: 2.5, 0&#xD;&#xA;Scale: 20, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_6&#xD;&#xA;Update: false&#xD;&#xA;Pos: 7.5, 10&#xD;&#xA;Scale: 10, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_7&#xD;&#xA;Update: false&#xD;&#xA;Pos: 12.5, -12.5&#xD;&#xA;Scale: 7.5, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Omen: z5r3_cross_01c2&#xD;&#xA;Tag: M5s_地火_8&#xD;&#xA;Update: false&#xD;&#xA;Pos: 17.5, 0&#xD;&#xA;Scale: 20, 2.5&#xD;&#xA;t: 2&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_地火_[1-8]&#xD;&#xA;O: 100, 60 + 5 * ${n}, 0&#xD;&#xA;Angle: π/2&#xD;&#xA;+X: ${keepX}" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取初始" Id="e51b09b5-e67d-4700-b79c-665a75e59805" RegularExpression="^.{15}\S+ 101:.{8}:(?&lt;type&gt;0080|0200).{4}:04">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="00800080:04 初始偏左" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_地火_b右Safe" VariableExpression="0x${type} = 0x0200" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M5s_地火:n:1:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="850" />
<Action OrderNumber="4" LogMessageText="M5s_地火:n:2:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="5" LogMessageText="M5s_地火:n:3:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="6" LogMessageText="M5s_地火:n:4:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="7" LogMessageText="M5s_地火:n:5:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="8" LogMessageText="M5s_地火:n:6:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="9" LogMessageText="M5s_地火:n:7:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="10" LogMessageText="M5s_地火:n:8:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="11" LogMessageText="M5s_地火:n:9:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="12" LogMessageText="M5s_地火:n:10:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="13" LogMessageText="M5s_地火:n:11:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="14" LogMessageText="M5s_地火:n:12:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="15" LogMessageText="M5s_地火:n:13:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="16" LogMessageText="M5s_地火:n:14:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
<Action OrderNumber="17" LogMessageText="M5s_地火:n:15:keepX:${v:M5s_地火_b右Safe}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="2050" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="打断动画" Id="3e85edcf-31f7-4109-9bce-a6016401b899" RegularExpression="^.{15}\S+ 101:.{8}:.{8}:(?&lt;pos&gt;0[5-9A-C])">
<Actions>
<Action OrderNumber="1" NamedCallbackName="MapEffect" NamedCallbackParam="0x${pos}, 0x4" ActionType="NamedCallback" ExecutionDelayExpression="500" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="3920b3da-958a-4d8e-a1e3-046a6f0aab24" Name="D. 伴舞" Enabled="true" RawEnvironmentVariables="phase = 伴舞">
<Folders>
<Folder Id="a829da04-ab63-42d5-9411-ee0f224c9bdf" Name="第 2 阶段" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="4.1 第二阶段 Let's Dance =&gt; O2.1" Id="01b83174-aa54-4685-aae5-ecb18e31eea2" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A390:">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5s_伴舞_n" VariableExpression="1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="初始安全的两个斜方向" DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_dirN4_1" VariableExpression="${l:M5s_伴舞_safeDir4[1]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="tmp_dirN4_2" VariableExpression="(${l:M5s_伴舞_safeDir4[1]} + 3) % 4" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="这两个方向为基准，八次分别是否安全" DescriptionOverride="True" />
<Action OrderNumber="6" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="tmp_bSafe1" ListVariableExpression="${l:M5s_伴舞_safeDir4[${_idx}]} == ${v:tmp_dirN4_1} || ${l:M5s_伴舞_safeDir4[${_idx}]} == (${v:tmp_dirN4_1} + 1) % 4" ListVariableIndex="8" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="7" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="tmp_bSafe2" ListVariableExpression="${l:M5s_伴舞_safeDir4[${_idx}]} == ${v:tmp_dirN4_2} || ${l:M5s_伴舞_safeDir4[${_idx}]} == (${v:tmp_dirN4_2} + 1) % 4" ListVariableIndex="8" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="这两个方向开始，七次是否需要穿" DescriptionOverride="True" />
<Action OrderNumber="9" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="tmp_bMove1" ListVariableExpression="${l:tmp_bSafe1[${_idx}]} != ${l:tmp_bSafe1[${n: ${_idx} + 1}]}" ListVariableIndex="7" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="10" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="tmp_bMove2" ListVariableExpression="${l:tmp_bSafe2[${_idx}]} != ${l:tmp_bSafe2[${n: ${_idx} + 1}]}" ListVariableIndex="7" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="11" ActionType="Placeholder" Asynchronous="False" Description="需要穿的次数更少的方向：" DescriptionOverride="True" />
<Action OrderNumber="12" VariableOp="SetNumeric" VariableName="M5s_伴舞_dirN4_0" VariableExpression="${l:tmp_bMove1.sum} &lt; ${l:tmp_bMove2.sum} ? ${v:tmp_dirN4_1} : ${v:tmp_dirN4_2}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="13" ListVariableOp="Copy" ListVariableExpressionType="Numeric" ListVariableName="${if: ${l:tmp_bMove1.sum} &lt; ${l:tmp_bMove2.sum} ? tmp_bSafe1 : tmp_bSafe2 }" ListVariableTarget="M5s_伴舞_bSafe" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="14" ListVariableOp="Copy" ListVariableExpressionType="Numeric" ListVariableName="${if: ${l:tmp_bMove1.sum} &lt; ${l:tmp_bMove2.sum} ? tmp_bMove1 : tmp_bMove2 }" ListVariableTarget="M5s_伴舞_bMove" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="15" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True" />
<Action OrderNumber="16" LogMessageText="M5s_伴舞2:n:${v:M5s_伴舞_n}:dirN4_0:${v:M5s_伴舞_dirN4_0}:bSafe:${l:M5s_伴舞_bSafe[${v:M5s_伴舞_n}]}:bMove:${l:M5s_伴舞_bMove[${n: ${v:M5s_伴舞_n} - 1}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="17" VariableOp="UnsetRegexUniversal" VariableName="^tmp_" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="4.2 第二阶段 技能判定 =&gt; O2.2/2.3" Id="6667e515-b3a2-4048-a0a2-4e2862647996" RegularExpression="^.{15}\S+ 15:[^:]+:[^:]+:A39[1234]">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M5s_伴舞_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M5s_伴舞2:n:${v:M5s_伴舞_n}:dirN4_0:${v:M5s_伴舞_dirN4_0}:bSafe:${l:M5s_伴舞_bSafe[${v:M5s_伴舞_n}]}:bMove:${l:M5s_伴舞_bMove[${n: ${v:M5s_伴舞_n} - 1}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="O2.2 第 1-7 次" Id="63959d95-d005-48f0-9e41-343a5f373c6f" RegularExpression="^M5s_伴舞2:n:[2-8]:dirN4_0:(?&lt;dirN4_0&gt;[0-3]):bSafe:(?&lt;bSafe&gt;[01]?):bMove:(?&lt;bMove&gt;[01]?)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="200" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${bMove} ? 穿 : 停 }" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:M5s_伴舞_dirN4_0} + 2 * !(0${bSafe}), 4)&#xD;&#xA;1: -1.1, -1.1&#xD;&#xA;2: -3.3, -1.1&#xD;&#xA;3: -3.3, -3.3&#xD;&#xA;4: -1.1, -3.3" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" LogMessageText="beep:0.2" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${bMove}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="O2.1 起始" Id="f2b8c134-806d-4771-bb83-4a06c1aef1cf" RegularExpression="^M5s_伴舞2:n:1:dirN4_0:(?&lt;dirN4_0&gt;[0-3]):bSafe:(?&lt;bSafe&gt;[01]?):bMove:(?&lt;bMove&gt;[01]?)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;Waymarks: ADCB&#xD;&#xA;R: 10&#xD;&#xA;O: 100, 100&#xD;&#xA;---&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:M5s_伴舞_dirN4_0} + 2 * !(0${bSafe}), 4)&#xD;&#xA;1: -1.1, -1.1&#xD;&#xA;2: -3.3, -1.1&#xD;&#xA;3: -3.3, -3.3&#xD;&#xA;4: -1.1, -3.3" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="生成文本播报" DescriptionOverride="True" />
<Action OrderNumber="3" ListVariableOp="SetAll" ListVariableName="M5s_伴舞_strMove" ListVariableExpression="${if: ${l:M5s_伴舞_bMove[${_idx}]} ? 穿 : 停 }" ListVariableIndex="7" ActionType="ListVariable" />
<Action OrderNumber="4" UseTTSTextExpression="${?d: 0 = 左上, 1 = 左下, 2 = 右下, 3 = 右上 [${dirN4_0}]}开始，${l:M5s_伴舞_strMove.join(&quot; &quot;)}" UseTTSExclusive="False" ActionType="UseTTS" />
<Action OrderNumber="5" NamedCallbackName="hint" NamedCallbackParam="15&#xD;&#xA;起始：${?d: 0 = 左上, 1 = 左下, 2 = 右下, 3 = 右上 [${dirN4_0}]}&#xD;&#xA;${l:M5s_伴舞_strMove.join(&quot; &quot;)}" ActionType="NamedCallback" />
<Action OrderNumber="6" ListVariableName="M5s_伴舞_strMove" ActionType="ListVariable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O2.3 第 8 次" Id="d31300bf-90fc-46f6-8131-0b11d17e6f85" RegularExpression="^M5s_伴舞2:n:9:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="200" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2" Id="7224bc31-00d3-4aae-a4ff-dd5b3fb472e6" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:55:55.048] StartsCasting 14:4000A75A:Dancing Green:9A32:Ensemble Assemble:4000A75A:Dancing Green:2.700:99.99:99.99:0.00:-2.51" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="0.70 * 1000" />
<Action OrderNumber="3" LogMessageText="[12:55:55.744] StartsCasting 14:4000A76A:Frogtourage:A70A:unknown_a70a:4000A76A:Frogtourage:1.400:78.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="5" LogMessageText="[12:55:56.197] StartsCasting 14:4000A769:Frogtourage:A70C:unknown_a70c:4000A769:Frogtourage:1.400:84.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="7" LogMessageText="[12:55:56.652] StartsCasting 14:4000A768:Frogtourage:A70B:unknown_a70b:4000A768:Frogtourage:1.400:90.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="0.46 * 1000" />
<Action OrderNumber="9" LogMessageText="[12:55:57.109] StartsCasting 14:4000A767:Frogtourage:A70D:unknown_a70d:4000A767:Frogtourage:1.400:96.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="11" LogMessageText="[12:55:57.559] StartsCasting 14:4000A766:Frogtourage:A70A:unknown_a70a:4000A766:Frogtourage:1.400:103.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="13" LogMessageText="[12:55:58.012] StartsCasting 14:4000A765:Frogtourage:A70C:unknown_a70c:4000A765:Frogtourage:1.400:109.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="0.46 * 1000" />
<Action OrderNumber="15" LogMessageText="[12:55:58.465] StartsCasting 14:4000A764:Frogtourage:A70D:unknown_a70d:4000A764:Frogtourage:1.400:115.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="17" LogMessageText="[12:55:58.916] StartsCasting 14:4000A763:Frogtourage:A70B:unknown_a70b:4000A763:Frogtourage:1.400:121.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" ActionType="Placeholder" ExecutionDelayExpression="0.59 * 1000" />
<Action OrderNumber="19" LogMessageText="[12:55:59.504] StartsCasting 14:4000A75A:Dancing Green:A390:Let's Dance! Remix:4000A75A:Dancing Green:5.500:99.99:99.99:0.00:0.01" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="4.01 * 1000" />
<Action OrderNumber="21" LogMessageText="[12:56:03.518] ActionEffect 15:4000A75A:Dancing Green:A391:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3918000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:28362671:105549682:10000:10000:::99.99:99.99:0.00:0.01:28362671:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064D0:0:1:00::01:A391:A391:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="23" LogMessageText="[12:56:04.987] ActionEffect 15:4000A75A:Dancing Green:A393:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3938000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:28103509:105549682:10000:10000:::99.99:99.99:0.00:0.01:28103509:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064D9:0:1:00::01:A393:A393:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="25" LogMessageText="[12:56:06.460] ActionEffect 15:4000A75A:Dancing Green:A392:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3928000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27970383:105549682:10000:10000:::99.99:99.99:0.00:0.01:27970383:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064E4:0:1:00::01:A392:A392:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="27" LogMessageText="[12:56:07.932] ActionEffect 15:4000A75A:Dancing Green:A394:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3948000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27760712:105549682:10000:10000:::99.99:99.99:0.00:0.01:27760712:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064EC:0:1:00::01:A394:A394:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="29" LogMessageText="[12:56:09.402] ActionEffect 15:4000A75A:Dancing Green:A391:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3918000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27608980:105549682:10000:10000:::99.99:99.99:0.00:0.01:27608980:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064F5:0:1:00::01:A391:A391:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" ActionType="Placeholder" ExecutionDelayExpression="1.48 * 1000" />
<Action OrderNumber="31" LogMessageText="[12:56:10.874] ActionEffect 15:4000A75A:Dancing Green:A393:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3938000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27560163:105549682:10000:10000:::99.99:99.99:0.00:0.01:27560163:105549682:10000:10000:::99.99:99.99:0.00:0.01:000064FB:0:1:00::01:A393:A393:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="32" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="33" LogMessageText="[12:56:12.345] ActionEffect 15:4000A75A:Dancing Green:A394:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3948000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27283054:105549682:10000:10000:::99.99:99.99:0.00:0.01:27283054:105549682:10000:10000:::99.99:99.99:0.00:0.01:00006502:0:1:00::01:A394:A394:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" ActionType="Placeholder" ExecutionDelayExpression="1.47 * 1000" />
<Action OrderNumber="35" LogMessageText="[12:56:13.818] ActionEffect 15:4000A75A:Dancing Green:A392:Let's Dance! Remix:4000A75A:Dancing Green:1B:A3928000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:27191804:105549682:10000:10000:::99.99:99.99:0.00:0.01:27191804:105549682:10000:10000:::99.99:99.99:0.00:0.01:0000650D:0:1:00::01:A392:A392:1.500:7FFF" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="0366a515-3c78-4d4f-a850-38d7912e5681" Name="第 1 阶段" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="3.1 第一阶段 Let's Dance =&gt; O1.1" Id="1b8b44fd-ccdf-4cc9-9527-fcda016fc781" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A76A:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="处理 αβ" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_tmin" VariableExpression="${t:M5s_伴舞_αβ.min(n, 2)}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" TableVariableOp="SlicesSetAll" TableVariableExpressionType="Numeric" TableVariableName="M5s_伴舞_αβ" TableVariableExpression="round((${_this} - ${v:tmp_tmin}) / 5) + 1" TableVariableX="2" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="4" TableVariableOp="SortLine" TableVariableName="M5s_伴舞_αβ" TableVariableY="s+: ${_row[1]}${_row[2]}${_row[3]}" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="5" VariableName="tmp_tmin" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="此时表格三列为：第几组（1-4），是否为 β（0|1），队员 id" DescriptionOverride="True" />
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="找到自己的 debuff" DescriptionOverride="True" />
<Action OrderNumber="8" TableVariableOp="FilterLine" TableVariableName="M5s_伴舞_αβ" TableVariableTarget="tmp_me" TableVariableY="0x${_row[3]} = 0x${_me.id}" ActionType="TableVariable" Asynchronous="False" />
<Action OrderNumber="9" VariableOp="SetNumeric" VariableName="tmp_bValid" VariableExpression="${t:tmp_me.height} = 1" TableVariableExpressionType="Numeric" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="10" VariableOp="SetNumeric" VariableName="M5s_伴舞_myRow" VariableExpression="${v:tmp_bValid} ? ${t:tmp_me[2][1]} : 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" ActionType="Placeholder" Asynchronous="False" Description="只有一个 debuff 时找到自己的同组" DescriptionOverride="True" />
<Action OrderNumber="12" TableVariableOp="FilterLine" TableVariableName="M5s_伴舞_αβ" TableVariableTarget="tmp_partner" TableVariableY="${_row[1]} != 0x${t:tmp_me[1][1]} &amp;&amp; ${_row[2]} = 0x${t:tmp_me[2][1]}" ActionType="TableVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:tmp_bValid}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="13" VariableOp="SetString" VariableName="M5s_伴舞_myPartner" VariableExpression="${if: ${t:tmp_partner.height} = 1 ? ${t:tmp_partner[3][1]} : 0}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="14" ActionType="Placeholder" Asynchronous="False" Description="处理左右刀数据" DescriptionOverride="True" />
<Action OrderNumber="15" VariableOp="SetNumeric" VariableName="M5s_伴舞_n" VariableExpression="1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="16" ListVariableOp="SetAll" ListVariableExpressionType="Numeric" ListVariableName="M5s_伴舞_bMove" ListVariableExpression="${l:M5s_伴舞_bRSafe[${_idx}]} != ${l:M5s_伴舞_bRSafe[${n: ${_idx} + 1}]}" ListVariableIndex="7" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="17" LogMessageText="M5s_伴舞1:n:${v:M5s_伴舞_n}:bRSafe:${l:M5s_伴舞_bRSafe[${v:M5s_伴舞_n}]}:bMove:${l:M5s_伴舞_bMove[${n: ${v:M5s_伴舞_n} - 1}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="18" LogMessageText="M5s_伴舞1_init:row:${v:M5s_伴舞_myRow}:partner:${t:tmp_partner[3][1]}:bRSafe:${l:M5s_伴舞_bRSafe[1]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3.2 第一阶段 技能判定 =&gt; O1.2/O1.3" Id="3cccd368-fff9-4ef2-8570-2b9ac733046b" RegularExpression="^.{15}\S+ 15:[^:]+:[^:]+:A76[BCDE]">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M5s_伴舞_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M5s_伴舞1:n:${v:M5s_伴舞_n}:bRSafe:${l:M5s_伴舞_bRSafe[${v:M5s_伴舞_n}]}:bMove:${l:M5s_伴舞_bMove[${n: ${v:M5s_伴舞_n} - 1}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="O1.1 起始" Id="0c59f63a-4e78-4a89-afe7-9ff423faa819" RegularExpression="^M5s_伴舞1_init:row:(?&lt;row&gt;[^:]*):partner:(?&lt;partnerId&gt;[^:]*):bRSafe:(?&lt;bRSafe&gt;[01])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="自己有 debuff" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="第${row}行，${if: ${bRSafe} ? 右侧 : 左侧 }开始" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${row}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;Waymarks: ADCB&#xD;&#xA;R: 15&#xD;&#xA;O: 100, 100&#xD;&#xA;---&#xD;&#xA;Action: Linear&#xD;&#xA;Waymarks: 1234&#xD;&#xA;Start: 100, 92.5, -4&#xD;&#xA;End: 100, 107.5, -4&#xD;&#xA;---&#xD;&#xA;${row}: 100, 87.5 + 5 * ${row}, 0" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${row}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
</Condition>
</Action>
<Action OrderNumber="4" NamedCallbackName="Channeling" NamedCallbackParam="${_me.Address}, ${_entity[${partnerId}].Address}, chn_leave_0v, 8 + ${row} * 5" ActionType="NamedCallback" DescTextColor="26f">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${row}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericGreaterEqual" />
<ConditionSingle Enabled="true" ExpressionL="0x0${partnerId}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="自己无 debuff" DescriptionOverride="True" />
<Action OrderNumber="6" UseTTSTextExpression="${if: ${bRSafe} ? 右侧 : 左侧 }开始" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_伴舞_myRow}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericEqual" />
</Condition>
</Action>
<Action OrderNumber="7" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#xD;&#xA;Waymarks: ADCB&#xD;&#xA;R: 15&#xD;&#xA;O: 100, 100&#xD;&#xA;---&#xD;&#xA;Action: Linear&#xD;&#xA;Waymarks: 1234&#xD;&#xA;Start: 100, 92.5&#xD;&#xA;End: 100, 107.5" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_伴舞_myRow}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericEqual" />
</Condition>
</Action>
<Action OrderNumber="8" NamedCallbackName="PictoACT" NamedCallbackParam="&#xA;Delay: 0.2&#xD;&#xA;Omen: Rect&#xD;&#xA;Tag: M5s_伴舞&#xD;&#xA;Pos: 100, 100&#xD;&#xA;Angle: 0${bRSafe} ? -π/2 : π/2&#xD;&#xA;Scale: 10, 10&#xD;&#xA;Color: 1.5, 0.2, 0.5, 2" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O1.2 第 1-7 次" Id="21a0f34f-6c5e-4709-b454-8d183bcd5b78" RegularExpression="^M5s_伴舞1:n:(?&lt;n&gt;[2-8]):bRSafe:(?&lt;bRSafe&gt;[01]?):bMove:(?&lt;bMove&gt;[01]?)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="200" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${bMove} ? 穿 : 停 }" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Delay: 0.2&#xD;&#xA;Action: Change&#xD;&#xA;Tag: M5s_伴舞&#xD;&#xA;Angle: 0${bRSafe} ? -π/2 : π/2" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="4" LogMessageText="beep:0.2" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${bMove}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O1.3 第 8 次" Id="ca66e4cb-b288-4eaa-9b06-8b5ddbda3268" RegularExpression="^M5s_伴舞1:n:9:">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="200" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Delay: 0.2&#xD;&#xA;Action: Remove&#xD;&#xA;Tag: M5s_伴舞" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-07-03 19:40" Id="ca9abe2c-a0d8-4649-8741-39c575f18dc0" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[10:30:41.400] StartsCasting 14:40007921:Dancing Green:9A32:Ensemble Assemble:40007921:Dancing Green:2.700:99.99:99.99:0.00:-2.40" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2.17 * 1000" />
<Action OrderNumber="3" LogMessageText="[10:30:43.567] StartsCasting 14:40007931:Frogtourage:A70C:unknown_a70c:40007931:Frogtourage:1.400:78.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="0.44 * 1000" />
<Action OrderNumber="5" LogMessageText="[10:30:44.012] StatusAdd 1A:116E:_rsv_4462_-1_1_0_0_S74CFC3B0_E74CFC3B0:40.50:E0000000::${l:party[1]}:队员:00:151720:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="7" LogMessageText="[10:30:46.013] StartsCasting 14:40007930:Frogtourage:A70D:unknown_a70d:40007930:Frogtourage:1.400:84.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="9" LogMessageText="[10:30:46.457] StatusAdd 1A:116F:_rsv_4463_-1_1_0_0_S74CFC3B0_E74CFC3B0:43.00:E0000000::${l:party[8]}:队员:00:240795:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="11" LogMessageText="[10:30:48.463] StartsCasting 14:4000792F:Frogtourage:A70D:unknown_a70d:4000792F:Frogtourage:1.400:90.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="13" LogMessageText="[10:30:48.908] StatusAdd 1A:116E:_rsv_4462_-1_1_0_0_S74CFC3B0_E74CFC3B0:25.50:E0000000::${l:party[3]}:队员:00:168726:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="15" LogMessageText="[10:30:50.913] StartsCasting 14:4000792E:Frogtourage:A70C:unknown_a70c:4000792E:Frogtourage:1.400:96.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="17" LogMessageText="[10:30:51.358] StatusAdd 1A:116F:_rsv_4463_-1_1_0_0_S74CFC3B0_E74CFC3B0:28.00:E0000000::${l:party[4]}:队员:00:150937:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="19" LogMessageText="[10:30:53.364] StartsCasting 14:4000792D:Frogtourage:A70D:unknown_a70d:4000792D:Frogtourage:1.400:103.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="21" LogMessageText="[10:30:53.809] StatusAdd 1A:116E:_rsv_4462_-1_1_0_0_S74CFC3B0_E74CFC3B0:25.50:E0000000::${l:party[5]}:队员:00:171113:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="23" LogMessageText="[10:30:55.813] StartsCasting 14:4000792C:Frogtourage:A70C:unknown_a70c:4000792C:Frogtourage:1.400:109.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="24" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="25" LogMessageText="[10:30:56.260] StatusAdd 1A:116F:_rsv_4463_-1_1_0_0_S74CFC3B0_E74CFC3B0:18.00:E0000000::${l:party[2]}:队员:00:242272:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="27" LogMessageText="[10:30:58.261] StartsCasting 14:4000792B:Frogtourage:A70D:unknown_a70d:4000792B:Frogtourage:1.400:115.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="28" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="29" LogMessageText="[10:30:58.707] StatusAdd 1A:116E:_rsv_4462_-1_1_0_0_S74CFC3B0_E74CFC3B0:30.50:E0000000::${l:party[6]}:队员:00:170351:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="30" ActionType="Placeholder" ExecutionDelayExpression="2.00 * 1000" />
<Action OrderNumber="31" LogMessageText="[10:31:00.708] StartsCasting 14:4000792A:Frogtourage:A70D:unknown_a70d:4000792A:Frogtourage:1.400:121.50:72.00:2.00:0.00" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="32" ActionType="Placeholder" ExecutionDelayExpression="0.45 * 1000" />
<Action OrderNumber="33" LogMessageText="[10:31:01.156] StatusAdd 1A:116F:_rsv_4463_-1_1_0_0_S74CFC3B0_E74CFC3B0:23.00:E0000000::${l:party[7]}:队员:00:151750:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="34" ActionType="Placeholder" ExecutionDelayExpression="4.13 * 1000" />
<Action OrderNumber="35" LogMessageText="[10:31:05.293] StartsCasting 14:40007921:Dancing Green:A76A:Let's Dance!:40007921:Dancing Green:5.500:99.99:99.99:0.00:0.01" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="36" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="0. 重置数据 Ensemble Assemble" Id="8b7ff441-a4f3-49c0-bdac-ffedc06131ca" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:9A32:">
<Actions>
<Action OrderNumber="1" ListVariableOp="UnsetRegex" VariableOp="UnsetRegexUniversal" VariableName="^M5s_伴舞" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 收集小人" Id="a1a9db44-a81e-4582-8721-3beccdfcfcd1" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:A70(?&lt;type&gt;[ABCD]):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="安全侧" DescriptionOverride="True" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableName="M5s_伴舞_safe" ListVariableExpression="${?d: A = 前, B = 后, C = 左, D = 右 [${type}]}" ActionType="ListVariable" />
<Action OrderNumber="3" ListVariableOp="Push" ListVariableName="M5s_伴舞_bRSafe" ListVariableExpression="${?d: C = 0, D = 1 [${type}]}" ActionType="ListVariable" />
<Action OrderNumber="4" ListVariableOp="Push" ListVariableName="M5s_伴舞_safeDir4" ListVariableExpression="${?d: A = 0, B = 2, C = 1, D = 3 [${type}]}" ActionType="ListVariable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 收集 αβ" Id="72d358c6-4b64-4e47-882a-459af1618dbd" RegularExpression="^.{15}\S+ 1A:(?&lt;aid&gt;116[EF]):[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" TableVariableOp="InsertLine" TableVariableName="M5s_伴舞_αβ" TableVariableExpression=",${n: 0x${aid} = 0x116F},${n: ${_timestampms} / 1000 + ${t}},${tid}" TableVariableY="1" ActionType="TableVariable" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="5d749465-4894-4c6f-924a-3cb640cc209e" Name="C. 钢铁月环" Enabled="true" RawEnvironmentVariables="phase = 钢月">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 重置数据 Ensemble Assemble" Id="a9bb1a95-9cdc-426c-9a26-561f897b0975" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:9A32:">
<Actions>
<Action OrderNumber="1" ListVariableOp="UnsetRegex" VariableOp="UnsetRegexUniversal" VariableName="^M5s_钢月" ActionType="Variable" />
<Action OrderNumber="2" UseTTSTextExpression="八方站位" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="回返扇形" Id="7bcffe5a-c7f4-4e1e-8803-e20481c2cc11" RegularExpression="^.{15}\S+ 108:4.{7}:A764:[^:]*:[^:]*:[^:]*:[^:]*:[^:]*:(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: gl_fan045_1bf&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 2.5&#xD;&#xA;Scale: 30&#xD;&#xA;Pos: 100,100&#xD;&#xA;Angle: 0${h}" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" LogMessageText="beep:0" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="自身被攻击" Id="2c9c6506-4121-448e-956e-110c2e50da70" RegularExpression="^.{15}\S+ 15:4.{7}:[^:]*:A764:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="躲开" ActionType="UseTTS" />
<Action OrderNumber="2" UseTTSTextExpression="回去" ActionType="UseTTS" ExecutionDelayExpression="2500" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="地板花纹 + 标点" Id="f2e6b785-83bf-4a93-a620-012ebd59694a" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:9A32:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M5s_钢月_钢&#xD;&#xA;Pos: 100, 100&#xD;&#xA;Scale: 7.6&#xD;&#xA;Color: 0.4, 2, 0.2, 10" ActionType="NamedCallback" Description="钢铁" DescBgColor="ffd" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_钢月_线0&#xD;&#xA;θ: dir2rad(0, -8)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_钢月_线1&#xD;&#xA;θ: dir2rad(1, -8)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_钢月_线2&#xD;&#xA;θ: dir2rad(2, -8)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: m131om_setu0f&#xD;&#xA;Tag: M5s_钢月_线3&#xD;&#xA;θ: dir2rad(3, -8)&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: M5s_钢月_线&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, 7.2&#xD;&#xA;Scale: 0.05, 14.4, 0&#xD;&#xA;Color: 3, 3, 3, 0.8" ActionType="NamedCallback" Description="4 * 线" DescBgColor="ffd" DescriptionOverride="True" />
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环0&#xD;&#xA;θ: dir2rad(0, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环1&#xD;&#xA;θ: dir2rad(1, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环2&#xD;&#xA;θ: dir2rad(2, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环3&#xD;&#xA;θ: dir2rad(3, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环4&#xD;&#xA;θ: dir2rad(4, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环5&#xD;&#xA;θ: dir2rad(5, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环6&#xD;&#xA;θ: dir2rad(6, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_外环7&#xD;&#xA;θ: dir2rad(7, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环0&#xD;&#xA;θ: dir2rad(0, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环1&#xD;&#xA;θ: dir2rad(1, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环2&#xD;&#xA;θ: dir2rad(2, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环3&#xD;&#xA;θ: dir2rad(3, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环4&#xD;&#xA;θ: dir2rad(4, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环5&#xD;&#xA;θ: dir2rad(5, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环6&#xD;&#xA;θ: dir2rad(6, -8)&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Update: false&#xD;&#xA;Tag: M5s_钢月_内环7&#xD;&#xA;θ: dir2rad(7, -8)&#xD;&#xA;&#xD;&#xA;---&#xD;&#xA;// 绿色&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_钢月_.环[16]&#xD;&#xA;Color: 0, 4, 2, 1&#xD;&#xA;---&#xD;&#xA;// 蓝色&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_钢月_.环[07]&#xD;&#xA;Color: 0, 2, 8, 1&#xD;&#xA;---&#xD;&#xA;// 红色&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_钢月_.环[2345]&#xD;&#xA;Color: 4, 0.5, 1, 1&#xD;&#xA;&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_钢月_外环&#xD;&#xA;Pos: 0, -7.8&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.8&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_钢月_内环&#xD;&#xA;Pos: 0, -4&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.8" ActionType="NamedCallback" Description="16 * 点位" DescBgColor="ffd" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Tag: M5s_钢月_线${?l: 0,3,1,2,3,0,2,1 [${v:myIdx}]}&#xD;&#xA;Color: 0.5, 5, 0.5, 0.8" ActionType="NamedCallback" Description="高亮自己的线" DescBgColor="ffd" DescriptionOverride="True" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Remove&#xD;&#xA;Type: Static&#xD;&#xA;Regex: ^M5s_钢月" ActionType="NamedCallback" ExecutionDelayExpression="32000" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="7c34d044-fa8a-4494-9830-70373843032f" Name="H. 分身左右刀" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1.2 本体左右刀 =&gt; 2.3" Id="16da4e9c-0ddf-4589-b5f3-ee3c6063631d" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A72(?&lt;type&gt;4|5):">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M5s_双分身_本体_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_双分身_b本体RSafe" VariableExpression="${type} == 5" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="第一次：显示半场" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="delay: 0.7&#xD;&#xA;Tag: M5s&#xD;&#xA;Omen: Fan180&#xD;&#xA;t: 5.5&#xD;&#xA;O: 100, 100&#xD;&#xA;+X: !0${v:M5s_双分身_b本体RSafe}&#xD;&#xA;Angle: π/2&#xD;&#xA;Scale: 30&#xD;&#xA;Color: 1.3, 0.7, 0.4, 1" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_双分身_本体_n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" UseTTSTextExpression="${if: ${v:M5s_双分身_b本体RSafe} ? 右 : 左 }" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_双分身_本体_n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="第二次：结合分身播报" DescriptionOverride="True" />
<Action OrderNumber="7" LogMessageText="M5s_双分身:n:3:b去东:${v:M5s_双分身_b本体RSafe}:b去北:${n: ${l:M5s_双分身_dir4[-1]} = 0}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${l:M5s_双分身半场_θ.size}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_双分身_b本体RSafe}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_双分身_本体_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" VariableName="M5s_双分身_b本体RSafe" ActionType="Variable" ExecutionDelayExpression="3000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1.1 分身左右刀 =&gt; 2" Id="cfbd404c-fbd3-4d1c-b3e6-7c8c7bb2e4f9" RegularExpression="^.{15}\S+ 107:4.{7}:A77(?&lt;type&gt;5|6):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ListVariableOp="Push" ListVariableName="M5s_双分身半场_θ" ListVariableExpression="${h}" ActionType="ListVariable" Asynchronous="False" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="M5s_双分身_dir4" ListVariableExpression="roundir(${l:M5s_双分身半场_θ[-1]} + relθ(${l:M5s_双分身半场_θ[-1]}, ${l:M5s_双分身半场_θ[-2]}) / 2 + π, 4)" ActionType="ListVariable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M5s_双分身半场_θ.size} % 2" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="前两组" DescriptionOverride="True" />
<Action OrderNumber="4" LogMessageText="M5s_双分身:n:${l:M5s_双分身_dir4.size}:dir4:${l:M5s_双分身_dir4[-1]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${l:M5s_双分身半场_θ.size}" ExpressionTypeL="Numeric" ExpressionR="[24]" ExpressionTypeR="String" ConditionType="RegexMatch" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="第三组" DescriptionOverride="True" />
<Action OrderNumber="6" LogMessageText="M5s_双分身:n:3:b去东:${v:M5s_双分身_b本体RSafe}:b去北:${n: ${l:M5s_双分身_dir4[-1]} = 0}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${l:M5s_双分身半场_θ.size}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_双分身_b本体RSafe}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_双分身_本体_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.3 播报 3" Id="8ec9d1fe-6d8f-4ab6-b469-1a2c11c0f158" RegularExpression="^M5s_双分身:n:3:b去东:(?&lt;b去东&gt;0|1):b去北:(?&lt;b去北&gt;0|1)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${n: 0b0${b去北}${b去东}}): 下偏左, 下偏右, 上偏左, 上偏右 }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan45&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 4.7&#xD;&#xA;O: 100, 100&#xD;&#xA;+X: 0${b去东}&#xD;&#xA;+Y: 0${b去北}&#xD;&#xA;Angle: dir2rad(7, -8)&#xD;&#xA;Scale: 30&#xD;&#xA;Color: 0, 2, 7, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;ScaleX: 0${b去东} ? 1 : -1&#xD;&#xA;ScaleY: 0${b去北} ? 1 : -1&#xD;&#xA;1: polar 5, 157.5°, -2" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="5000" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 播报 2" Id="4c999018-1637-4931-b933-d7554e0ec435" RegularExpression="^M5s_双分身:n:2:dir4:(?&lt;dir4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="然后${f:pick(${dir4}): 上北, 左西, 下南, 右东 }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 4.7&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dir4}, 4)&#xD;&#xA;Scale: 30&#xD;&#xA;Color: 0, 2, 7, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir4}, 4)&#xD;&#xA;2: 0, ${l:M5s_双分身_dir4[1]} != ${l:M5s_双分身_dir4[2]} ? -2.5 : -4.8, -2" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="5000" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 播报 1" Id="adef7044-9cbc-4473-92ef-d6d4d82af3af" RegularExpression="^M5s_双分身:n:1:dir4:(?&lt;dir4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${f:pick(${dir4}): 上北, 左西, 下南, 右东 }" ActionType="UseTTS" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Fan90&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 4.7&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dir4}, 4)&#xD;&#xA;Scale: 30&#xD;&#xA;Color: 0, 2, 7, 1" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(0${dir4}, 4)&#xD;&#xA;1: 0, -2.5, -2" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-13 00:30" Id="6435b9d5-28f2-4515-b3be-d9ee6d4abe70" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[12:56:51.591] StartsCasting 14:4000A75A:Dancing Green:A75F:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="100" />
<Action OrderNumber="3" LogMessageText="[12:56:43.436] 263 107:4000A769:A776:109.989:109.989:0.000:-0.785" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[12:56:43.436] 263 107:4000A76A:A775:109.989:89.999:0.000:-2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="4.10 * 1000" />
<Action OrderNumber="6" LogMessageText="[12:56:47.537] 263 107:4000A767:A776:89.999:109.989:0.000:-2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[12:56:47.537] 263 107:4000A768:A776:89.999:89.999:0.000:2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="4.06 * 1000" />
<Action OrderNumber="9" LogMessageText="[12:56:51.591] StartsCasting 14:4000A75A:Dancing Green:A725:Do the Hustle:4000A75A:Dancing Green:4.700:99.99:99.99:0.00:1.78" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="4000" />
<Action OrderNumber="11" LogMessageText="[12:56:59.907] StartsCasting 14:4000A75A:Dancing Green:A725:Do the Hustle:4000A75A:Dancing Green:4.700:99.99:99.99:0.00:3.14" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="0.14 * 1000" />
<Action OrderNumber="13" LogMessageText="[12:57:00.042] 263 107:4000A765:A775:109.989:89.999:0.000:-2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="[12:57:00.042] 263 107:4000A766:A776:89.999:89.999:0.000:2.356" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 开始" Id="eafdb034-ded4-4269-91a5-592ac5a74e76" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A75F:">
<Actions>
<Action OrderNumber="1" ListVariableOp="UnsetRegex" VariableOp="UnsetRegexUniversal" VariableName="^M5s_双分身" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="8fd6856a-4777-4329-8f5e-bf0140b93d41" Name=".阶段" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="地火" Id="e1cb2770-6408-402f-8ea8-c59fe17f2e73" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A754:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M5s_phase_地火" VariableExpression="1" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="安可" Id="a065fb7f-005d-40d8-a4db-1a45813ff0d5" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A370:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M5s_phase_安可" VariableExpression="1" ActionType="Variable" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="1a6d89b0-157c-496e-b9f7-5dc6df086c0d" Name="G. 滑步青蛙" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 滑步青蛙1" Id="ea6eba30-e711-460b-bc0c-9726af3a28fc" RegularExpression="^.{15}\S+ 101:.{8}:(?&lt;type&gt;0002|0020).{4}:(1D|20)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000" Description="  1d: &#xD;&#xA;    0002: 123列危险&#xD;&#xA;    0008：123列判定&#xD;&#xA;    0020：456列危险&#xD;&#xA;    0080：456列判定&#xD;&#xA;  1e: 345 / 678 列（同上）&#xD;&#xA;  1f: 456 / 123 列&#xD;&#xA;  20: 678 / 345 列&#xD;&#xA;  21: 345 / 123 行&#xD;&#xA;  22: 678 / 345 行&#xD;&#xA;  23: 123 / 456 行&#xD;&#xA;  24: 345 / 678 行">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="这两只青蛙必定出现其一；0002 内侧列安全 0020 外侧列安全；第一次忽略横向的" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_滑步1_b去南北" VariableExpression="0x${type} = 0x2" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="cd5:10" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.IsTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" UseTTSTextExpression="${if: ${v:M5s_滑步1_b去南北} ? 南北安全 : 东西安全 }" ActionType="UseTTS" />
<Action OrderNumber="5" UseTTSTextExpression="${?d:&#xD;&#xA;  11 = 去上北,&#xD;&#xA;  10 = 去下南,&#xD;&#xA;  01 = 去左西,&#xD;&#xA;  00 = 去右东,&#xD;&#xA;  1 = 南北安全,&#xD;&#xA;  0 = 东西安全&#xD;&#xA;  [${v:M5s_滑步1_b去南北}${v:myIdx_isG1}]&#xD;&#xA;}" Enabled="False" ActionType="UseTTS" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M5s_滑步1_1&#xD;&#xA;t: 10&#xD;&#xA;θ: π + (0${v:M5s_滑步1_b去南北} ? 0 : π/2)&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M5s_滑步1_2&#xD;&#xA;t: 10&#xD;&#xA;θ: 0 + (0${v:M5s_滑步1_b去南北} ? 0 : π/2)&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M5s_滑步&#xD;&#xA;Pos: 0, -10&#xD;&#xA;Scale: 5, 10&#xD;&#xA;Color: 0, 2.5, 10, 1&#xD;&#xA;O: 100, 100" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="延迟计数，防止触发第二次青蛙的触发器" DescriptionOverride="True" />
<Action OrderNumber="8" VariableOp="Increment" VariableName="M5s_滑步_n" ActionType="Variable" ExecutionDelayExpression="1000" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_滑步_n}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="3. 播报2/3" Id="5f85926b-619a-400a-90c8-40fb32e92a6f" RegularExpression="^M5s_滑步:b引导:(?&lt;b引导&gt;[01]):b去内:(?&lt;b去内&gt;[01]):b列:(?&lt;b列&gt;[01])" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000" Description="  1d: &#xD;&#xA;    0002: 123列危险&#xD;&#xA;    0008：123列判定&#xD;&#xA;    0020：456列危险&#xD;&#xA;    0080：456列判定&#xD;&#xA;  1e: 345 / 678 列（同上）&#xD;&#xA;  1f: 456 / 123 列&#xD;&#xA;  20: 678 / 345 列&#xD;&#xA;  21: 345 / 123 行&#xD;&#xA;  22: 678 / 345 行&#xD;&#xA;  23: 123 / 456 行&#xD;&#xA;  24: 345 / 678 行">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${b去内} &#xD;&#xA;  ? boss 脚下躲避&#xD;&#xA;  : 去两侧躲避&#xD;&#xA;}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b引导}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" UseTTSTextExpression="${?l: 左上, 右上, 左下, 右下, 左下, 右下, 左上, 右上 [${v:myIdx}]}引导，&#xD;&#xA;${if: ${b去内} ? 内 : 外}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${b引导}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" LogMessageText="cd5:10" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${b去内}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_me.IsTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_滑步_n}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 滑步青蛙2/3 =&gt; 3" Id="2bc0d16d-c522-4ba6-930e-7a5393c2da35" RegularExpression="^.{15}\S+ 101:.{8}:(?&lt;type&gt;0002|0020).{4}:(?&lt;pos&gt;1D|20|22|23)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000" Description="  1d: &#xD;&#xA;    0002: 123列危险&#xD;&#xA;    0008：123列判定&#xD;&#xA;    0020：456列危险&#xD;&#xA;    0080：456列判定&#xD;&#xA;  1e: 345 / 678 列（同上）&#xD;&#xA;  1f: 456 / 123 列&#xD;&#xA;  20: 678 / 345 列&#xD;&#xA;  21: 345 / 123 行&#xD;&#xA;  22: 678 / 345 行&#xD;&#xA;  23: 123 / 456 行&#xD;&#xA;  24: 345 / 678 行">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="1D/20 列，22/23 行；0002 内侧列安全 0020 外侧列安全" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="M5s_滑步_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M5s_滑步:b引导:${n: (${v:M5s_滑步_n} = 2) = ${v:myIdx_isTH}}:b去内:${n: 0x${type} = 2}:b列:${n: 0x${pos} &gt;= 0x22}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0${v:M5s_滑步_n}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="触发最终动画" Id="6bfa2f64-e52b-4a85-a141-6a24facf6fb7" RegularExpression="^.{15}\S+ 101:[^:]*:(?&lt;type&gt;0002|0020).{4}:(?&lt;loc&gt;1[DEF]|2[01234])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="每个位置有 0002 0020 两种动画（对应下面的两组危险行列），每次上下各生成一个，对称" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="1d: 123 / 456 列    1f: 456 / 123 列    21: 345 / 123 行    23: 123 / 456 行" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Description="1e: 345 / 678 列    20: 678 / 345 列    22: 678 / 345 行    24: 345 / 678 行" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="MapEffect" NamedCallbackParam="0x${loc}, 0x${type} / 2" ActionType="NamedCallback" ExecutionDelayExpression="200">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M5s_滑步_n}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-07-03 17:41" Id="007532fc-7ee2-4f62-84d6-f9aed427c9b0" RegularExpression="">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M5s" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="[02:13:54.506] 257 101:800375C2:00200010:20::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[02:13:54.506] 257 101:800375C2:00020001:23::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="6000" />
<Action OrderNumber="5" LogMessageText="[02:16:38.921] 257 101:800375C2:00200010:20::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="6000" />
<Action OrderNumber="7" LogMessageText="[02:16:54.954] 257 101:800375C2:00020001:20::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="9becd53b-c33d-4301-9b4e-bd9f0e12633b" Name="F. 追光灯2" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1.1 获取追光灯初始位置 =&gt; 2.1" Id="70c61a3d-35e4-4a64-a893-485c1b421935" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18363:(?&lt;x&gt;[19][^:]*):(?&lt;y&gt;8[45][^:]*):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="只获取正上/右上" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M5s_灯_b1灯正" VariableExpression="round(${x}) != 100" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="M5s_灯_踩灯:b先:${v:M5s_灯_b先灯}:b灯正:${n: ${v:M5s_灯_b1灯正} = ${v:M5s_灯_b先灯}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_灯_b先灯}${ev:M5s_灯_b1灯正}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.1 播报踩灯" Id="f89eebc4-7ace-4f8d-8cfd-53c0a5980954" RegularExpression="^M5s_灯_踩灯:b先:(?&lt;b先&gt;[01]):b灯正:(?&lt;b灯正&gt;[01])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="dir4 或 -4（分组）" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="${b先} ? 0 : 10000" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M5s_灯_myDir" VariableExpression="${?l: 0, 3, 1, 2, 1, 2, 0, 3 [${v:myIdx}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M5s_灯_myDir8" VariableExpression="${v:M5s_灯_myDir} * 2 + !${b灯正}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" UseTTSTextExpression="${f:pick(${v:M5s_灯_myDir8}): 上北, 左上, 左西, 左下, 下南, 右下, 右东, 右上 }踩灯" ActionType="UseTTS" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 9.5&#xD;&#xA;θ: dir2rad(${v:M5s_灯_myDir8}, 8)&#xD;&#xA;O: 100, 100&#xD;&#xA;Scale: 0.05, ${b灯正} ? 15 : 15√2, 0&#xD;&#xA;Color: 3, 3, 3, 0.8&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 9.5&#xD;&#xA;θ: dir2rad(${v:M5s_灯_myDir8}, 8)&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, ${b灯正} ? -15 : -15√2&#xD;&#xA;ScaleCyl: 2.5, 0.3&#xD;&#xA;Color: 0, 2, 10, 2" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2.2 播报引导" Id="b78cce3c-5f50-4fbe-b7ab-09ec7ee4ef20" RegularExpression="^M5s_灯_引导:b先:(?&lt;b先&gt;[01]):b蛙正:(?&lt;b蛙正&gt;[01]):b偏:(?&lt;b偏&gt;[01])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="dir4 或 -4（分组）" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="${b先} ? 0 : 11000" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M5s_灯_myDir" VariableExpression="${?l: 0, 3, 1, 2, 1, 2, 0, 3 [${v:myIdx}]}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" VariableOp="SetNumeric" VariableName="M5s_灯_myDir8" VariableExpression="${v:M5s_灯_myDir} * 2 + !${b蛙正}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="5" UseTTSTextExpression="${f:pick(${v:M5s_灯_myDir8}): 上北, 左上, 左西, 左下, 下南, 右下, 右东, 右上 }引导扇形，朝${if: ${b蛙正} = ${b偏} ? 斜点 : 正点 }" ActionType="UseTTS" />
<Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m131om_setu0f&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 9.5&#xD;&#xA;θ: dir2rad(${v:M5s_灯_myDir8}, 8)&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, -5√2&#xD;&#xA;// 引导最优角度：https://www.geogebra.org/classic/axatx74x&#xD;&#xA;Angle: !${b偏} ? π : (${b蛙正} ? -109° : 118°)&#xD;&#xA;Scale: 0.05, 10, 0&#xD;&#xA;Color: 3, 3, 3, 0.8&#xD;&#xA;---&#xD;&#xA;Omen: er_sicle_1811t&#xD;&#xA;Tag: M5s&#xD;&#xA;t: 9.5&#xD;&#xA;θ: dir2rad(${v:M5s_灯_myDir8}, 8)&#xD;&#xA;O: 100, 100&#xD;&#xA;Pos: 0, -5√2&#xD;&#xA;ScaleCyl: 2.5, 0.3&#xD;&#xA;Color: 0, 2, 10, 2" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1.3 获取青蛙 =&gt; 2.2" Id="af1737c1-a8ad-4abb-adfb-b9514bae4b38" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18362:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="20000">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="青蛙生成本身晚 0.4 秒左右，保险起见再延迟一些      phase" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="200" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M5s_灯_b1蛙正" VariableExpression="roundvec(${x}-100, ${y}-100, 8) % 2 = 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="M5s_灯_引导:b先:${n: !${v:M5s_灯_b先灯}}:b蛙正:${n: ${v:M5s_灯_b1蛙正} != ${v:M5s_灯_b先灯}}:b偏:${n: ${v:M5s_灯_b1蛙正} = ${v:M5s_灯_b1灯正}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_phase_安可}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_phase_地火}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="round((${x}-100)^2 + (${y}-100)^2)" ExpressionTypeL="Numeric" ExpressionR="50" ExpressionTypeR="Numeric" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1.2 获取跳舞 debuff =&gt; 2.1" Id="19b42e9c-0e8c-49dc-8248-bf2ad9594932" RegularExpression="^.{15}\S+ 1A:116D:[^:]+:(?&lt;t&gt;1?9[^:]*):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5s_灯_b先灯" VariableExpression="${t} &lt; 10" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" LogMessageText="M5s_灯_踩灯:b先:${v:M5s_灯_b先灯}:b灯正:${n: ${v:M5s_灯_b1灯正} = ${v:M5s_灯_b先灯}}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M5s_灯_b先灯}${ev:M5s_灯_b1灯正}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="28aa5755-e185-4c26-8a59-00c8a3bd8231" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A756:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M5s_灯" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-13 20:23" Id="f04256ad-994c-412a-8028-4fa4e0989692" RegularExpression="">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M5s_phase_地火" VariableExpression="1" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableName="M5s_phase_安可" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="[12:54:32.328] StartsCasting 14:4000A75A:Dancing Green:A756:Disco Infernal:4000A75A:Dancing Green:3.700:99.99:99.99:0.00:-2.93" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="5" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:19.50:E0000000::${_me.id}:${_me}:00:267900:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:9.50:E0000000::107242AD:Seraphine Danielle:00:167191:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:9.50:E0000000::108EE72B:Lumi Willow:00:165897:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:9.50:E0000000::1071DB9F:Koji Oda:00:265391:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:19.50:E0000000::104D5418:Velvet's Rose:00:179832:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:19.50:E0000000::1087DD85:Parakyu Vakarian:00:180917:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:19.50:E0000000::10712799:Mithrin Heiral:00:164512:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="[12:54:36.877] StatusAdd 1A:116D:Burn Baby Burn:19.50:E0000000::1076A454:Yoshi Munchakoopa:00:171315:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="[12:54:36.877] _ActorSetPos AAA:10F:4000A762:Spotlight:13780:18363:115.0000:85.0000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="0.40 * 1000" />
<Action OrderNumber="15" LogMessageText="[12:54:47.398] _ActorSetPos AAA:10F:4000A765:Frogtourage:13779:18362:107.0711:100.0000:0.0000:1.5707" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[12:54:47.398] _ActorSetPos AAA:10F:4000A764:Frogtourage:13779:18362:100.0000:107.0711:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[12:54:47.398] _ActorSetPos AAA:10F:4000A763:Frogtourage:13779:18362:92.9289:100.0000:0.0000:-1.5709" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[12:54:47.398] _ActorSetPos AAA:10F:4000A766:Frogtourage:13779:18362:100.0000:92.9289:0.0000:-3.1416" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="10.12 * 1000" />
<Action OrderNumber="20" LogMessageText="[12:54:37.277] _ActorSetPos AAA:10F:4000A767:Frogtourage:13779:18362:95.0000:105.0000:0.0000:-0.7855" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[12:54:37.277] _ActorSetPos AAA:10F:4000A76A:Frogtourage:13779:18362:95.0000:95.0000:0.0000:-2.3563" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="22" LogMessageText="[12:54:37.277] _ActorSetPos AAA:10F:4000A769:Frogtourage:13779:18362:105.0000:95.0000:0.0000:2.3561" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="23" LogMessageText="[12:54:37.277] _ActorSetPos AAA:10F:4000A768:Frogtourage:13779:18362:105.0000:105.0000:0.0000:0.7853" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="注册小队：自身" Id="153c806a-a7e8-4391-92ff-81f7f4d377dd" RegularExpression="^.{15}\S+ 01:(?&lt;zoneid&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="PartyList:Register:${env:zone}:Self" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${zoneid}" ExpressionTypeL="Numeric" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1259$" Id="c8387462-1db9-4afe-b3fb-bdb36042b550" Name="M6s v1.0.4" Enabled="true" RawEnvironmentVariables="zone = 1259">
<Folders>
<Folder Id="6a4ed89c-1bec-4a13-a4a9-ed0df3274af0" Name="杂项" Enabled="true">
<Folders>
<Folder Id="f2ffc8da-1471-4698-9f9b-dd219af59776" Name="翅膀" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="翅膀 debuff 倒计时" Id="5714cedc-43f3-4b61-bcaf-ae018be207c2" RegularExpression="^.{15}\S+ 1A:1162:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:(?&lt;stack&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:${t}" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Name="测试0" Id="be1d38fd-14fb-4f8a-914e-3a6a135a7c12" RegularExpression="^M6s_test">
<Actions>
<Action OrderNumber="1" />
<Action OrderNumber="2" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, 0" ActionType="NamedCallback" />
<Action OrderNumber="3" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, 0" ActionType="NamedCallback" ExecutionDelayExpression="100" />
<Action OrderNumber="4" LogMessageText="${_event}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="1900" />
</Actions>
</Trigger>
<Trigger Enabled="false" Name="测试1" Id="2b595c20-1085-48da-8d82-761aa1dee24f" RegularExpression="^M6s_test">
<Actions>
<Action OrderNumber="1" />
<Action OrderNumber="2" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, 1" ActionType="NamedCallback" />
<Action OrderNumber="3" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, 1" ActionType="NamedCallback" ExecutionDelayExpression="100" />
<Action OrderNumber="4" LogMessageText="${_event}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="1900" />
</Actions>
</Trigger>
<Trigger Enabled="false" Name="测试-1" Id="aeb3c475-06ef-4c4c-ab4d-b4a678fbe408" RegularExpression="^M6s_test">
<Actions>
<Action OrderNumber="1" />
<Action OrderNumber="2" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, -1" ActionType="NamedCallback" />
<Action OrderNumber="3" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${n: roundvec(${_me.x} - 100, ${_me.y} - 100, -3)}, -1" ActionType="NamedCallback" ExecutionDelayExpression="100" />
<Action OrderNumber="4" LogMessageText="${_event}" LogProcess="True" ActionType="LogMessage" ExecutionDelayExpression="1900" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="注册回调" Id="5e6c1965-24b2-4d5c-bb7a-d12b45fc718c" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A676:">
<Actions>
<Action OrderNumber="1" ExecScriptExpression="using System;&#xD;&#xA;using System.Collections.Generic;&#xD;&#xA;using System.Linq;&#xD;&#xA;using System.Numerics;&#xD;&#xA;using System.Text;&#xD;&#xA;using System.Threading.Tasks;&#xD;&#xA;using Triggernometry.FFXIV;&#xD;&#xA;using Triggernometry.PluginBridges.BridgeNamazu;&#xD;&#xA;using Triggernometry.PluginBridges.BridgeNamazu.Modules;&#xD;&#xA;using Triggernometry.Utilities;&#xD;&#xA;using Triggernometry.Utilities.Math;&#xD;&#xA;using static Triggernometry.Utilities.DataStringHelper;&#xD;&#xA;&#xD;&#xA;Triggernometry.RealPlugin.plug.RegisterNamedCallback(&quot;M6s_AutoFly&quot;, &#xD;&#xA;    new Action&lt;object, string&gt;(M6sAutoFly.AutoFly), null, false, &quot;M6s宝宝椅&quot;);&#xD;&#xA;Triggernometry.RealPlugin.plug.RegisterNamedCallback(&quot;M6s_AutoFlyLava&quot;, &#xD;&#xA;    new Action&lt;object, string&gt;(M6sAutoFly.AutoFlyLava), null, false, &quot;M6s宝宝椅&quot;);&#xD;&#xA;&#xD;&#xA;public static class M6sAutoFly&#xD;&#xA;{&#xD;&#xA;&#xD;&#xA;    const bool DEBUG = false;//true;&#xD;&#xA;&#xD;&#xA;    const double FLYRANGE = 34.0;&#xD;&#xA;    static Entity GetMyself() =&gt; Entity.GetMyself();&#xD;&#xA;    static void Log(string msg) =&gt; Triggernometry.RealPlugin.plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e \n{msg}&quot;);&#xD;&#xA;    static void Warning(string msg) =&gt; Triggernometry.Interpreter.StaticHelpers.Log(Triggernometry.RealPlugin.DebugLevelEnum.Warning, msg);&#xD;&#xA;    static void Error(string msg) =&gt; Triggernometry.Interpreter.StaticHelpers.Log(Triggernometry.RealPlugin.DebugLevelEnum.Error, msg);&#xD;&#xA;    static void CheckAndSetHeading(IntPtr address, float prevθ, float newθ)&#xD;&#xA;    {&#xD;&#xA;        if (Math.Abs(Normalize(prevθ - newθ)) &gt; 0.001)&#xD;&#xA;        {&#xD;&#xA;            var prevDeg = prevθ * 180 / Math.PI;&#xD;&#xA;            var newDeg = newθ * 180 / Math.PI;&#xD;&#xA;            BridgeNamazu.GetModule&lt;EntityModule&gt;().SetHeading(address, newθ);&#xD;&#xA;            Log($&quot;[面向] {prevDeg:F1}° =&gt; {newDeg:F1}°&quot;);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public static void AutoFly(object _, string rawDirN4)&#xD;&#xA;    { &#xD;&#xA;        int dirN4 = rawDirN4.FromDataString&lt;int&gt;();&#xD;&#xA;        Task.Run(async () =&gt; {&#xD;&#xA;            for (int i = 0; i &lt; 15; i++)&#xD;&#xA;            {&#xD;&#xA;                if (i &gt; 0) await Task.Delay(100);&#xD;&#xA;                try&#xD;&#xA;                {&#xD;&#xA;                    _AutoFly(dirN4);&#xD;&#xA;                }&#xD;&#xA;                catch (IgnoredException iex) &#xD;&#xA;                {&#xD;&#xA;                    if (DEBUG) Triggernometry.RealPlugin.plug.InvokeNamedCallback(&quot;AdvWm&quot;, &quot;clear&quot;);&#xD;&#xA;                    Warning($&quot;[M6sAutoFly] {iex.Message}&quot;);&#xD;&#xA;                }&#xD;&#xA;                catch (Exception ex)&#xD;&#xA;                {&#xD;&#xA;                    Error($&quot;[M6sAutoFly] 出现错误：{ex}&quot;);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static void _AutoFly(int dirN4)&#xD;&#xA;    {&#xD;&#xA;        var me = GetMyself();&#xD;&#xA;        var prevθ = me.Heading;&#xD;&#xA;        var myX = me.PosX;&#xD;&#xA;        var myY = me.PosY;&#xD;&#xA;        dirN4 = (dirN4 + 4) % 4;&#xD;&#xA;        var tgtX = dirN4 &lt;= 1 ? 80 : 120;&#xD;&#xA;        var tgtY = dirN4 == 0 || dirN4 == 3 ? 80 : 120;&#xD;&#xA;        var newθ = (float)Math.Atan2(tgtX - myX, tgtY - myY);&#xD;&#xA;        CheckAndSetHeading(me.Address, prevθ, newθ);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public static void AutoFlyLava(object _, string data)&#xD;&#xA;    {&#xD;&#xA;        (int dirN3, int direction) = ParseArgs&lt;int, int&gt;(data);&#xD;&#xA;        Task.Run(async () =&gt; {&#xD;&#xA;            for (int i = 0; i &lt; 10; i++)&#xD;&#xA;            {&#xD;&#xA;                if (i &gt; 0) await Task.Delay(150);&#xD;&#xA;                try&#xD;&#xA;                {&#xD;&#xA;                    _AutoFlyLava(dirN3, direction);&#xD;&#xA;                }&#xD;&#xA;                catch (IgnoredException iex)&#xD;&#xA;                {&#xD;&#xA;                    if (DEBUG) Triggernometry.RealPlugin.plug.InvokeNamedCallback(&quot;AdvWm&quot;, &quot;clear&quot;);&#xD;&#xA;                    Warning($&quot;[M6sAutoFly] {iex.Message}&quot;);&#xD;&#xA;                }&#xD;&#xA;                catch (Exception ex)&#xD;&#xA;                {&#xD;&#xA;                    Error($&quot;[M6sAutoFly] 出现错误：{ex}&quot;);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static void _AutoFlyLava(int dirN3, int direction)&#xD;&#xA;    {&#xD;&#xA;        var me = GetMyself();&#xD;&#xA;        var prevθ = me.Heading;&#xD;&#xA;        var myX = me.PosX;&#xD;&#xA;        var myY = me.PosY;&#xD;&#xA;        var myPos = new Vector2((float)myX, (float)myY);&#xD;&#xA;        Vector2 edge1, edge2;&#xD;&#xA;&#xD;&#xA;        if (dirN3 == 0 &amp;&amp; direction == 1) // 左上 → 右上&#xD;&#xA;        {&#xD;&#xA;            if (myX &lt; 120 - FLYRANGE) // 左边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 右上熔岩交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else if (myY &lt;= 93) // 中心偏上&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 右上熔岩交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else  // 中心偏下&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 右边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 2 &amp;&amp; direction == -1) // 右上 → 左上&#xD;&#xA;        {&#xD;&#xA;            if (myX &gt; 80 + FLYRANGE) // 右边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左上熔岩交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 上边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myY &lt;= 93) // 中心偏上&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左上熔岩交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 左边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else  // 中心偏下&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 上边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 0 &amp;&amp; direction == -1) // 左上 → 下&#xD;&#xA;        {&#xD;&#xA;            if (Vector2.Distance(myPos, edge左下外) &gt; FLYRANGE) // 上边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右下熔岩交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 左下熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myY &lt; 120 - FLYRANGE) // 上边缘稍近&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右下熔岩交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 左边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else if (Vector2.Distance(myPos, edge右下外) &lt;= FLYRANGE) // 中心&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 下边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else // 左侧边缘大部分区域&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右下熔岩交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 下边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 2 &amp;&amp; direction == 1) // 右上 → 下&#xD;&#xA;        {&#xD;&#xA;            if (Vector2.Distance(myPos, edge右下外) &gt; FLYRANGE) // 上边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右下熔岩交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 左下熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myY &lt; 120 - FLYRANGE) // 上边缘稍近&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 左下熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (Vector2.Distance(myPos, edge左下外) &lt;= FLYRANGE) // 中心&#xD;&#xA;            {&#xD;&#xA;                edge1 = 下边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 左边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else // 右侧边缘大部分区域&#xD;&#xA;            {&#xD;&#xA;                edge1 = 下边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 左下熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 1 &amp;&amp; direction == 1) // 下 → 左上&#xD;&#xA;        {&#xD;&#xA;            if (Vector2.Distance(myPos, edge左上外) &gt;= FLYRANGE) // 右下角落&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左上熔岩交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 上左熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myY &gt; 80 + FLYRANGE)&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 上左熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myX &gt; 90) // 中心偏右&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 上边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else // 中心偏左&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 上左熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 1 &amp;&amp; direction == -1) // 下 → 右上&#xD;&#xA;        {&#xD;&#xA;            if (Vector2.Distance(myPos, edge上右外) &lt;= FLYRANGE) // 中心&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 右边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (Vector2.Distance(myPos, edge右上外) &lt;= FLYRANGE) // 右下大部分区域&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上右熔岩交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 右边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else // 左下角落&#xD;&#xA;            {&#xD;&#xA;                edge1 = 上右熔岩交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 右上熔岩交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else if (dirN3 == 1 &amp;&amp; direction == 0) // 左下 ↔ 右下&#xD;&#xA;        {&#xD;&#xA;            if (me.PosX &lt; 120 - FLYRANGE) // 左边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 下边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 右下熔岩交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else if (me.PosX &gt; 80 + FLYRANGE) // 右边缘&#xD;&#xA;            {&#xD;&#xA;                edge1 = 下边缘交点(myX, myY).Item1;&#xD;&#xA;                edge2 = 左下熔岩交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;            else if (myX &lt; 100) // 左侧靠中心（实际只有很小的一部分区域有效 下同）&#xD;&#xA;            {&#xD;&#xA;                edge1 = 右边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 下边缘交点(myX, myY).Item2;&#xD;&#xA;            }&#xD;&#xA;            else // 右侧靠中心&#xD;&#xA;            {&#xD;&#xA;                edge1 = 左边缘交点(myX, myY).Item2;&#xD;&#xA;                edge2 = 下边缘交点(myX, myY).Item1;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        else throw new IgnoredException($&quot;无效的位置：dirN3 = {dirN3}, direction = {direction}&quot;);&#xD;&#xA;&#xD;&#xA;        var newθ = (float)BestAngle(myPos, edge1, edge2);&#xD;&#xA;        var newPos = new Vector2(&#xD;&#xA;            myPos.X + (float)(FLYRANGE * Math.Sin(newθ)),&#xD;&#xA;            myPos.Y + (float)(FLYRANGE * Math.Cos(newθ))&#xD;&#xA;        );&#xD;&#xA;        if (Math.Abs(newPos.X - 100) &gt; 20.01 || Math.Abs(newPos.Y - 100) &gt; 20.01)&#xD;&#xA;        {&#xD;&#xA;            throw new IgnoredException($&quot;无法找到安全的方向：myPos=({myX}, {myY}), newθ={newθ}, newPos=({newPos.X}, {newPos.Y})&quot;);&#xD;&#xA;        }&#xD;&#xA;        CheckAndSetHeading(me.Address, prevθ, newθ);&#xD;&#xA;        // debug&#xD;&#xA;        if (DEBUG) &#xD;&#xA;        {&#xD;&#xA;            var pos = GetMyself().Pos;&#xD;&#xA;            Triggernometry.RealPlugin.plug.InvokeNamedCallback(&quot;AdvWm&quot;, $@&quot;&#xD;&#xA;Action: Linear&#xD;&#xA;O: {pos.X:F3}, {pos.Y:F3}, {pos.Z:F3}&#xD;&#xA;θ: {newθ}&#xD;&#xA;Start: 0, 0&#xD;&#xA;End: 0, -34&#xD;&#xA;Waymarks: 43DCBA&#xD;&#xA;---&#xD;&#xA;1: {edge1.X:F3}, {edge1.Y:F3}&#xD;&#xA;2: {edge2.X:F3}, {edge2.Y:F3}&#xD;&#xA;&quot;);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static Vector2 edge左上外 = new Vector2(80, 105);&#xD;&#xA;    static Vector2 edge上左外 = new Vector2(99.5f, 80);&#xD;&#xA;    static Vector2 edge左上内 = new Vector2(95.5f, 97.3f);&#xD;&#xA;&#xD;&#xA;    static Vector2 edge右上外 = new Vector2(120, 109);&#xD;&#xA;    static Vector2 edge上右外 = new Vector2(107.5f, 80);&#xD;&#xA;    static Vector2 edge右上内 = new Vector2(102.6f, 100.3f);&#xD;&#xA;&#xD;&#xA;    static Vector2 edge左下外 = new Vector2(80, 115);&#xD;&#xA;    static Vector2 edge右下外 = new Vector2(120, 115.6f);&#xD;&#xA;    static Vector2 edge下内 = new Vector2(97, 105);&#xD;&#xA;&#xD;&#xA;    static (Vector2, Vector2) 上边缘交点(double myX, double myY) &#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, 0, 1, -80, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与上边缘交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 下边缘交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, 0, 1, -120, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与下边缘交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 左边缘交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, 1, 0, -80, p =&gt; p.Y)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与左边缘交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 右边缘交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, 1, 0, -120, p =&gt; p.Y)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与右边缘交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 左上熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge左上外, edge左上内, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与左上熔岩交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 右上熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge右上外, edge右上内, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与右上熔岩交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 上左熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge上左外, edge左上内, p =&gt; p.Y)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与上左熔岩交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 上右熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge上右外, edge右上内, p =&gt; p.Y)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与上右熔岩交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 左下熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge左下外, edge下内, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与左下熔岩交点&quot;);&#xD;&#xA;    static (Vector2, Vector2) 右下熔岩交点(double myX, double myY)&#xD;&#xA;        =&gt; EquationHelper.CircleLineIntersections(myX, myY, FLYRANGE, edge右下外, edge下内, p =&gt; p.X)&#xD;&#xA;            ?? throw new IgnoredException(&quot;未找到与右下熔岩交点&quot;);&#xD;&#xA;&#xD;&#xA;    static double BestAngle(Vector2 src, Vector2 edge1, Vector2 edge2)&#xD;&#xA;    {&#xD;&#xA;        var θ1 = Math.Atan2(edge1.X - src.X, edge1.Y - src.Y);&#xD;&#xA;        var θ2 = Math.Atan2(edge2.X - src.X, edge2.Y - src.Y);&#xD;&#xA;        double δ = Normalize(θ2 - θ1);&#xD;&#xA;        double mid = θ1 + δ / 2;&#xD;&#xA;        return Normalize(mid);&#xD;&#xA;    }&#xD;&#xA;    static double Normalize(double angle)&#xD;&#xA;    {&#xD;&#xA;        angle = (angle + Math.PI) % (2 * Math.PI);&#xD;&#xA;        if (angle &lt;= 0) angle += 2 * Math.PI;&#xD;&#xA;        return angle - Math.PI;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    class IgnoredException : Exception { &#xD;&#xA;        public IgnoredException(string message) : base(message) { }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;}" ActionType="ExecuteScript">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ecallback:M6s_AutoFly}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="箭" Id="b3350262-cb1e-484e-8a15-320a50942c00" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:[^:]*:18338:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Rect&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 9.6&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Angle: ${h}&#xD;&#xA;Scale: 3.5, 50, 2" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" LogMessageText="cd5:9.8" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${x}" ExpressionTypeL="String" ExpressionR="93" ExpressionTypeR="String" ConditionType="NumericLess" />
<ConditionSingle Enabled="true" ExpressionL="abs(${y} - 100)" ExpressionTypeL="String" ExpressionR="20" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="时间轴（后）画河流读条开始" Id="f0b4f6c4-f5a0-4e62-ab3a-9264af82321c" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A663:">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:26.7:集合引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:37.2:躲开" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="beep:37.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:83.8:五连分摊" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:96.3:去${?l: 下方, 下方, 左侧, 右侧, 下方, 下方, 左侧, 右侧 [${v:myIdx}]}平台" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:130.7:塔外引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:134.1:踩塔" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="cd5:138.3" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:156.4:塔外引导" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="tts:160.4:踩塔" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="11" LogMessageText="cd5:164.7" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="12" LogMessageText="tts:164.8:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="13" LogMessageText="tts:170.8:分散站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="14" LogMessageText="tts:183.1:准备死刑" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="时间轴（前）" Id="dd7fe71e-7a12-4112-ae48-eb122340340e" RegularExpression="^.{15}\S+ 104:.:1:.:1">
<Actions>
<Action OrderNumber="1" LogMessageText="tts:4.2:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="tts:13.4:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="tts:62.1:分散站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="tts:72.8:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="tts:141.4:分散站位" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="tts:192.2:AoE" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="tts:195.3:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="tts:403.0:准备死刑" LogProcess="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="tts:413.6:AoE" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="双分摊范围" Id="721ffbe5-9d22-4550-a4bc-0112e858cbbd" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:A696:[^:]*:(?&lt;tid&gt;1.{7}):([^:]*:){38}(?&lt;idx&gt;[^:]*):(?&lt;cnt&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="单目标" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 6&#xD;&#xA;Pos: ${_entity[${tid}].XY}, 0&#xD;&#xA;Scale: 4 * 1.09&#xD;&#xA;Color: 1, 3, 0, 5" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${cnt}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: omen_share4_o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 6&#xD;&#xA;Pos: ${_entity[${tid}].XY}, -1&#xD;&#xA;ScaleCyl: 2, 4&#xD;&#xA;Color: 0.8, 1, 1, 1" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${cnt}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="多目标" DescriptionOverride="True" />
<Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: Circle&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 6&#xD;&#xA;Pos: ${_entity[${tid}].XY}, 0&#xD;&#xA;Scale: 4.4&#xD;&#xA;Color: 2, 0.5, 0.5, 1" ActionType="NamedCallback" DescBgColor="ffd">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${cnt}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="其他画画" Id="bb38d736-eb49-49c9-8b11-54350a6e28d0" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;9A3D|A676|A6BD):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d:&#xD;&#xA;  9A3D = 画箭,&#xD;&#xA;  A676 = 画翅膀,&#xD;&#xA;  A6BD = 狂暴&#xD;&#xA;  [${aid}]&#xD;&#xA;}&#xD;&#xA;" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="117e7c52-17cd-45d9-bbce-6a55300f222f" Name="A. 双画" Enabled="true" RawEnvironmentVariables="phase = 双画">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 获取实体" Id="bfd92b58-c9df-47ab-90e7-1343d444e120" RegularExpression="^.{15}\S+ AAA:10F:4.{7}:[^:]*:[^:]*:(?&lt;bnpcid&gt;1833[67]|1834[01])(?=.*:(99|100)):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="同侧安全：18337飞弹 18340魔界花 | 异侧安全：18336炸弹 18341梦魔" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M6s_双画_is南" VariableExpression="${y} &gt; 100 = (${bnpcid} = 18337 || ${bnpcid} = 18340)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(${x})" ExpressionTypeL="Numeric" ExpressionR="100" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M6s_双画_is东" VariableExpression="${x} &gt; 100 = (${bnpcid} = 18337 || ${bnpcid} = 18340)" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="round(${y})" ExpressionTypeL="Numeric" ExpressionR="100" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description=" = 2" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetString" VariableName="M6s_双画_dirN4" VariableExpression="${?d: 00 = 0, 01 = 1, 10 = 3, 11 = 2 [${v:M6s_双画_is东}${v:M6s_双画_is南}]}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M6s_双画_is南}${ev:M6s_双画_is东}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" LogMessageText="M6s_双画:dirN4:${v:M6s_双画_dirN4}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${ev:M6s_双画_is南}${ev:M6s_双画_is东}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="1000" />
<Action OrderNumber="8" VariableName="M6s_双画_is南" ActionType="Variable" />
<Action OrderNumber="9" VariableName="M6s_双画_is东" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="O1. 播报" Id="bd9f7c02-c872-46e2-bf40-008a808729de" RegularExpression="^M6s_双画:dirN4:(?&lt;dirN4&gt;[0-3])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="3000" />
<Action OrderNumber="2" UseTTSTextExpression="去${f:pick(${dirN4}): 右下, 右上, 左上, 左下}，飞到对侧" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dirN4}, -4)&#xD;&#xA;Waymarks: ABCD1234&#xD;&#xA;Start: 0, 34 + 1.25 - 20√2&#xD;&#xA;End: 0, -18.9√2" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;t: 13&#xD;&#xA;Tag: M5s_钢月_钢&#xD;&#xA;Pos: 100, 100 polar 20√2, ${n: dir2rad(${dirN4}, -4)}&#xD;&#xA;Scale: 34 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.2, 10" ActionType="NamedCallback" Description="圈" DescBgColor="ffd" DescriptionOverride="True" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="10000" />
<Action OrderNumber="6" UseTTSTextExpression="去${if: ${v:myIdx} % 2 = 1 ? 左侧 : 右侧}，双组分摊" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_双画_is双组}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" UseTTSTextExpression="去${?l: 左前, 右前, 前方, 后方, 左前, 右前, 前方, 后方 [${v:myIdx}]}，两人分摊" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_双画_is双组}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="8" NamedCallbackName="AdvWm" NamedCallbackParam="load&#xD;&#xA;---&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dirN4}, 4)&#xD;&#xA;1: -8.1, -18.9&#xD;&#xA;2: -18.9, -8.1&#xD;&#xA;3: -12, -12&#xD;&#xA;4: -18, -18" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_双画_is双组}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" NamedCallbackName="AdvWm" NamedCallbackParam="load&#xD;&#xA;---&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(${dirN4}, 4)&#xD;&#xA;1: -8.5, -16&#xD;&#xA;2: -16, -8.5&#xD;&#xA;3: fakeclear&#xD;&#xA;4: fakeclear" ActionType="NamedCallback" DescBgColor="dff">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_双画_is双组}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="4200" />
<Action OrderNumber="11" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-04-01 18:05" Id="72dcf4f9-99f9-4f40-be51-0f1a6731b781" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[17:20:47.674] _ActorSetPos AAA:10F:40000000:飞弹:13824:18337:92.0000:83.0000:0.0000:1.5707" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" LogMessageText="[17:20:47.674] _ActorSetPos AAA:10F:40000000:飞弹:13824:18337:92.0000:100.0000:0.0000:1.5707" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="3" LogMessageText="[17:20:47.674] _ActorSetPos AAA:10F:40000000:飞弹:13824:18337:92.0000:117.0000:0.0000:1.5707" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[17:20:47.674] _ActorSetPos AAA:10F:40000000:魔界花:13828:18340:100.0000:80.0000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" Enabled="False" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[17:20:47.674] _ActorSetPos AAA:10F:40000000:魔界花:13828:18340:100.0000:120.0000:0.0000:-0.0001" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 记录分摊类型" Id="8f95402a-ab22-455e-9658-5f0f1ded8242" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A68(?&lt;type&gt;B|D):">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M6s_双画" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetString" VariableName="M6s_phase" VariableExpression="${env:phase}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M6s_双画_is双组" VariableExpression="${type} == B" ActionType="Variable" />
<Action OrderNumber="4" UseTTSTextExpression="储存${if: ${v:M6s_双画_is双组} ? 双组 : 两人 }分摊" ActionType="UseTTS" ExecutionDelayExpression="6000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="改变面向" Id="c92518c1-0c87-497b-a869-63cd44ca0107" RegularExpression="^.{15}\S+ 1A:1162:[^:]+:(?&lt;t&gt;21[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:(?&lt;stack&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" LogProcess="True" ActionType="Placeholder" ExecutionDelayExpression="(${t} - 0.1) * 1000" />
<Action OrderNumber="2" LogProcess="True" NamedCallbackName="M6s_AutoFly" NamedCallbackParam="${v:M6s_双画_dirN4}" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_AutoFly]} ?? 1" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
<Folder Id="da9ee718-c486-4b77-8d10-8ecf92d3ff89" Name="B. 沙漠" Enabled="true" RawEnvironmentVariables="phase = 沙漠">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化" Id="a0b52d72-07ca-4f81-9c84-99e1ac4d01ab" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A668:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M6s_沙漠" ActionType="Variable" />
<Action OrderNumber="3" UseTTSTextExpression="沙漠阶段" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 炸弹/飞弹" Id="b357d0c6-7a9a-4978-b13f-f8f6b2eda13c" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:.{9}:(?&lt;type&gt;013F|0140)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: 0x0${type} = 0x0140 ? 内圈放炸弹 : 外侧放飞弹 }" ActionType="UseTTS" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${sid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="1. debuff 倒计时" Id="290c232b-30f7-4f06-a3c4-088f084c93e2" RegularExpression="^.{15}\S+ 1A:1166:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="挑衅" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringNotEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${_me.isT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" LogMessageText="cd5:${t}" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" UseTTSTextExpression="分散" UseTTSExclusive="False" ActionType="UseTTS" ExecutionDelayExpression="(${t} - 6) * 1000">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="仙人掌范围" Id="78a82976-e400-4131-817d-19ce96c5a88b" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A6A1:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 7&#xD;&#xA;Pos: ${x}, ${y}&#xD;&#xA;Scale: 10 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.2, 5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].Address}, com_trg03_10f" ActionType="NamedCallback" ExecutionDelayExpression="3200" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 沙坑安全区" Id="2941beef-5f73-4356-b28c-43a4cd7c1d1f" RegularExpression="^.{15}\S+ 101:[^:]*:0020.{4}:(?&lt;loc&gt;0[6A]|1[AE])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="相对：找到仙人掌的反向，如果是双奶则±1" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tmp_dirN4" VariableExpression="(${?d: 06 = 2, 0A = 1, 1A = 3, 1E = 0 [${loc}]} + ${?l: 0, 0, -1, 1, 0, 0, 0, 0 [${v:myIdx}]}) %% 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_沙坑基准]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_沙坑基准]}" ExpressionTypeL="String" ExpressionR="日" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tmp_dirN4" VariableExpression="(${?d: 06 = 2, 0A = 1, 1A = 3, 1E = 0 [${loc}]} + ${?l: 0, 0, 1, -1, 0, 0, 0, 0 [${v:myIdx}]}) %% 4" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_沙坑基准]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="绝对：如果自己的位置是仙人掌的位置，去左下 (1)；否则去自己的方向" DescriptionOverride="True" />
<Action OrderNumber="5" VariableOp="SetNumeric" VariableName="tmp_dirN4" VariableExpression="${?l: 0A, 0A, 06, 1E, 0A, 0A, 0A, 0A [${v:myIdx}]} == ${loc} ? 1 : ${?l: 3, 3, 0, 2, 3, 3, 3, 3 [${v:myIdx}]}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_沙坑基准]}" ExpressionTypeL="String" ExpressionR="日" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True" />
<Action OrderNumber="7" UseTTSTextExpression="${f:pick(${v:tmp_dirN4}): 左上, 左下, 右下, 右上}" ActionType="UseTTS" Asynchronous="False" />
<Action OrderNumber="8" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#xD;&#xA;Waymarks: ABCD1234&#xD;&#xA;Start: 0, 0&#xD;&#xA;End: 0, -18.75√2&#xD;&#xA;O: 100, 100&#xD;&#xA;θ: dir2rad(0${v:tmp_dirN4}, -4)" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" />
<Action OrderNumber="9" VariableName="tmp_dirN4" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="10" NamedCallbackName="AdvWm" NamedCallbackParam="load" ActionType="NamedCallback" ExecutionDelayExpression="7000" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="仙人掌范围 沙坑阶段（边缘）" Id="1a4a52d0-2c52-4e33-9afa-9cfdc3e6f191" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):9A2C:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 7&#xD;&#xA;Pos: ${x}, ${y}&#xD;&#xA;Scale: 10 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.2, 5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].Address}, com_trg03_10f" ActionType="NamedCallback" />
<Action OrderNumber="3" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].Address}, com_trg03_10f" ActionType="NamedCallback" ExecutionDelayExpression="4000" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="distance(${x}, ${y}, 100, 100)" ExpressionTypeL="Numeric" ExpressionR="17" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="沙坑 爆弹范围" Id="30f4e326-3a78-4213-b30a-a881bc2ff7d0" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A683:">
<Actions>
<Action OrderNumber="1" NamedCallbackName="InvokeOnMultipleEntities" NamedCallbackParam="Type = 1&#xD;&#xA;LockOn, _address, lock_eur02f" ActionType="NamedCallback" ExecutionDelayExpression="4600" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="52dadb40-09d7-4ff7-b264-2ba5454cc0b0" Name="死刑" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="O1. 播报" Id="61458696-e356-475c-a40e-0d5dae675e85" RegularExpression="^M6s_死刑:远近:(?&lt;远近&gt;远|近|)$">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="非 T" DescriptionOverride="True" />
<Action OrderNumber="2" UseTTSTextExpression="死刑站位" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.IsT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="T 且有颜色 debuff" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="Channeling" NamedCallbackParam="${_entity[bnpcid = 18335].Address}, ${_me.Address}, ${if: ${远近} == 远 ? chn_closer_0v : chn_leave_0v }, 6.7" ActionType="NamedCallback">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.IsT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${远近}" ExpressionTypeL="String" ExpressionTypeR="String" ConditionType="StringNotEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="T" DescriptionOverride="True" />
<Action OrderNumber="6" UseTTSTextExpression="${if: ${远近} == 远 ? 远死刑 : &#xD;&#xA;  ${if: ${远近} == 近 ? 近死刑 : &#xD;&#xA;    ${if: 0x${_entity[bnpcid = 18335].TargetID} = 0x${_me.id} ? 近死刑 : 远死刑 } &#xD;&#xA;  } &#xD;&#xA;}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${_me.IsT}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="1700" />
<Action OrderNumber="8" NamedCallbackName="InvokeOnMultipleEntities" NamedCallbackParam="Role == Tank &amp;&amp; HP &gt; 0&#xD;&#xA;LockOn, _address, tank_lockonae_4m_5s_01t" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 记录 debuff" Id="0c3f57f2-0cbe-4525-826f-88de9b1b1768" RegularExpression="^.{15}\S+ 1A:116(?&lt;type&gt;3|4):[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：目标是 T、自己是 T" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M6s_死刑_is自身红" VariableExpression="${type} = 3" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" VariableOp="SetNumeric" VariableName="M6s_死刑_is搭档红" VariableExpression="${type} = 3" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringNotEqualNocase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${_entity[${tid}].isT} &amp;&amp; ${_me.isT}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="2. 死刑 Color Riot" Id="fbb54cc5-8c88-48e5-bb4b-c2d8e8aabb4e" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A69(?&lt;type&gt;1|2):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="A692 近红远蓝" DescriptionOverride="True" />
<Action OrderNumber="2" VariableName="tmp_应吃红蓝" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="自身有：按照自身" DescriptionOverride="True" />
<Action OrderNumber="4" VariableOp="SetString" VariableName="tmp_应吃红蓝" VariableExpression="${if: ${v:M6s_死刑_is自身红} ? 蓝 : 红 }" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M6s_死刑_is自身红}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="自身没有、搭档有：按照相反" DescriptionOverride="True" />
<Action OrderNumber="6" VariableOp="SetString" VariableName="tmp_应吃红蓝" VariableExpression="${if: ${v:M6s_死刑_is搭档红} ? 红 : 蓝 }" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:M6s_死刑_is自身红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
<ConditionSingle Enabled="true" ExpressionL="${ev:M6s_死刑_is搭档红}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="颜色转换为远近" DescriptionOverride="True" />
<Action OrderNumber="8" VariableOp="SetString" VariableName="tmp_远近" VariableExpression="${if: (${v:tmp_应吃红蓝} == 红) = (${type} = 1) ? 远 : 近 }" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${ev:tmp_应吃红蓝}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
<Action OrderNumber="9" LogMessageText="M6s_死刑:远近:${v:tmp_远近}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="10" VariableName="tmp_应吃红蓝" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="11" VariableName="tmp_远近" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="2697f96f-200c-4f31-8e64-29cd10c9f971" Name="D. 河流" Enabled="true" RawEnvironmentVariables="phase = 河流">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="分散分摊" Id="fd3d0c07-8c14-44a2-aa68-5bbe4dd9b944" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A68[79]):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d:&#xD;&#xA;  A687 = 火分摊,&#xD;&#xA;  A689 = 雷分散,&#xD;&#xA;  [${aid}]&#xD;&#xA;}&#xD;&#xA;" ActionType="UseTTS" />
<Action OrderNumber="2" LogMessageText="cd5:9.8" LogProcess="True" ActionType="LogMessage" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="0. 初始化" Id="f8e61949-2a08-4a28-95fe-43c7c48a2713" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A663:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M6s_沙漠" ActionType="Variable" />
<Action OrderNumber="3" UseTTSTextExpression="河流阶段" UseTTSExclusive="False" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="fcbe8a81-0808-4bae-bd6c-187f93d6ef0e" Name="C. 小怪" Enabled="true" RawEnvironmentVariables="phase = add">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="Ready Ore Not" Id="7cee87c1-e7f3-4bcf-9eea-effb498f2b70" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A6AA:">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="AoE" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="画小怪" Id="56625e7b-992d-44b6-acd7-a5b35694ac78" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:(?&lt;aid&gt;A6A[6789A]):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d:&#xD;&#xA;  A6A6 = 小怪1,&#xD;&#xA;  A6A7 = 小怪2,&#xD;&#xA;  A6A8 = 小怪3,&#xD;&#xA;  A6A9 = 小怪4,&#xD;&#xA;  A6AA = 画宝石,&#xD;&#xA;  [${aid}]&#xD;&#xA;}&#xD;&#xA;" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="87e38e70-258a-422f-b25c-4287e276235b" Name="E. 雷暴" Enabled="true" RawEnvironmentVariables="phase = 雷暴">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化（画）" Id="9b0d1e64-b2cc-4c5a-a074-770f6ad0b4a1" RegularExpression="^.{15}\S+ 101:[^:]*:0080....:04">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M6s_雷暴" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="点名" Id="23bcbaea-c74a-4473-afc9-13a0e6972d15" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:025A">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="雷点名" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="2" LogMessageText="cd5:9" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${tid}].Address}, m0404trg_a0k" ActionType="NamedCallback" ExecutionDelayExpression="5000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 雷云读条" Id="4f3d0278-3f04-42b0-b332-05f0304f2195" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A69B:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6s_雷暴_云_id" VariableExpression="${sid}" ActionType="Variable" />
<Action OrderNumber="2" VariableName="M6s_雷暴_云移动_n" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 雷云移动" Id="4d75b201-6642-4416-a831-9458e4661a56" RegularExpression="^.{15}\S+ 10E:(?&lt;id&gt;4.{7}):(?&lt;h&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="第一次的方向可能未完全变化，且位置也可能几乎没变，所以用第二次的数据" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="M6s_雷暴_云移动_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="_M6s_雷暴_云移动:h:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_雷暴_云移动_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="${v:M6s_雷暴_云_id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="4. 处理雷云移动" Id="2939ef28-c0ab-46ef-a979-f80b5f716637" RegularExpression="^_M6s_雷暴_云移动:h:(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_dirN6" VariableExpression="roundir(${h}, 6)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M6s_雷暴_云_is顺" VariableExpression="${v:tmp_dirN6} % 2 = 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M6s_雷暴_云_pos" VariableExpression="${?d:&#xD;&#xA;  0 = 87:92,&#xD;&#xA;  1 = 100:115,&#xD;&#xA;  2 = 115:92&#xD;&#xA;  [${n: floor(${v:tmp_dirN6} / 2)}]&#xD;&#xA;}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="M6s_雷暴_云:is顺:${v:M6s_雷暴_云_is顺}:pos:${v:M6s_雷暴_云_pos}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="5" VariableName="tmp_dirN6" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="5. 播报" Id="9b7f58eb-2f9c-45cd-b6b7-d1fe1028792a" RegularExpression="^M6s_雷暴_云:is顺:(?&lt;is顺&gt;0|1):pos:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 8.7&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Scale: 21 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.3, 5&#xD;&#xA;---&#xD;&#xA;Delay: 5&#xD;&#xA;Tag: M6s&#xD;&#xA;Omen: gl_circle_water01e1&#xD;&#xA;t: 3.7&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Scale: 21&#xD;&#xA;Color: 1, 1, 1, 0.5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${is顺} ? 左 : 右 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 雷云生成" Id="e1dffaa4-b8a9-4031-a6db-9e1754f66a34" RegularExpression="^.{15}\S+ 03:4.{7}:([^:]*:){7}18339:([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 7.1&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Scale: 21 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.3, 5&#xD;&#xA;---&#xD;&#xA;Delay: 4&#xD;&#xA;Tag: M6s&#xD;&#xA;Omen: gl_circle_water01e1&#xD;&#xA;t: 3.1&#xD;&#xA;Pos: ${x}, ${y}, 0&#xD;&#xA;Scale: 21&#xD;&#xA;Color: 1, 1, 1, 0.5" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="1fee19b4-9f0d-4b09-a366-23a657e3041c" Name="F. 熔岩" Enabled="true" RawEnvironmentVariables="phase = 熔岩">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化（画）" Id="d658be1e-1f63-4d01-8b5d-245933a264d4" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A699:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6s_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M6s_熔岩" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 处理 =&gt; 3" Id="4e2ac985-adf9-427a-8293-c019813cb999" RegularExpression="^_M6s_熔岩_塔2:(?&lt;mode&gt;左上4|右上4|下4|下8)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M6s_熔岩_塔_dirN3初" VariableExpression="roundvec(${_me.x} - 100, ${_me.y} - 100, -3)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="转向：1顺 0不变 -1逆" DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M6s_熔岩_塔_转向" VariableExpression="1" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${mode}" ExpressionTypeL="String" ExpressionR="左上4" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="4" VariableOp="SetString" VariableName="M6s_熔岩_塔_转向" VariableExpression="-1" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${mode}" ExpressionTypeL="String" ExpressionR="右上4" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="5" VariableOp="SetString" VariableName="M6s_熔岩_塔_转向" VariableExpression="${?d: 0 = 1, 1 = 0, 2 = -1 [${v:M6s_熔岩_塔_dirN3初}]}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${mode}" ExpressionTypeL="String" ExpressionR="下4" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="6" VariableOp="SetString" VariableName="M6s_熔岩_塔_转向" VariableExpression="${?d: 0 = -1, 1 = 0, 2 = 1 [${v:M6s_熔岩_塔_dirN3初}]}" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${mode}" ExpressionTypeL="String" ExpressionR="下8" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
<Action OrderNumber="7" VariableOp="SetNumeric" VariableName="M6s_熔岩_塔_dirN3末" VariableExpression="(${v:M6s_熔岩_塔_dirN3初} - ${v:M6s_熔岩_塔_转向}) %% 3" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="8" LogMessageText="M6s_熔岩_塔2:dirN3初:${v:M6s_熔岩_塔_dirN3初}:dirN3末:${v:M6s_熔岩_塔_dirN3末}:转向:${v:M6s_熔岩_塔_转向}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 获取塔 =&gt; 2" Id="a1cd221b-a85d-4792-9a04-7b3c60b890f5" RegularExpression="^.{15}\S+ 101:.{8}:0002.{4}:(?&lt;pos&gt;2[9A-F]|3[0-9A-F]|4[0-4])">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M6s_熔岩_塔_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="&gt; 8:    左上/右上/下 分别 -1/0/1" DescriptionOverride="True" />
<Action OrderNumber="3" VariableOp="Increment" VariableName="M6s_熔岩_塔_sum" VariableExpression="0x${pos} &lt;= 0x32 ? -1 : 0x${pos} &lt;= 0x3c ? 0 : 1" ActionType="Variable" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_熔岩_塔_n}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="NumericGreater" />
</Condition>
</Action>
<Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="= 16:" DescriptionOverride="True" />
<Action OrderNumber="5" LogMessageText="_M6s_熔岩_塔2:${?d: -2 = 左上4, 0 = 右上4, 2 = 下4, 8 = 下8 [${v:M6s_熔岩_塔_sum}]}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6s_熔岩_塔_n}" ExpressionTypeL="String" ExpressionR="16" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Sequential="True" Name="3.2 危险区域" Id="07cb0c39-8eb9-4058-9980-289e983980e1" RegularExpression="^M6s_熔岩_塔2:dirN3初:(?&lt;dirN3初&gt;[0-2]):dirN3末:(?&lt;dirN3末&gt;[0-2]):转向:(?&lt;转向&gt;0|1|-1)">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="tmp_points" VariableExpression="${?d:&#xD;&#xA;  &quot;01 = 91.7, 100.0; 100.0, 91.7; 100.0, 100.0&quot;,&#xD;&#xA;  &quot;02 = 89.2, 94.6; 92.1, 99.4; 94.3, 102.8; 103.4, 89.0; 100.2, 81.4&quot;,&#xD;&#xA;  &quot;10 = 89.7, 112.5; 77.4, 107.7; 105.8, 102.8; 95.9, 109.8&quot;,&#xD;&#xA;  &quot;11 = 113.6, 113.9; 120.0, 115.6; 120.0, 120.0; 114.2, 120.0&quot;,&#xD;&#xA;  &quot;12 = 95.3, 103.7; 100.9, 108.2; 106.6, 111.2; 115.7, 114.1; 106.5, 104.6&quot;,&#xD;&#xA;  &quot;20 = 111.7, 92.5; 109.4, 87.6; 104.3, 80.5; 103.7, 105.4; 109.4, 97.3&quot;,&#xD;&#xA;  &quot;21 = 104.1, 102.55; 102.7, 93.6; 112.4, 106.2&quot;&#xD;&#xA;  [${dirN3初}${dirN3末}]&#xD;&#xA;}" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Action: △&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 8&#xD;&#xA;Points: ${v:tmp_points}&#xD;&#xA;Color: ${if: ${转向} ? 1,1,1,2 : 0,2,8,1 }" ActionType="NamedCallback" />
<Action OrderNumber="3" VariableName="tmp_points" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3.1 播报" Id="6a7c6d95-af1b-4a01-9e3f-693f9d754ba2" RegularExpression="^M6s_熔岩_塔2:dirN3初:(?&lt;dirN3初&gt;[0-2]):dirN3末:(?&lt;dirN3末&gt;[0-2]):转向:(?&lt;转向&gt;0|1|-1)">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${转向} = 1 ? 顺时针 : 逆时针 }飞到${?d: 0 = 左上, 1 = 下方, 2 = 右上 [${dirN3末}]}" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${转向}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
</Condition>
</Action>
<Action OrderNumber="2" UseTTSTextExpression="水平飞到左侧" ActionType="UseTTS">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${转向}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="改变面向" Id="147923e2-947a-4245-bb49-1ba138806a05" RegularExpression="^.{15}\S+ 1A:1162:[^:]+:(?&lt;t&gt;10[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:(?&lt;stack&gt;[^:]+):">
<Actions>
<Action OrderNumber="1" LogProcess="True" ActionType="Placeholder" ExecutionDelayExpression="(${t} - 0.1) * 1000" />
<Action OrderNumber="2" LogProcess="True" NamedCallbackName="M6s_AutoFlyLava" NamedCallbackParam="${v:M6s_熔岩_塔_dirN3初}, ${v:M6s_熔岩_塔_转向}" ActionType="NamedCallback" />
</Actions>
<Condition Enabled="true" Grouping="And">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
<ConditionSingle Enabled="true" ExpressionL="${pd:S7b_cfg[M6s_AutoFly]} ?? 1" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="false" Source="None" Name="Debug Log 2025-06-18 00:27" Id="f7bf1b22-224e-4aee-ba11-3c816d1865bd" RegularExpression="">
<Actions>
<Action OrderNumber="1" LogMessageText="[21:38:29.318] StartsCasting 14:400338D7:Sugar Riot:A699:Layer:400338D7:Sugar Riot:0.700:102.17:107.01:0.00:-0.89" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="0.51 * 1000" />
<Action OrderNumber="3" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:29::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="4" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:2A::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="5" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:41::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="6" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:42::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="7" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:43::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="8" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:35::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="9" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:44::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="10" LogMessageText="[21:38:29.831] 257 101:800375C4:00020001:36::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="4.38 * 1000" />
<Action OrderNumber="12" LogMessageText="[21:38:34.207] StatusAdd 1A:1162:_rsv_4450_-1_1_0_0_S74CFC3B0_E74CFC3B0:10.00:E0000000::${_me.id}:${_me}:00:244766:" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="13" ActionType="Placeholder" ExecutionDelayExpression="2.05 * 1000" />
<Action OrderNumber="14" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:39::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="15" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:38::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="16" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:3B::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="17" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:3C::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="18" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:2E::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="19" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:31::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="20" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:42::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
<Action OrderNumber="21" LogMessageText="[21:38:36.257] 257 101:800375C4:00020001:43::" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="注册小队：自身" Id="b147b089-8a69-4186-8684-3341c1040f7f" RegularExpression="^.{15}\S+ 01:(?&lt;zoneid&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" LogMessageText="PartyList:Register:${env:zone}:Self" LogProcess="True" ActionType="LogMessage" />
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="0x${zoneid}" ExpressionTypeL="Numeric" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
<Folder Id="349d0419-26c3-4b50-9b30-941d7fa9e502" Name="M5-8n" Enabled="true">
<Folders>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1262$" Id="e2b60220-326a-45ee-bc2e-ec808028330b" Name="M8" Enabled="true" RawEnvironmentVariables="zone = 1262">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="跳跃方向 未来观测" Id="a2d25bf5-351a-4086-bdcf-f36bf1162a2d" RegularExpression="^.{15}\S+ 107:4.{7}:(?&lt;type&gt;A973|A92F):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M8n_跳跃_dir6" VariableExpression="roundvec(${x} - 100, ${y} - 100, 6)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${f:pick(${v:M8n_跳跃_dir6}):上北, 左上, 左下, 下南, 右下, 右上}" ActionType="UseTTS" />
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#xD;&#xA;θ: dir2rad(${v:M8n_跳跃_dir6}, 6)&#xD;&#xA;ScaleX: 6.25&#xD;&#xA;A: -1, -8.5&#xD;&#xA;B: -1, -6.0&#xD;&#xA;C: -1, -3.5&#xD;&#xA;D: -1, -1.0&#xD;&#xA;1:  1, -8.5&#xD;&#xA;2:  1, -6.0&#xD;&#xA;3:  1, -3.5&#xD;&#xA;4:  1, -1.0" ActionType="NamedCallback" DescBgColor="dff" />
<Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="0x${type} == A973 ? 7000 : 6500" />
<Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="2500" />
<Action OrderNumber="6" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;load" ActionType="NamedCallback" DescBgColor="dff" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="柱子范围 LockOn" Id="5ea7286a-dbe2-485e-895b-f9b8da074e06" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;aid&gt;A933):">
<Actions>
<Action OrderNumber="1" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].Address}, omen_laser_6_60_4sec_0t" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1260$" Id="92a543b0-5621-4613-9edc-b18099d5f956" Name="M7" Enabled="true" RawEnvironmentVariables="zone = 1260">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="P3 Lariat" Id="05aed082-3085-4bbf-89d2-202d8f0404ec" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A55(?&lt;type&gt;1|3):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: ${type} = 1 ? 右右右 : 左左左 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="钢铁月环" Id="ff6a3ce5-145a-43e7-8a39-401583cafc92" RegularExpression="^.{15}\S+ 1A:808:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:(?&lt;type&gt;38[89AB]):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: 0x${type} &lt;= 0x389 ? 钢铁 : 月环 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="孢子安全区" Id="48d8c1bf-a7e4-4d60-a0e2-382d773ae7eb" RegularExpression="^.{15}\S+ 101:[^:]*:0002.{4}:(?&lt;loc&gt;08|0C|10|14|18|1C|20|24)">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="0x${loc} &amp; 0x8 : 内圈左上右下 / 外圈左下右上" DescriptionOverride="True" />
<Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_内1&#xD;&#xA;t: 10&#xD;&#xA;Pos: -5.5, -2.5&#xD;&#xA;Scale: 3, 6&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_内2&#xD;&#xA;t: 10&#xD;&#xA;Pos: 5.5, 8.5&#xD;&#xA;Scale: 3, 6&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_外1&#xD;&#xA;t: 10&#xD;&#xA;Pos: -16.75, 20&#xD;&#xA;Scale: 3.25, 6.5&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Omen: z6r1_b4_ibox_01k1&#xD;&#xA;Tag: M7s_孢子安全区_外2&#xD;&#xA;t: 10&#xD;&#xA;Pos: 16.75, -13.5&#xD;&#xA;Scale: 3.25, 6.5&#xD;&#xA;Update: false&#xD;&#xA;---&#xD;&#xA;Action: Change&#xD;&#xA;Regex: ^M7s_孢子安全区&#xD;&#xA;Color: 0.1, 1.5, 20, 1&#xD;&#xA;+X: 0x${loc} &amp; 0x8&#xD;&#xA;O: ${if: 0x${loc} &gt;= 0x18 ? 100, 5, -200 : 100, 100, 0 }" ActionType="NamedCallback" DescBgColor="ffd" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1258$" Id="94ed6746-0a2e-4d28-9925-566ad3fab71f" Name="M6" Enabled="true" RawEnvironmentVariables="zone = 1258">
<Folders>
<Folder Id="2ed68ac9-7750-4ffd-bdfe-be26f3636795" Name="雷暴 测试" Enabled="true" RawEnvironmentVariables="phase = 雷暴">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="0. 初始化（画）" Id="e6ef1ac1-cca9-4f48-901b-4cd65f4bcde3" RegularExpression="^.{15}\S+ 101:[^:]*:0080....:04">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6n_phase" VariableExpression="${env:phase}" ActionType="Variable" />
<Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="^M6n_雷暴" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 雷云读条" Id="b15329ce-3ed7-494e-a158-26c5acf0385f" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:A667:">
<Actions>
<Action OrderNumber="1" VariableOp="SetString" VariableName="M6n_雷暴_云_id" VariableExpression="${sid}" ActionType="Variable" />
<Action OrderNumber="2" VariableName="M6n_雷暴_云移动_n" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 雷云移动" Id="d3e22369-69f5-44cf-a407-80357054130f" RegularExpression="^.{15}\S+ 10E:(?&lt;id&gt;4.{7}):(?&lt;h&gt;[^:]*):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="第一次的方向可能未完全变化，且位置也可能几乎没变，所以用第二次的数据" DescriptionOverride="True" />
<Action OrderNumber="2" VariableOp="Increment" VariableName="M6n_雷暴_云移动_n" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" LogMessageText="_M6n_雷暴_云移动:h:${h}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M6n_雷暴_云移动_n}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Action>
</Actions>
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="${v:M6n_雷暴_云_id}" ExpressionTypeR="String" ConditionType="StringEqualCase" />
</Condition>
</Trigger>
<Trigger Enabled="true" Name="4. 处理雷云移动" Id="65c9d247-268e-4b0e-91fc-0abdccdec46c" RegularExpression="^_M6n_雷暴_云移动:h:(?&lt;h&gt;[^:]*)">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tmp_dirN6" VariableExpression="roundir(${h}, 6)" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" VariableOp="SetNumeric" VariableName="M6n_雷暴_云_is顺" VariableExpression="${v:tmp_dirN6} % 2 = 0" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="3" VariableOp="SetString" VariableName="M6n_雷暴_云_pos" VariableExpression="${?d:&#xD;&#xA;  0 = 87:92,&#xD;&#xA;  1 = 100:115,&#xD;&#xA;  2 = 115:92&#xD;&#xA;  [${n: floor(${v:tmp_dirN6} / 2)}]&#xD;&#xA;}" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="4" LogMessageText="M6n_雷暴_云:is顺:${v:M6n_雷暴_云_is顺}:pos:${v:M6n_雷暴_云_pos}" LogProcess="True" LogProcessACT="True" ActionType="LogMessage" Asynchronous="False" />
<Action OrderNumber="5" VariableName="tmp_dirN6" ActionType="Variable" Asynchronous="False" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="播报" Id="24b42698-4f15-4f0b-87d9-b4bfa05fed62" RegularExpression="^M6n_雷暴_云:is顺:(?&lt;is顺&gt;0|1):pos:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="gl_circle_water01e1, 8.7,   ${x}, ${y}, 0, 0,   21, 21, 21,   1, 1, 1, 0.5" ActionType="NamedCallback" />
<Action OrderNumber="2" UseTTSTextExpression="${if: ${is顺} ? 左 : 右 }" ActionType="UseTTS" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 雷云生成" Id="1b948d51-e9f7-49e8-b0d5-a3f6b6451ecb" RegularExpression="^.{15}\S+ 03:4.{7}:([^:]*:){7}18334:([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="gl_circle_water01e1, 7.1,   ${x}, ${y}, 0, 0,   21, 21, 21,   1, 1, 1, 0.5" ActionType="NamedCallback" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="true" Name="仙人掌范围" Id="87443c90-cb00-4722-8b57-ec5d817c6b8a" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):A66B:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
<Actions>
<Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: n4b5_tr_g05o0g&#xD;&#xA;Tag: M6s&#xD;&#xA;t: 7&#xD;&#xA;Pos: ${x}, ${y}&#xD;&#xA;Scale: 10 * 1.09&#xD;&#xA;Color: 0.4, 2, 0.2, 5" ActionType="NamedCallback" DescBgColor="ffd" />
<Action OrderNumber="2" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].Address}, com_trg03_10f" ActionType="NamedCallback" ExecutionDelayExpression="3200" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1256$" Id="af3195e3-89c2-48c5-ae96-2b60fffb4330" Name="M5" Enabled="true" RawEnvironmentVariables="zone = 1256">
<Folders>
<Folder Id="8b455271-b4fb-4647-940f-acc75f2f64c2" Name="B. 跳舞小人" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. 收集小人" Id="08f68f9d-6ee7-4bad-8a2c-b719e168bdf4" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:A70(?&lt;cid&gt;[C|D]):">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="BOSS半场刀必定从左到右 D=左刀|C=左刀" DescriptionOverride="True" />
<Action OrderNumber="2" ListVariableOp="Push" ListVariableName="M5n1_跳舞小人" ListVariableExpression="${if:${cid}==D?L:R}" ActionType="ListVariable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="X. 重置数据" Id="f49e2551-fb1a-4eed-8834-325690ff804f" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:9A30">
<Actions>
<Action OrderNumber="1" ListVariableOp="UnsetRegex" VariableOp="UnsetRegexUniversal" VariableName="^M5n1_跳舞小人" ActionType="Variable" />
<Action OrderNumber="2" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="3. 播报=&gt;判定" Id="29d17878-76f9-4c8d-a4e2-9396ccf9d1b5" RegularExpression="^.{15}\S+ 15:[^:]+:[^:]+:93C[B|C]">
<Actions>
<Action OrderNumber="1" VariableOp="Increment" VariableName="M5n1_跳舞小人计数" ActionType="Variable" Asynchronous="False" />
<Action OrderNumber="2" UseTTSTextExpression="${if:${l:M5n1_跳舞小人[${v:M5n1_跳舞小人计数}]}==${l:M5n1_跳舞小人[${n:${v:M5n1_跳舞小人计数}-1}]}?不动:穿}" ActionType="UseTTS" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M5n1_跳舞小人计数}" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="Numeric" ConditionType="NumericLessEqual" />
</Condition>
</Action>
<Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="A:0,-10,0&#xD;&#xA;1:0,-6,0&#xD;&#xA;2:0,-2,0&#xD;&#xA;3:0,2,0&#xD;&#xA;4:0,6,0&#xD;&#xA;C:0,10,0&#xD;&#xA;center:${if:${l:M5n1_跳舞小人[${v:M5n1_跳舞小人计数}]}==L?101.1:98.9},90,0&#xD;&#xA;" ActionType="NamedCallback" Asynchronous="False">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${v:M5n1_跳舞小人计数}" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="Numeric" ConditionType="NumericLessEqual" />
</Condition>
</Action>
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. 播报=&gt;读条第一次安全区预兆" Id="d74e5deb-5fba-4765-8a34-e2983fa4b1b9" RegularExpression="^.{15}\S+ 14:[^:]+:[^:]+:A714">
<Actions>
<Action OrderNumber="1" VariableOp="SetNumeric" VariableName="M5n1_跳舞小人计数" VariableExpression="1" ActionType="Variable" />
<Action OrderNumber="2" NamedCallbackName="AdvWm" NamedCallbackParam="A:0,-10,0&#xD;&#xA;1:0,-6,0&#xD;&#xA;2:0,-2,0&#xD;&#xA;3:0,2,0&#xD;&#xA;4:0,6,0&#xD;&#xA;C:0,10,0&#xD;&#xA;center:${if:${l:M5n1_跳舞小人[1]}==L?101.1:98.9},90,0&#xD;&#xA;" ActionType="NamedCallback" />
<Action OrderNumber="3" UseTTSTextExpression="去${if:${l:M5n1_跳舞小人[1]}==L?右:左}边" ActionType="UseTTS" />
<Action OrderNumber="4" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#xD;&#xA;---&#xD;&#xA;load" ActionType="NamedCallback" ExecutionDelayExpression="30000" DescBgColor="dff" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="ec13eb1a-75e0-4a8f-8b14-ea7275de5d10" Name="C. 青蛙滑步" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="1. MapEffect（触发最终动画）" Id="31df1691-9e8a-4a15-8efa-b5ea46279b92" RegularExpression="^.{15}\S+ 101:[^:]*:(?&lt;type&gt;0002|0020).{4}:(?&lt;loc&gt;1[DEF]|2[01234])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="每个位置有 0002 0020 两种动画（对应下面的两组危险行列），每次上下各生成一个，对称" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="1d: 123 / 456 列    1f: 456 / 123 列    21: 345 / 123 行    23: 123 / 456 行" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Description="1e: 345 / 678 列    20: 678 / 345 列    22: 678 / 345 行    24: 345 / 678 行" DescriptionOverride="True" />
<Action OrderNumber="4" NamedCallbackName="MapEffect" NamedCallbackParam="${n: 0x${loc}}, 1, ${n: 0x${type} / 2}" ActionType="NamedCallback" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="2. MapEffect（播报）" Id="bc99923f-b730-4ebd-a6f8-7752598ced43" RegularExpression="^.{15}\S+ 101:[^:]*:(?&lt;type&gt;0002|0020).{4}:(?&lt;loc&gt;1[DF]|2[13])">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="每个位置有 0002 0020 两种动画（对应下面的两组危险行列），每次上下各生成一个，对称" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="1d: 123 / 456 列    1f: 456 / 123 列    21: 345 / 123 行    23: 123 / 456 行" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Description="1e: 345 / 678 列    20: 678 / 345 列    22: 678 / 345 行    24: 345 / 678 行" DescriptionOverride="True" />
<Action OrderNumber="4" UseTTSTextExpression="${?d:&#xD;&#xA;  0002 1D = 中间列,&#xD;&#xA;  0020 1D = 去左右,&#xD;&#xA;  0002 1F = 去左右,&#xD;&#xA;  0020 1F = 中间列,&#xD;&#xA;  0002 21 = 去上下,&#xD;&#xA;  0020 21 = 中间杭,&#xD;&#xA;  0002 23 = 中间杭,&#xD;&#xA;  0020 23 = 去上下&#xD;&#xA;  [${type} ${loc}]&#xD;&#xA;}" ActionType="UseTTS" />
</Actions>
</Trigger>
</Triggers>
</Folder>
<Folder Id="e8f72725-0a5d-41f5-803c-1b8dc1b1d761" Name="A. 节奏半场刀" Enabled="true">
<Folders />
<Triggers>
<Trigger Enabled="true" Name="2. 四次" Id="bd1e35e4-fef1-4565-bc6a-67856cb1b2d6" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A9(?&lt;type&gt;D[9ACEF]|E1):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${?d: D9 = 左, DA = 右, DC = 左, DE = 左, DF = 右, E1 = 右 [${type}] }" ActionType="UseTTS" />
<Action OrderNumber="2" ExecutionDelayExpression="7000" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="1. 两次" Id="74763983-2d5c-4c08-8184-e72e1e07fce5" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]*:A6(?&lt;type&gt;C[B-F]|D0):">
<Actions>
<Action OrderNumber="1" UseTTSTextExpression="${if: 0x${type} &lt;= 0xCD ? 左 : 右 }" ActionType="UseTTS" />
<Action OrderNumber="2" ExecutionDelayExpression="7000" />
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="false" Name="销毁残留变量" Id="941ebb5f-dada-413c-aa61-e6a0f31ee707" RegularExpression="^.{15}\S+ 01:">
<Actions>
<Action OrderNumber="1" VariableOp="UnsetRegexUniversal" VariableName="^M5n" ActionType="Variable" />
</Actions>
</Trigger>
<Trigger Enabled="true" Name="跳舞倒计时" Id="80bc2d61-edf5-47d0-a4e8-233206464832" RegularExpression="^.{15}\S+ 1A:116C:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
<Actions>
<Action OrderNumber="1" LogMessageText="cd5:${t}" LogProcess="True" ActionType="LogMessage">
<Condition Enabled="true" Grouping="Or">
<ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
</Condition>
</Action>
</Actions>
</Trigger>
</Triggers>
</Folder>
</Folders>
<Triggers />
</Folder>
</Folders>
<Triggers>
<Trigger Enabled="false" Source="None" Name="【使用说明】 必读 点开看" Id="3ab60a41-1d08-4c32-848c-485029a4f336" RegularExpression="">
<Actions>
<Action OrderNumber="1" ActionType="Placeholder" Description="·前置&#xD;&#xA;" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="2" ActionType="Placeholder" Description="　触发器（1.2.0.746+，会自动更新） 鲶鱼精邮差（会自动更新）  远程触发器中的运行支持库（触发器自带）  不需要cactbotself" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="3" ActionType="Placeholder" Description="　如果你有 cactbot，使用前去 OverlayPlugin 悬浮窗插件选项卡中关掉零式的 TTS" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" />
<Action OrderNumber="4" ActionType="Placeholder" Description="·用户配置" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="5" ActionType="Placeholder" Description="　你只需要按说明操作即可完成配置（选择不同打法），不需要手动开关任何触发器。" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" />
<Action OrderNumber="6" ActionType="Placeholder" Description="　如需手动开启，游戏内输入指令（大小写不敏感）：" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="7" ActionType="Placeholder" Description="　  M5-8s 副本内：/e cfg" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="8" ActionType="Placeholder" Description="　  M5-8s 副本外：/e cfg m5-8 或 /e cfg s7b" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="9" LogMessageText="${env:prefix}_cfg" LogProcess="True" ActionType="LogMessage" Description="　  或右键此行 - 测试动作" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="10" LaunchProcessPathExpression="https://space.bilibili.com/83429972/lists/2967544" ActionType="LaunchProcess" Description="　使用视频或图文说明见 b 站视频合集（右键此行-测试动作 打开）或专栏（个人主页），没有的话可能还没发" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" />
<Action OrderNumber="11" ActionType="Placeholder" Description="　如需关闭标点：在鲶鱼精邮差插件选项卡中取消勾选 WayMark 选项框。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="12" ActionType="Placeholder" Description="　如需关闭某类视觉特效：在远程触发器 - 运行支持库 - 鲶鱼精邮差扩展 中查看并更改用户配置。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="13" ActionType="Placeholder" Description="　进本需要输入职能，按照进本后的提示输入即可。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="14" LaunchProcessPathExpression="https://space.bilibili.com/83429972/lists/2967544" ActionType="LaunchProcess" Description="　有问题的话首先使用远程触发器 - 自检工具箱，完整执行一遍自检。" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" />
<Action OrderNumber="15" ActionType="Placeholder" Description="·关于" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True" />
<Action OrderNumber="16" ActionType="Placeholder" Description="　　by 阿洛 MnFeN" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
<Action OrderNumber="17" LaunchProcessPathExpression="https://space.bilibili.com/83429972" ActionType="LaunchProcess" Description="　　你可以关注这个 b 站账号，不定期更新视频介绍（右键这一行 - 测试动作）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" />
</Actions>
</Trigger>
</Triggers>
</ExportedFolder>
</TriggernometryExport>
