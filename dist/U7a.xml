<?xml version="1.0" encoding="utf-8"?>
<TriggernometryExport PluginVersion="1.2.0.761">
  <ExportedFolder Id="e917d524-ab27-4a9b-8b20-852583861c54" Name="绝伊甸宝宝椅 v0.10.0.0" Enabled="true" RawEnvironmentVariables="prefix = U7a&#13;&#10;zone = 1238&#13;&#10;version = 0.10.0.0">
    <Folders>
      <Folder Id="b92a34bf-e9ed-4c9d-a9f8-077415be5675" Name="核心（此分组不可修改）" Enabled="true">
        <Folders>
          <Folder Id="cb7b5ff9-4a33-4399-8f0a-e54d2eaf1d5b" Name=".总体控制" Enabled="true">
            <Folders>
              <Folder Id="9d8766f6-cd03-4e64-a7ba-2c5f1097d7f1" Name="用户配置" Enabled="true">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="fdb372fa-5e95-461f-9b9c-30d850568224" Name="记录用户配置（副本内手动 /e cfg)" RegularExpression="^.{15}\S+ 00:0038:: *(?i)cfg *$" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="${env:prefix}_cfg" LogProcess="True"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="3386c71d-798c-421a-9f7e-917af2d68dd2" Name="[F] 注册并打开配置" RegularExpression="^(?&lt;prefix&gt;[^[:_]+)_cfg$" PeriodRefire="Deny" RefirePeriodExpression="5000" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="正在开启配置"/>
                      <Action OrderNumber="2" ActionType="ExecuteScript" ExecScriptExpression="using Newtonsoft.Json.Linq;&#13;&#10;using System;&#13;&#10;using System.Collections.Generic;&#13;&#10;using System.Drawing;&#13;&#10;using System.Linq;&#13;&#10;using System.Threading;&#13;&#10;using System.Windows.Forms;&#13;&#10;using System.Xml.Linq;&#13;&#10;using Triggernometry;&#13;&#10;using Triggernometry.Core;&#13;&#10;using Triggernometry.PluginBridges;&#13;&#10;using Triggernometry.UI.CustomControls;&#13;&#10;using Triggernometry.UI.Forms;&#13;&#10;using static Triggernometry.Core.Scripting.ScriptHelper;&#13;&#10;using static Triggernometry.UI.Forms.GameConfigForm;&#13;&#10;&#13;&#10;RealPlugin.Instance.RegisterNamedCallback(U7aEntry.Info.ConfigName, new Action&lt;object, string&gt;((_, __) =&gt; U7aEntry.Start()), null);&#13;&#10;&#13;&#10;public static class U7aEntry&#13;&#10;{&#13;&#10;    public static ConfigInfo Info = new ConfigInfo(&quot;绝伊甸宝宝椅&quot;, &quot;${env:version}&quot;, &quot;阿洛 MnFeN&quot;, &quot;${env:prefix}_cfg&quot;);&#13;&#10;    static Color Blue = Color.FromArgb(0x22, 0x66, 0xff);&#13;&#10;    public static void RunConfigForm()&#13;&#10;    {&#13;&#10;        try { _RunConfigForm(); }&#13;&#10;        catch (Exception ex)&#13;&#10;        {&#13;&#10;            MessageBox.Show(&quot;配置界面运行时遇到问题：\n\n&quot; + ex, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Error);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private static void _RunConfigForm()&#13;&#10;    {&#13;&#10;        GameConfigForm form = new GameConfigForm(Info);&#13;&#10;        form.Shown += (sender, e) =&gt; RealPlugin.Instance.InvokeNamedCallback(&quot;command&quot;, &quot;/e &lt;se.9&gt;&quot;);&#13;&#10;        form.FormClosed += (sender, e) =&gt; U7aCactbotHelper.DisableTts();&#13;&#10;&#13;&#10;        BijectDictionary&lt;string, string&gt; cbxItems;&#13;&#10;        Option optionCtrl;&#13;&#10;        Label label;&#13;&#10;        string hint = &quot;&quot;;&#13;&#10;        // 在下面倒序添加各个选项组（组内的选项正序）&#13;&#10;&#13;&#10;&#13;&#10;        #region 配置：P5&#13;&#10;&#13;&#10;        OptionsTableLayoutPanel tableP5 = form.AddOptionGroup(&quot; P5 潘多拉 &quot;);&#13;&#10;&#13;&#10;        // P5 挡枪顺序&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;TMRH&quot;, &quot; T 近 远 H（国服/美服）&quot;),&#13;&#10;            (&quot;THMR&quot;, &quot; T H 近 远&quot;),&#13;&#10;            (&quot;TMRT&quot;, &quot; T 近 远 T&quot;)&#13;&#10;        );&#13;&#10;        optionCtrl = new OptionCbx(&quot;　挡枪职能顺序&quot;, &quot;P5挡枪&quot;, cbxItems, &quot;TMRH&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP5);&#13;&#10;&#13;&#10;        #endregion 配置：P5&#13;&#10;&#13;&#10;        #region 配置：P4&#13;&#10;&#13;&#10;        OptionsTableLayoutPanel tableP4 = form.AddOptionGroup(&quot; P4 琳＆盖娅 &quot;);&#13;&#10;        form.AddLabel(&quot;· [P4 一运]&quot;, tableP4).ForeColor = Blue;&#13;&#10;&#13;&#10;        // P4 一运&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;翻绳THMR&quot;, &quot; 国服翻绳（MT ST H1 H2 | D1-4）&quot;),&#13;&#10;            (&quot;翻绳HTMR&quot;, &quot; 日服翻绳（H1 H2 MT ST | D1-4）&quot;),&#13;&#10;            (&quot;翻绳HTRM&quot;, &quot; 美服翻绳（H1 H2 MT ST | D3 D4 D1 D2）&quot;),&#13;&#10;            (&quot;分摊THD&quot;, &quot; 分摊基准（MT ST H1 H2 | D1-4）（MMW 文档旧版）&quot;),&#13;&#10;            (&quot;分摊HTD&quot;, &quot; 分摊基准（H1 H2 MT ST | D1-4）&quot;),&#13;&#10;            (&quot;分摊HTD41&quot;, &quot; 分摊基准（H1 H2 MT ST | D4-1）&quot;),&#13;&#10;            (&quot;分摊DHT&quot;, &quot; 分摊基准（D4-1 | H2 H1 ST MT）（MMW 新版 上下倒转）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;翻绳打法：括号中为场地北、南两侧四人从西到东的顺序\n\n&quot; +&#13;&#10;               &quot;分摊基准：括号中为场地西、东两侧四人从北到南的顺序&quot;;&#13;&#10;        var optP4一运 = new OptionCbx(&quot;　一运解法&quot;, &quot;P4一运&quot;, cbxItems, &quot;翻绳THMR&quot;, hint);&#13;&#10;        optP4一运.DataChanged += (sender, e) =&gt;&#13;&#10;        {&#13;&#10;            form.GetOption(&quot;P4一运沙漏is主斜换&quot;).Enabled = optP4一运.Data.StartsWith(&quot;翻绳&quot;);&#13;&#10;            form.GetOption(&quot;P4一运方形is左换&quot;).Enabled = optP4一运.Data.StartsWith(&quot;翻绳&quot;);&#13;&#10;        };&#13;&#10;        form.AddOption(optP4一运, tableP4);&#13;&#10;&#13;&#10;        // P4 一运沙漏&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;1&quot;, &quot; 主斜向换位（左上 ↔ 右下）&quot;),&#13;&#10;            (&quot;0&quot;, &quot; 副斜向换位（右上 ↔ 左下）国/日/美服&quot;)&#13;&#10;        );&#13;&#10;        optionCtrl = new OptionCbx(&quot;　一运使用翻绳解法时：漏斗换位方式&quot;, &quot;P4一运沙漏is主斜换&quot;, cbxItems, &quot;0&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP4);&#13;&#10;&#13;&#10;        // P4 一运方形&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;1&quot;, &quot; 左侧换位（左上 ↔ 左下）国服&quot;),&#13;&#10;            (&quot;0&quot;, &quot; 右侧换位（右上 ↔ 右下）美服/日服&quot;)&#13;&#10;        );&#13;&#10;        optionCtrl = new OptionCbx(&quot;　一运使用翻绳解法时：方形换位方式&quot;, &quot;P4一运方形is左换&quot;, cbxItems, &quot;1&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP4);&#13;&#10;&#13;&#10;        // P4 一运分散标点&#13;&#10;        hint = &quot;使用其他近战 uptime 分散时可以关闭此选项，踩塔判定后还原为初始八方标点&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;　一运踩塔后分散时标记分散位置&quot;, &quot;P4一运分散标点on&quot;, true, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP4);&#13;&#10;&#13;&#10;        // P4 一运指挥模式&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;2&quot;, &quot; 为全队标点&quot;),&#13;&#10;            (&quot;1&quot;, &quot; 为全队标点（但标点后本地取消所有标点）&quot;),&#13;&#10;            (&quot;0&quot;, &quot; 不开启标点&quot;),&#13;&#10;            (&quot;-1&quot;, &quot; 不开启标点（且被标点后本地取消所有标点）&quot;),&#13;&#10;            (&quot;-2&quot;, &quot; 不开启标点（且被标点后强制非本地清除所有标点）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;· 引导组：标记攻击 1-4（方向同光暴踩塔，去对应数字标点方向引导位置）\n&quot;&#13;&#10;             + &quot;· 连线组：北塔禁止 12、南塔锁链 12（同雷火线）\n\n&quot;&#13;&#10;             + &quot;无论此选项是否开启，你均应该选择正确的优先级，为你播报去哪是由优先级而非标点决定的。\n如果有人给你标错了，是他自己优先级设错了的问题。\n\n&quot;&#13;&#10;             + &quot;如果你不希望站位时对你毫无帮助的标点遮挡视线，可以选择本地或网络取消标点的选项。&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;　一运指挥模式&quot;, &quot;P4一运标点mode&quot;, cbxItems, &quot;-1&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP4);&#13;&#10;&#13;&#10;        form.AddLabel(&quot;· [P4 二运]&quot;, tableP4).ForeColor = Blue;&#13;&#10;&#13;&#10;        // P4 二运红组优先级&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;12345678&quot;, &quot; MT-D4&quot;),&#13;&#10;            (&quot;34125678&quot;, &quot; H1 H2 MT ST D1-4（国服）&quot;),&#13;&#10;            (&quot;43215678&quot;, &quot; H2 H1 ST MT D1-4（美服）&quot;),&#13;&#10;            (&quot;23184567&quot;, &quot; H1 MT ST D1-4 H2（日服）&quot;)&#13;&#10;        );&#13;&#10;        optionCtrl = new OptionCbx(&quot;　二运红组优先级&quot;, &quot;P4二运pIdx2prio&quot;, cbxItems, 0);&#13;&#10;        form.AddOption(optionCtrl, tableP4);&#13;&#10;&#13;&#10;        // P4 二运击退&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;击退&quot;, &quot; 正常击退&quot;), (&quot;防击退&quot;, &quot; 防击退&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;未适配&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;　二运击退解法&quot;, &quot;P4二运击退 [未适配] &quot;, cbxItems, &quot;击退&quot;, hint);&#13;&#10;        optionCtrl.Enabled = false;&#13;&#10;        form.AddOption(optionCtrl, tableP4);&#13;&#10;&#13;&#10;        // P4 二运吃圈&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;优先&quot;, &quot; 按 THD 全队优先级&quot;),&#13;&#10;            (&quot;摇号&quot;, &quot; 按摇号 1-4（国服/日服）&quot;),&#13;&#10;            (&quot;点名&quot;, &quot; 按点名固定（美服）（配合下方设置）&quot;)&#13;&#10;        );&#13;&#10;        var optP4二运吃圈 = new OptionCbx(&quot;　二运蓝点名吃圈顺序（面向 C 从左到右）&quot;, &quot;P4二运吃圈&quot;, cbxItems, &quot;摇号&quot;);&#13;&#10;        optP4二运吃圈.DataChanged += (sender, e) =&gt;&#13;&#10;        {&#13;&#10;            form.GetOption(&quot;P4二运点名1&quot;).Enabled = optP4二运吃圈.Data == &quot;点名&quot;;&#13;&#10;            form.GetOption(&quot;P4二运点名2&quot;).Enabled = optP4二运吃圈.Data == &quot;点名&quot;;&#13;&#10;            form.GetOption(&quot;P4二运点名3&quot;).Enabled = optP4二运吃圈.Data == &quot;点名&quot;;&#13;&#10;            form.GetOption(&quot;P4二运点名4&quot;).Enabled = optP4二运吃圈.Data == &quot;点名&quot;;&#13;&#10;            form.GetOption(&quot;P4二运自动摇号&quot;).Enabled = optP4二运吃圈.Data == &quot;摇号&quot;;&#13;&#10;        };&#13;&#10;        form.AddOption(optP4二运吃圈, tableP4);&#13;&#10;&#13;&#10;        // P4 二运吃圈：点名&#13;&#10;        hint = &quot;仅在上方选项选择了根据点名摇号相关的选项时生效，否则可无视&quot;;&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;((&quot;冰&quot;, &quot; 黑暗冰封&quot;), (&quot;水&quot;, &quot; 黑暗狂水&quot;), (&quot;圣&quot;, &quot; 黑暗神圣（美服）&quot;), (&quot;暗&quot;, &quot; 暗炎喷发&quot;));&#13;&#10;        form.AddOption(new OptionCbx(&quot;　二运点名 1 号（正东）&quot;, &quot;P4二运点名1&quot;, cbxItems, 2, hint), tableP4);&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;((&quot;冰&quot;, &quot; 黑暗冰封&quot;), (&quot;水&quot;, &quot; 黑暗狂水（美服）&quot;), (&quot;圣&quot;, &quot; 黑暗神圣&quot;), (&quot;暗&quot;, &quot; 暗炎喷发&quot;));&#13;&#10;        form.AddOption(new OptionCbx(&quot;　二运点名 2 号（东南）&quot;, &quot;P4二运点名2&quot;, cbxItems, 1, hint), tableP4);&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;((&quot;冰&quot;, &quot; 黑暗冰封（美服）&quot;), (&quot;水&quot;, &quot; 黑暗狂水&quot;), (&quot;圣&quot;, &quot; 黑暗神圣&quot;), (&quot;暗&quot;, &quot; 暗炎喷发&quot;));&#13;&#10;        form.AddOption(new OptionCbx(&quot;　二运点名 3 号（西南）&quot;, &quot;P4二运点名3&quot;, cbxItems, 0, hint), tableP4);&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;((&quot;冰&quot;, &quot; 黑暗冰封&quot;), (&quot;水&quot;, &quot; 黑暗狂水&quot;), (&quot;圣&quot;, &quot; 黑暗神圣&quot;), (&quot;暗&quot;, &quot; 暗炎喷发（美服）&quot;));&#13;&#10;        form.AddOption(new OptionCbx(&quot;　二运点名 4 号（正西）&quot;, &quot;P4二运点名4&quot;, cbxItems, 3, hint), tableP4);&#13;&#10;&#13;&#10;        // P4 二运吃圈摇号&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;自身&quot;, &quot; 自动为自己摇号&quot;),&#13;&#10;            (&quot;全队优先&quot;, &quot; 自动为全队按 THD 全队优先级摇号&quot;),&#13;&#10;            (&quot;全队点名&quot;, &quot; 自动为全队按点名摇号（配合前面的设置）&quot;),&#13;&#10;            (&quot;被动&quot;, &quot; 手动或由别人为自己摇号&quot;)&#13;&#10;        );&#13;&#10;        optionCtrl = new OptionCbx(&quot;　二运指挥 / 自动摇号（仅选择摇号打法时有效）&quot;, &quot;P4二运自动摇号&quot;, cbxItems, &quot;自身&quot;);&#13;&#10;        form.AddOption(optionCtrl, tableP4);&#13;&#10;&#13;&#10;        // P4 二运标点标记光波起始斜方向&#13;&#10;        hint = &quot;· 保留目标斜点数字点，其余三个数字点从场中指向此方向&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;　二运标点标记光波起始的斜方向&quot;, &quot;P4二运指路on&quot;, true, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP4);&#13;&#10;        #endregion 配置：P4&#13;&#10;&#13;&#10;        #region 配置：P3&#13;&#10;&#13;&#10;        OptionsTableLayoutPanel tableP3 = form.AddOptionGroup(&quot; P3 暗之巫女 &quot;);&#13;&#10;        form.AddLabel(&quot;· [P3 一运]&quot;, tableP3).ForeColor = Blue;&#13;&#10;&#13;&#10;        // P3 一运解法&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;国&quot;, &quot; 国服（日服也选这项，详见下面 P3 一运摇号）&quot;),&#13;&#10;            (&quot;国HTDH&quot;, &quot; 国服（但改为 HTDH 优先级）&quot;),&#13;&#10;            (&quot;美&quot;, &quot; 美服&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;· 国服：\n    优先级 MT-H2 | D1-D4 \n    同组高左低右、D 北 TH 南、中火左 TH 右 D\n    详见 MMW 文档\n\n&quot;&#13;&#10;             + &quot;· 美服：\n    优先级 ST MT H1 H2 | D2134 \n    同组高左低右、D 北 TH 南、中火左 D 右 TH\n    详见 LesBin / NaurFFXIV&quot;;&#13;&#10;        var optP3一运 = new OptionCbx(&quot;　一运攻略解法&quot;, &quot;P3一运&quot;, cbxItems, &quot;国&quot;, hint);&#13;&#10;        optP3一运.DataChanged += (sender, e)&#13;&#10;            =&gt; form.GetOption(&quot;P3一运自动摇号on&quot;).Enabled = optP3一运.Data == &quot;国&quot;;&#13;&#10;        form.AddOption(optP3一运, tableP3);&#13;&#10;&#13;&#10;        // P3 一运摇号&#13;&#10;        hint = &quot;此选项会在 P3 一运中，\n&quot; +&#13;&#10;               &quot;自动按照国服解法为自己摇出正确方向的号，\n&quot; +&#13;&#10;               &quot;以此实现将日服攻略转化为与国服完全一致的解法。\n&quot; +&#13;&#10;               &quot;摇号被顶掉后会重新摇回来。\n&quot; +&#13;&#10;               &quot;攻略选项中 P3 一运需要选择国服。\n\n&quot; +&#13;&#10;               &quot;随机摇号 爬&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;　一运自动摇号（日服专用 详见说明）&quot;, &quot;P3一运自动摇号on&quot;, false, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP3);&#13;&#10;&#13;&#10;        // P3 一运标点模式&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;0&quot;, &quot; 不开启全队标点（不影响上一选项）&quot;),&#13;&#10;            (&quot;-1&quot;, &quot; 不开启全队标点（且被标点后本地取消所有标点）&quot;),&#13;&#10;            (&quot;-2&quot;, &quot; 不开启全队标点（且被标点后强制非本地清除所有标点）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;如果你不希望站位时对你毫无帮助的标点遮挡视线，可以选择本地或网络取消标点的选项。&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;　一运屏蔽标点&quot;, &quot;P3一运标点mode&quot;, cbxItems, &quot;-1&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP3);&#13;&#10;&#13;&#10;        // P3 一运镜子指北&#13;&#10;        hint = &quot;· 调用特效：一运阶段，在连线的 12 点方向生成 P2 的白镜子，指示相对北&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;　一运时在北侧放置镜子&quot;, &quot;P3一运镜子on&quot;, true, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP3);&#13;&#10;&#13;&#10;        var hintP32 = @&quot;「分散/分摊分组」「地火安全区划分半场」二者彼此完全独立。&#13;&#10;   MMW 攻略讲解的 P3 二运杂糅了这两项内容，特此说明：&#13;&#10;&#13;&#10;· 「双分组」 指分散与分摊的分组方式：&#13;&#10;   双分组法的分散和分摊的分组无关，&#13;&#10;   与之相对的是初始换位后沿用同一分组的「单分组」解法；&#13;&#10;&#13;&#10;· 「车头」指地火安全区如何划分半场：&#13;&#10;   所谓的车头法以地火垂向的单人（车头）安全区为基准划分半场，&#13;&#10;   与之相对的是以地火逆 45° 的人群安全区为基准的「人群基准」，&#13;&#10;   或以初始地火为基准的「地火基准」解法。&#13;&#10;&#13;&#10;· 这两项完全可以自由组合：&#13;&#10;   MMW 的「双分组」实为「双分组」+「人群基准」；&#13;&#10;   「车头法」实为「单分组」+「车头法」；&#13;&#10;   还有其他攻略使用了另外两种的组合方式，自行根据说明理解。&#13;&#10;&#13;&#10;· 关于优先级和换位：&#13;&#10;   对于分两组的换位解法，完全等价于全队优先级。&#13;&#10;   两侧不换位者即为最高/低优先级，同点名高去 1 组，低去 2 组。&#13;&#10;   如低顺位（H2 D4）优先换位到对侧的解法，即不动的 MT D1 在两侧，&#13;&#10;   等价于 MT ST H1 H2 D4 D3 D2 D1 优先级。&#13;&#10;   因此下述选项中使用清晰直观的优先级统一表述。&#13;&#10;&#13;&#10;看完这段还不知道你看的攻略怎么选的话，建议重看攻略。&#13;&#10;这说明你对攻略的理解还不配进本，别来群里问问问问问问。&quot;;&#13;&#10;        label = form.AddLabel(&quot;· [P3 二运]    关于 P3 二运打法的详细说明（双击此行查看）&quot;, tableP3);&#13;&#10;        label.ForeColor = Color.FromArgb(0x22, 0x66, 0xff);&#13;&#10;        label.DoubleClick += (sender, e)&#13;&#10;            =&gt; MessageBox.Show(hintP32, &quot;P3 二运说明&quot;, MessageBoxButtons.OK, MessageBoxIcon.Information);&#13;&#10;&#13;&#10;        // P3 二运分组方式&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;双分国&quot;, &quot; 双分组：H12 &gt; T12 &gt; D1-4（MMW）&quot;),&#13;&#10;            (&quot;双分HTDH&quot;, &quot; 双分组：H1 &gt; T12 &gt; D1-4 &gt; H2&quot;),&#13;&#10;            (&quot;双分美&quot;, &quot; 双分组：H21 &gt; T21 &gt; D1-4（美服）&quot;),&#13;&#10;            (&quot;单分THD&quot;, &quot; 单分组：T12 &gt; H12 &gt; D1-4&quot;),&#13;&#10;            (&quot;单分莫&quot;, &quot; 单分组：T12 &gt; H12 &gt; D4-1（MMW）&quot;),&#13;&#10;            (&quot;单分HTDH&quot;, &quot; 单分组：H1 &gt; T12 &gt; D1-4 &gt; H2&quot;),&#13;&#10;            (&quot;单分日&quot;, &quot; 单分组：H21 &gt; T21 &gt; D1-4（日服）&quot;),&#13;&#10;            (&quot;单分科&quot;, &quot; 单分组：根据科技标点（自动分配每组双近双远）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;· 双分组：\n    分摊分组按优先级确定，分散分组按职能固定 1/2 组\n    每人分散分摊都去固定位置，详见 MMW 文档\n\n&quot;&#13;&#10;             + &quot;· 单分组：\n    分摊分组按指定优先级确定，分散时按分摊的分组\n\n&quot;&#13;&#10;             + &quot;· 科技解法（属于单分组）：\n    按照指定规则，确保每组双近双远\n    按头顶标记去指定位置&quot;;&#13;&#10;        var optP3二运 = new OptionCbx(&quot;　二运分散与分摊的分组及优先级&quot;, &quot;P3二运&quot;, cbxItems, &quot;双分国&quot;, hint);&#13;&#10;        optP3二运.DataChanged += (sender, e)&#13;&#10;            =&gt; form.GetOption(&quot;P3二运isCmd&quot;).Enabled = optP3二运.Data == &quot;单分科&quot;;&#13;&#10;        form.AddOption(optP3二运, tableP3);&#13;&#10;&#13;&#10;        // P3 二运分散找半场&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;地火&quot;, &quot; 初始地火基准（然后反向找安全区）（美服）&quot;),&#13;&#10;            (&quot;地火-&quot;, &quot; 人群安全区基准（地火逆 45° 的安全区）&quot;),&#13;&#10;            (&quot;地火--&quot;, &quot; 单人（车头）安全区基准（地火垂直 90° 的安全区）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;人群安全区基准是 MMW 视频双分组介绍的分半场方式；\n&quot; +&#13;&#10;               &quot;单人安全区基准是 MMW 视频 MT 车头法介绍的分半场方式。\n&quot; +&#13;&#10;               &quot;不知道选哪个就好好看你用的攻略怎么讲的 别来群里问问问。\n\n&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;　二运地火分散划分半场的方式&quot;, &quot;P3二运分半场&quot;, cbxItems, &quot;地火--&quot;);&#13;&#10;        form.AddOption(optionCtrl, tableP3);&#13;&#10;&#13;&#10;        // P3 二运指挥模式&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;1&quot;, &quot; 为全队标点&quot;),&#13;&#10;            (&quot;0&quot;, &quot; 由别人为自己标点&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;· 一组 攻击 1 2 3 4\n&quot; +&#13;&#10;               &quot;· 二组 锁链 1 2 3 方块\n&quot; +&#13;&#10;               &quot; MT 固定为攻击 1（去一组引导位）&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;　二运指挥模式（单分组科技打法）&quot;, &quot;P3二运isCmd&quot;, cbxItems, &quot;0&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP3);&#13;&#10;&#13;&#10;        // P3 二运未来观测&#13;&#10;        hint = &quot;· 允许聊天文本和 TTS 在地火出现时立刻播报结果，不需等待动画&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;　二运地火未来观测&quot;, &quot;P3二运未来观测on&quot;, true, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP3);&#13;&#10;&#13;&#10;        #endregion 配置：P3&#13;&#10;&#13;&#10;        #region 配置：P2&#13;&#10;&#13;&#10;        OptionsTableLayoutPanel tableP2 = form.AddOptionGroup(&quot; P2 希瓦 · 米特隆 &quot;);&#13;&#10;&#13;&#10;        form.AddLabel(&quot;· [P2 钻石星尘]&quot;, tableP2).ForeColor = Blue;&#13;&#10;&#13;&#10;        // P2 钻石星尘需要逆时针起跑时是否均逆时针&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;1&quot;, &quot; 两组均逆时针反向起跑&quot;), (&quot;0&quot;, &quot; 仅分身边上的一组逆时针起跑&quot;)&#13;&#10;        );&#13;&#10;        optionCtrl = new OptionCbx(&quot;　钻石星尘 需要反向起跑时：&quot;, &quot;P2DD冰is双逆&quot;, cbxItems, &quot;1&quot;);&#13;&#10;        form.AddOption(optionCtrl, tableP2);&#13;&#10;&#13;&#10;        // P2 DD 连线背对&#13;&#10;        hint = &quot;· 调用特效：钻石星尘阶段，背对判定前，将自身与释放背对的分身连线&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;　开启冰、光分身连线特效&quot;, &quot;P2背对连线on&quot;, true, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP2);&#13;&#10;&#13;&#10;        form.AddLabel(&quot;· [P2 镜之国]&quot;, tableP2).ForeColor = Blue;&#13;&#10;&#13;&#10;        // P2 红镜子变白&#13;&#10;        hint = &quot;· 调用特效：在白镜子判定后，将剩余的两个红镜子变为白镜子，以防巨大的红色特效影响观察站位&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;　红镜子判定前变白&quot;, &quot;P2镜子变白on&quot;, true, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP2);&#13;&#10;&#13;&#10;        form.AddLabel(&quot;· [P2 光之暴走]&quot;, tableP2).ForeColor = Blue;&#13;&#10;&#13;&#10;        // P2 光之暴走&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;灰九&quot;, &quot; 灰九式 斜向六角星（MMW）&quot;),&#13;&#10;            (&quot;翻绳THD&quot;, &quot; 翻绳 南北向六角星（MMW，THD）&quot;),&#13;&#10;            (&quot;翻绳HTD&quot;, &quot; 翻绳 南北向六角星（日服，HTD）&quot;),&#13;&#10;            (&quot;翻绳美&quot;, &quot; 翻绳 南北向六角星（美服，见说明）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;· 灰九：\n    正北开始 顺时针 正八方站位确定优先级：\n    MT D4 ST D2 H2 D1 H1 D3\n    六人根据优先级分别去 C1243A\n    正东西拉线\n\n&quot;&#13;&#10;             + &quot;· 翻绳（MMW/日野）：\n    正西开始 顺时针 斜八方站位确定优先级：\n    THD：MT ST H1 H2 D4 D3 D2 D1\n    HTD：H1 H2 MT ST D4 D3 D2 D1\n    六人根据优先级分别去 1C24A3\n    正南北偏顺 30° 拉线\n\n&quot;&#13;&#10;             + &quot;· 翻绳（美服）：\n    正西开始 顺时针 斜八方站位：\n    H1 H2 MT ST D2 D1 D4 D3\n    南北两侧为 2/4 时，多的一侧最偏顺时针的人顺时针旋转补位（无法等效于单一优先级）\n    六边形所去站位同上\n    正南北偏顺 30° 拉线&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;　光之暴走解法&quot;, &quot;P2光暴&quot;, cbxItems, &quot;灰九&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP2);&#13;&#10;&#13;&#10;        // P2 光暴指挥模式&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;2&quot;, &quot; 为全队标点&quot;),&#13;&#10;            (&quot;1&quot;, &quot; 为全队标点（但标点后本地取消所有标点）&quot;),&#13;&#10;            (&quot;0&quot;, &quot; 不开启标点&quot;),&#13;&#10;            (&quot;-1&quot;, &quot; 不开启标点（且被标点后本地取消所有标点）&quot;),&#13;&#10;            (&quot;-2&quot;, &quot; 不开启标点（且被标点后强制非本地清除所有标点）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;· 为连线的六人标点指示踩哪个塔：\n    攻击 1 2 3 4 去对应场地标点 1-4 方向；\n    锁链 1 2 去 A C\n\n&quot; +&#13;&#10;               &quot;无论是否开启，该去的位置均由选用的打法决定，与标点无关。&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;　光之暴走指挥模式&quot;, &quot;P2光暴标点mode&quot;, cbxItems, &quot;-1&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP2);&#13;&#10;&#13;&#10;        form.AddLabel(&quot;· [P2.5 光暗水晶]&quot;, tableP2).ForeColor = Blue;&#13;&#10;&#13;&#10;        // P2.5 消除冰地板&#13;&#10;        hint = &quot;· 调用特效：在地板冻结后立刻解除冰冻，此功能用于避免冰地板导致扇形看不见的 bug。\n目前 SE 已修复此 bug，但开启此选项可降低光污染。\n\n· 注：开启此选项会导致水晶被实际打碎前可以走进其目标圈。\n  （这意味着可以去正中间打 15 米 AoE 贪四个伤害）&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;　结冰后消除冰地板&quot;, &quot;P2碎冰on&quot;, true, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP2);&#13;&#10;&#13;&#10;        // P2.5 暗水晶不可选中&#13;&#10;        hint = &quot;· 将四个暗水晶实体设置为无法选中的状态&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;　暗水晶不可选中&quot;, &quot;P2不可选暗on&quot;, true, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP2);&#13;&#10;&#13;&#10;        #endregion 配置：P2&#13;&#10;&#13;&#10;        #region 配置：P1&#13;&#10;        OptionsTableLayoutPanel tableP1 = form.AddOptionGroup(&quot; P1 绝命战士 &quot;);&#13;&#10;&#13;&#10;        // P1 雾龙连线两人去的位置&#13;&#10;        form.AddLabel(&quot;· [P1 光轮召唤]&quot;, tableP1).ForeColor = Blue;&#13;&#10;&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;THD&quot;, &quot; 高优先级去北、低优先级去南（THD）（国服）&quot;),&#13;&#10;            (&quot;HTD&quot;, &quot; 高优先级去北、低优先级去南（HTD）（日服）&quot;),&#13;&#10;            (&quot;HTDH&quot;, &quot; 高优先级去北、低优先级去南（HTDH）&quot;),&#13;&#10;            (&quot;长短&quot;, &quot; 长线去北、短线去南（美服）&quot;),&#13;&#10;            (&quot;短长&quot;, &quot; 短线去北、长线去南&quot;),&#13;&#10;            (&quot;左右&quot;, &quot; 左下分身连线去北、右下分身连线去南&quot;),&#13;&#10;            (&quot;右左&quot;, &quot; 右下分身连线去北、左下分身连线去南&quot;)&#13;&#10;        );&#13;&#10;        optionCtrl = new OptionCbx(&quot;　连线两人去的位置&quot;, &quot;P1雾龙线&quot;, cbxItems, &quot;THD&quot;);&#13;&#10;        form.AddOption(optionCtrl, tableP1);&#13;&#10;&#13;&#10;        // P1 光轮缩放&#13;&#10;        hint = &quot;· 改变特效：八个光轮初始缩小且半透明，以便观察站位；后续判定时放大到实际判定范围&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;　开启光轮缩小特效&quot;, &quot;P1光轮缩放on&quot;, true, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP1);&#13;&#10;&#13;&#10;        form.AddLabel(&quot;· [P1 雷火四线]&quot;, tableP1).ForeColor = Blue;&#13;&#10;&#13;&#10;        // P1 雷火线谁固定站位&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;线&quot;, &quot; 连线固定（国/日/美服）&quot;),&#13;&#10;            (&quot;闲&quot;, &quot; 闲人固定（旧版）&quot;),&#13;&#10;            (&quot;闲新&quot;, &quot; 闲人固定（仅可横排，MMW 新版）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;· 连线组固定：\n    连线者固定前后站位\n    闲人根据线去左右或正后\n\n&quot; +&#13;&#10;               &quot;· 闲人组固定：\n    闲人固定左右站位\n    连线者根据线去中间或左前\n\n&quot; +&#13;&#10;               &quot;· 闲人组固定（新）：场地基准\n    闲人固定正左、左下、右下、正右\n    连线者根据线去中间或北侧&quot;;&#13;&#10;        var optP1四线固定 = new OptionCbx(&quot;　雷火线攻略解法&quot;, &quot;P1四线固定&quot;, cbxItems, &quot;1&quot;, hint);&#13;&#10;        form.AddOption(optP1四线固定, tableP1);&#13;&#10;&#13;&#10;        // P1 雷火线南北/东西&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;1&quot;, &quot; 1/3 线北、2/4 线南（国服）&quot;), (&quot;0&quot;, &quot; 1/3 线西、2/4 线东（美服/日服）&quot;)&#13;&#10;        );&#13;&#10;        var optP1线is南北 = new OptionCbx(&quot;　雷火线横向 / 纵向处理机制&quot;, &quot;P1线is南北&quot;, cbxItems, &quot;1&quot;);&#13;&#10;        form.AddOption(optP1线is南北, tableP1);&#13;&#10;        optP1四线固定.DataChanged += (sender, e) =&gt; optP1线is南北.Enabled = optP1四线固定.Data != &quot;闲新&quot;;&#13;&#10;&#13;&#10;        // P1 雷火线优先级&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;HTD&quot;, &quot; H &gt; T &gt; D（国服/日服）&quot;), (&quot;THD&quot;, &quot; T &gt; H &gt; D&quot;), (&quot;HTDH&quot;, &quot; H1 &gt; T &gt; D &gt; H2&quot;),&#13;&#10;            (&quot;TMHR&quot;, &quot; D3 H1 D1 MT ST D2 H2 D4（美服）&quot;), (&quot;TMRH&quot;, &quot; H1 D3 D1 MT ST D2 D4 H2&quot;),&#13;&#10;            (&quot;MTHR&quot;, &quot; D3 H1 MT D1 D2 ST H2 D4&quot;), (&quot;MTRH&quot;, &quot; H1 D3 MT D1 D2 ST D4 H2&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;注：单排双排与优先级完全无关，爱站哪站哪&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;　雷火线全队优先级&quot;, &quot;P1线Prio&quot;, cbxItems, &quot;HTD&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP1);&#13;&#10;&#13;&#10;        // P1 四线指挥模式&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;2&quot;, &quot; 为全队标点&quot;),&#13;&#10;            (&quot;1&quot;, &quot; 为全队标点（但标点后本地取消所有标点）&quot;),&#13;&#10;            (&quot;0&quot;, &quot; 不开启标点&quot;),&#13;&#10;            (&quot;-1&quot;, &quot; 不开启标点（且被标点后本地取消所有标点）&quot;),&#13;&#10;            (&quot;-2&quot;, &quot; 不开启标点（且被标点后强制非本地清除所有标点）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;· 闲人：按优先级攻击 1-4（1 2 为一组，3 4 为二组）\n&quot;&#13;&#10;             + &quot;· 连线：按顺序禁止 1、锁链 1、禁止 2、锁链 2（禁止去一组，锁链去二组）\n\n&quot;&#13;&#10;             + &quot;无论此选项是否开启，你均应该选择正确的优先级，为你播报去哪是由优先级而非标点决定的。\n如果有人给你闲人组顺序标错了，是他自己优先级设错了的问题。\n\n&quot;&#13;&#10;             + &quot;如果你不希望站位时对你毫无帮助的标点遮挡视线，可以选择本地或网络取消标点的选项。&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;　雷火线指挥模式&quot;, &quot;P1四线标点mode&quot;, cbxItems, &quot;-1&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP1);&#13;&#10;&#13;&#10;        form.AddLabel(&quot;· [P1 六人塔]&quot;, tableP1).ForeColor = Blue;&#13;&#10;&#13;&#10;        // P1 六人踩塔解法&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;固定HHD&quot;, &quot; 3 固定 3 换位：H1 D1 | H2 D2 | D4 D3（MMW）&quot;),&#13;&#10;            (&quot;固定HDH&quot;, &quot; 3 固定 3 换位：H1 D1 | D4 D3 | H2 D2（MMW 旧版）&quot;),&#13;&#10;            (&quot;结合HHD&quot;, &quot; 3 固定 3 优先级：H1 | H2 | D4（日服）&quot;),&#13;&#10;            (&quot;结合HDH&quot;, &quot; 3 固定 3 优先级：H1 | D4 | H2（美服）&quot;),&#13;&#10;            (&quot;优先&quot;, &quot; 6 人优先级（日服旧版）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;· 三人固定、三人换位：\n    法系从上到下固定、D1-3 按需补位（类似龙诗 P3）\n\n&quot;&#13;&#10;             + &quot;· 三人固定、三人优先级：\n    法系从上到下固定、D1-3 按优先级从上到下补塔\n\n&quot;&#13;&#10;             + &quot;· 六人优先级：\n    H1 H2 D1-4 优先级从上到下踩塔&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;　踩塔解法&quot;, &quot;P1塔&quot;, cbxItems, &quot;固定&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableP1);&#13;&#10;&#13;&#10;        #endregion 配置：P1&#13;&#10;&#13;&#10;        /* 实体缩放&#13;&#10;                #region 配置：实体缩放&#13;&#10;                OptionsTableLayoutPanel tableScaling = form.AddOptionGroup(&quot; 实体缩放倍率（1 代表原始大小）  注：以下选项目前无效，会应用内置的固定缩放倍率&quot;);&#13;&#10;                form.AddOption(new OptionTxt(&quot;[实体缩放] 桑克瑞德本体&quot;, &quot;Scaling桑&quot;, &quot;1&quot;), tableP1);&#13;&#10;                form.AddOption(new OptionTxt(&quot;[实体缩放] 桑克瑞德分身（雾龙阶段）&quot;, &quot;Scaling桑2&quot;, &quot;1&quot;), tableP1);&#13;&#10;                form.AddOption(new OptionTxt(&quot;[未适配] 琳（P2）&quot;, &quot;Scaling琳&quot;, &quot;1&quot;), tableScaling);&#13;&#10;                form.AddOption(new OptionTxt(&quot;[未适配] 盖娅（P3）&quot;, &quot;Scaling盖&quot;, &quot;1&quot;), tableScaling);&#13;&#10;                form.AddOption(new OptionTxt(&quot;[未适配] 琳（P4）&quot;, &quot;Scaling琳2&quot;, &quot;1&quot;), tableScaling);&#13;&#10;                form.AddOption(new OptionTxt(&quot;[未适配] 盖娅（P4）&quot;, &quot;Scaling盖2&quot;, &quot;1&quot;), tableScaling);&#13;&#10;                form.AddOption(new OptionTxt(&quot;[未适配] 潘多拉&quot;, &quot;Scaling潘&quot;, &quot;1&quot;), tableScaling);&#13;&#10;                #endregion 配置：实体缩放&#13;&#10;        */&#13;&#10;&#13;&#10;        #region 配置：通用选项&#13;&#10;&#13;&#10;        OptionsTableLayoutPanel tableGeneral = form.AddOptionGroup(&quot; 通用选项 &quot;);&#13;&#10;&#13;&#10;        form.AddLabel(&quot;未提供本地场地标点的开关。如果要关闭，去鲶鱼精邮差临时关闭 WayMark。&quot;, tableGeneral);&#13;&#10;&#13;&#10;        // 开场自动标点&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;2&quot;, &quot; 公开标点（北侧顺时针 1A2、半径 10.0 m）&quot;),&#13;&#10;            (&quot;1&quot;, &quot; 本地标点（同上，队里使用其他标点时可以本地覆盖掉）&quot;),&#13;&#10;            (&quot;0&quot;, &quot; 不开启标点&quot;)&#13;&#10;        );&#13;&#10;        optionCtrl = new OptionCbx(&quot;开场自动应用标准场地标点（防内鬼标点）&quot;, &quot;P0场地标点mode&quot;, cbxItems, &quot;2&quot;);&#13;&#10;        form.AddOption(optionCtrl, tableGeneral);&#13;&#10;&#13;&#10;        // P1 校准小队&#13;&#10;        hint = &quot;默认站位：正北逆 MT D3 H1 D1 [H2/ST] D2 [ST/H2] D4\n会在开场八方分散时检查全员站位，如果与设置不符则报错并自动修正。\n魔改站位时不要开。&quot;;&#13;&#10;        optionCtrl = new OptionChk(&quot;开场八方时检查并修正小队&quot;, &quot;P1修复小队on&quot;, true, hint);&#13;&#10;        form.AddOption(optionCtrl, tableGeneral);&#13;&#10;&#13;&#10;        // 划分半场&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;1&quot;, &quot; 正北至西南为 MT 组（国/美服）&quot;),&#13;&#10;            (&quot;0&quot;, &quot; 东北至正西为 MT 组（日服）&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;触发器所有逻辑均基于 1A2 标点播报，仅 P1、P3 半场划分不同。\n如果你一定要使用日服的 4A1，可以下方选项中开启本地标点覆盖，使 TTS 与标点一致。&quot;;&#13;&#10;        optionCtrl = new OptionCbx(&quot;半场分界线&quot;, &quot;半场is1A2&quot;, cbxItems, &quot;1&quot;, hint);&#13;&#10;        form.AddOption(optionCtrl, tableGeneral);&#13;&#10;&#13;&#10;        #endregion 配置：通用选项&#13;&#10;&#13;&#10;        #region 预设&#13;&#10;&#13;&#10;        OptionsTableLayoutPanel tablePresets = form.AddOptionGroup(&quot; 预设 &quot;);&#13;&#10;&#13;&#10;        label = form.AddLabel(&quot;此分组的选项用于读取或记录预设，本身不是配置选项。读取后依然需要在下方保存。&quot;, tablePresets);&#13;&#10;        label.ForeColor = Blue;&#13;&#10;&#13;&#10;        // 读取预设&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;MMW&quot;, &quot; 国服 MMW：光暴灰九 + P3 双分组人群基准 + P4 国服翻绳&quot;),&#13;&#10;            (&quot;EN&quot;, &quot; 美服攻略：NaurFFXIV / LesBin 整合&quot;),&#13;&#10;            (&quot;JP&quot;, &quot; 日服攻略&quot;),&#13;&#10;            (&quot;User1&quot;, &quot; 自定义预设 1&quot;),&#13;&#10;            (&quot;User2&quot;, &quot; 自定义预设 2&quot;),&#13;&#10;            (&quot;P1四线横排&quot;, &quot;- [部分] P1 雷火四线改为新版横排闲人固定&quot;),&#13;&#10;            (&quot;P2光暴翻绳&quot;, &quot;- [部分] P2 光暴改为正六角星翻绳&quot;),&#13;&#10;            (&quot;P3二运科技指挥&quot;, &quot;- [部分] P3 二运改为科技单分组（指挥）&quot;),&#13;&#10;            (&quot;P3二运科技被指挥&quot;, &quot;- [部分] P3 二运改为科技单分组（被指挥）&quot;),&#13;&#10;            (&quot;P4一运分摊基准&quot;, &quot;- [部分] P4 一运改为分摊基准&quot;)&#13;&#10;        );&#13;&#10;        hint = &quot;标记为 [部分] 的选项仅会影响相应的部分，需要先配置好其他部分的攻略再覆盖应用。&quot;;&#13;&#10;        var optionLoadPreset = new OptionCbx(&quot;· [双击此行] 应用右侧的攻略或自定义预设配置&quot;, null, cbxItems, &quot;MMW&quot;, hint);&#13;&#10;        form.AddOption(optionLoadPreset, tablePresets);&#13;&#10;        optionLoadPreset.Lbl.MouseDoubleClick += (sender, e) =&gt;&#13;&#10;        {&#13;&#10;            var preset = (PresetEnum)Enum.Parse(typeof(PresetEnum), optionLoadPreset.Data);&#13;&#10;            ApplyPreset(preset, form);&#13;&#10;        };&#13;&#10;&#13;&#10;        // 保存自定义预设&#13;&#10;        cbxItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;User1&quot;, &quot; 自定义预设 1&quot;),&#13;&#10;            (&quot;User2&quot;, &quot; 自定义预设 2&quot;)&#13;&#10;        );&#13;&#10;        var optionSavePreset = new OptionCbx(&quot;· [双击此行] 记录当前选项到右侧自定义预设&quot;, null, cbxItems, &quot;User1&quot;);&#13;&#10;        form.AddOption(optionSavePreset, tablePresets);&#13;&#10;        optionSavePreset.Lbl.MouseDoubleClick += (sender, e) =&gt;&#13;&#10;        {&#13;&#10;            var preset = (PresetEnum)Enum.Parse(typeof(PresetEnum), optionSavePreset.Data);&#13;&#10;            SavePreset(preset, form);&#13;&#10;        };&#13;&#10;&#13;&#10;        // 导入导出&#13;&#10;        var lbl = form.AddLabel(&quot;· [双击此行] 导入/导出攻略部分的预设（和其他人分享）&quot;, tablePresets);&#13;&#10;        lbl.MouseDoubleClick += (sender, e) =&gt; ImportExportStrats(form);&#13;&#10;&#13;&#10;        #endregion 预设&#13;&#10;&#13;&#10;        #region 配置：文本频道&#13;&#10;        OptionsTableLayoutPanel tableChannel = form.AddOptionGroup(&quot; 文本频道 &quot;);&#13;&#10;        var cnlItems = new BijectDictionary&lt;string, string&gt;(&#13;&#10;            (&quot;&quot;, &quot; （禁用）&quot;), (&quot;p&quot;, &quot; 小队&quot;), (&quot;e&quot;, &quot; 默语&quot;), (&quot;fc&quot;, &quot; 部队&quot;),&#13;&#10;            (&quot;l1&quot;, &quot; 通讯贝1&quot;), (&quot;l2&quot;, &quot; 通讯贝2&quot;), (&quot;l3&quot;, &quot; 通讯贝3&quot;), (&quot;l4&quot;, &quot; 通讯贝4&quot;),&#13;&#10;            (&quot;l5&quot;, &quot; 通讯贝5&quot;), (&quot;l6&quot;, &quot; 通讯贝6&quot;), (&quot;l7&quot;, &quot; 通讯贝7&quot;), (&quot;l8&quot;, &quot; 通讯贝8&quot;),&#13;&#10;            (&quot;cwl1&quot;, &quot; 跨服通讯贝1&quot;), (&quot;cwl2&quot;, &quot; 跨服通讯贝2&quot;), (&quot;cwl3&quot;, &quot; 跨服通讯贝3&quot;), (&quot;cwl4&quot;, &quot; 跨服通讯贝4&quot;),&#13;&#10;            (&quot;cwl5&quot;, &quot; 跨服通讯贝5&quot;), (&quot;cwl6&quot;, &quot; 跨服通讯贝6&quot;), (&quot;cwl7&quot;, &quot; 跨服通讯贝7&quot;), (&quot;cwl8&quot;, &quot; 跨服通讯贝8&quot;)&#13;&#10;        );&#13;&#10;        var cnlPublicItems = cnlItems.ShallowCopy();&#13;&#10;        cnlPublicItems.RemoveKey(&quot;&quot;);&#13;&#10;        var cnlDebugItems = cnlItems.ShallowCopy();&#13;&#10;        cnlDebugItems.RemoveKey(&quot;p&quot;);&#13;&#10;        cnlDebugItems.RemoveKey(&quot;&quot;); // 暂时&#13;&#10;        var cnlPrivateItems = cnlItems.ShallowCopy();&#13;&#10;        cnlPrivateItems.RemoveKey(&quot;p&quot;);&#13;&#10;        cnlPrivateItems.RemoveKey(&quot;&quot;);&#13;&#10;&#13;&#10;        OptionCbx cnlPublic = new OptionCbx(&quot;公共频道&quot;, &quot;publicChannel&quot;, cnlPublicItems, &quot;e&quot;,&#13;&#10;            hint: &quot;本频道用于播报部分机制、示意图、复盘信息等机制相关内容。\n\n默认设为自己可见的默语频道，\n如有需要可设为小队等。\n\n当开启了某个阶段的指挥模式时，相关播报所用的频道会无视此项设置，覆盖为小队频道。&quot;);&#13;&#10;        OptionCbx cnlPrivate = new OptionCbx(&quot;个人频道&quot;, &quot;privateChannel&quot;, cnlPrivateItems, &quot;e&quot;,&#13;&#10;            hint: &quot;本频道用于发送仅应自己可见的系统提示消息。\n\n本项设置不应选择任何其他人可见的频道。&quot;);&#13;&#10;        OptionCbx cnlDebug = new OptionCbx(&quot;调试频道&quot;, &quot;debugChannel&quot;, cnlDebugItems, &quot;&quot;,&#13;&#10;            hint: &quot;本频道用于发送额外调试信息。\n\n请设置为仅自己可见的频道，或将其关闭。\n\n（测试版暂不提供关闭选项）&quot;);&#13;&#10;        form.AddOption(cnlPublic, tableChannel);&#13;&#10;        form.AddOption(cnlPrivate, tableChannel);&#13;&#10;        form.AddOption(cnlDebug, tableChannel);&#13;&#10;&#13;&#10;        #endregion 配置：文本频道&#13;&#10;&#13;&#10;        #region 使用须知&#13;&#10;&#13;&#10;        OptionsTableLayoutPanel tableInfo = form.AddOptionGroup(&quot; 使用须知 &quot;);&#13;&#10;        var hintCactbot = &quot;Cactbot 官库攻略与国服不兼容。\n&quot; +&#13;&#10;            &quot;如果你当前未关闭 Cactbot 官库 TTS，关闭此界面时会自动帮你关闭。\n\n&quot; +&#13;&#10;            &quot;如果你想将文本显示一起关闭，可以手动操作：\n&quot; +&#13;&#10;            &quot;ACT 页面上方「OverlayPlugin 悬浮窗插件」选项卡 - \n&quot; +&#13;&#10;            &quot;左侧「Cactbot 设置」选项卡 - \n&quot; +&#13;&#10;            &quot;展开右侧菜单「RAIDBOSS / 时间轴与触发器提示」- \n&quot; +&#13;&#10;            &quot;下方 7.x 中找到「光暗未来绝境战」- \n&quot; +&#13;&#10;            &quot;将首个设置更改为「禁用」&quot;;&#13;&#10;        label = form.AddLabel(&quot;· 如果安装了 Cactbot，使用前必须关闭 Cactbot 的播报（双击此行查看说明）&quot;, tableInfo);&#13;&#10;        label.ForeColor = Blue;&#13;&#10;        label.DoubleClick += (sender, e)&#13;&#10;            =&gt; MessageBox.Show(hintCactbot, &quot;关闭 Cactbot 默认播报&quot;, MessageBoxButtons.OK, MessageBoxIcon.Information);&#13;&#10;&#13;&#10;        form.AddLabel(&quot;· 使用前必须查看使用说明，见绝伊甸触发器分组下的「使用说明」触发器。&quot;, tableInfo)&#13;&#10;            .ForeColor = Blue;&#13;&#10;&#13;&#10;        label = form.AddLabel(&quot;· 下方部分选项上悬停鼠标可以显示详细说明。&quot;, tableInfo);&#13;&#10;        label.ForeColor = Blue;&#13;&#10;&#13;&#10;        #endregion 使用须知&#13;&#10;&#13;&#10;        #region 配置：队员顺序&#13;&#10;        if (BridgeFFXIV.ZoneID == int.Parse(&quot;0${env:zone}&quot;) &amp;&amp; Triggernometry.FFXIV.Entity.GetEntities().Any(e =&gt; e.InParty))&#13;&#10;        {&#13;&#10;            string[] playerDescriptions = { &quot;MT&quot;, &quot;ST&quot;, &quot;H1&quot;, &quot;H2&quot;, &quot;D1&quot;, &quot;D2&quot;, &quot;D3&quot;, &quot;D4&quot; };&#13;&#10;            var pListPanel = new PartyListPanel(playerDescriptions);&#13;&#10;            form.AddPartyGroup(&quot; 队员顺序（拖拽调整） &quot;, pListPanel);&#13;&#10;        }&#13;&#10;        #endregion 配置：队员顺序&#13;&#10;&#13;&#10;        Application.OpenForms.OfType&lt;GameConfigForm&gt;().ToList().ForEach(f =&gt; f.Close());&#13;&#10;        form.Run();&#13;&#10;    }&#13;&#10;&#13;&#10;    enum PresetEnum&#13;&#10;    {&#13;&#10;        MMW, P1四线横排, P2光暴翻绳, P3二运科技指挥, P3二运科技被指挥, P4一运分摊基准, EN, JP, User1, User2&#13;&#10;    }&#13;&#10;&#13;&#10;    private static void ApplyPreset(PresetEnum preset, GameConfigForm cfgForm)&#13;&#10;    {&#13;&#10;        var cfgDict = new Dictionary&lt;string, string&gt;();&#13;&#10;        var presetDesc = &quot;&quot;;&#13;&#10;        var additionalInfo = &quot;&quot;;&#13;&#10;        switch (preset)&#13;&#10;        {&#13;&#10;            case PresetEnum.MMW:&#13;&#10;                cfgDict[&quot;半场is1A2&quot;] = &quot;1&quot;;&#13;&#10;                cfgDict[&quot;P1修复小队on&quot;] = &quot;1&quot;;&#13;&#10;                cfgDict[&quot;P1雾龙线&quot;] = &quot;THD&quot;;&#13;&#10;                cfgDict[&quot;P1线Prio&quot;] = &quot;HTD&quot;;&#13;&#10;                cfgDict[&quot;P1四线固定&quot;] = &quot;线&quot;;&#13;&#10;                cfgDict[&quot;P1线is南北&quot;] = &quot;1&quot;;&#13;&#10;                cfgDict[&quot;P1塔&quot;] = &quot;固定HHD&quot;;&#13;&#10;                cfgDict[&quot;P2DD冰is双逆&quot;] = &quot;1&quot;;&#13;&#10;                cfgDict[&quot;P2光暴&quot;] = &quot;灰九&quot;;&#13;&#10;                cfgDict[&quot;P3一运&quot;] = &quot;国&quot;;&#13;&#10;                cfgDict[&quot;P3二运&quot;] = &quot;双分国&quot;;&#13;&#10;                cfgDict[&quot;P3二运分半场&quot;] = &quot;地火-&quot;;&#13;&#10;                cfgDict[&quot;P4一运&quot;] = &quot;翻绳THMR&quot;;&#13;&#10;                cfgDict[&quot;P4一运沙漏is主斜换&quot;] = &quot;0&quot;;&#13;&#10;                cfgDict[&quot;P4一运方形is左换&quot;] = &quot;1&quot;;&#13;&#10;                cfgDict[&quot;P4二运pIdx2prio&quot;] = &quot;34125678&quot;;&#13;&#10;                cfgDict[&quot;P4二运击退&quot;] = &quot;击退&quot;;&#13;&#10;                cfgDict[&quot;P4二运吃圈&quot;] = &quot;摇号&quot;;&#13;&#10;                cfgDict[&quot;P5挡枪&quot;] = &quot;TMRH&quot;;&#13;&#10;                cfgDict[&quot;P3一运自动摇号on&quot;] = &quot;0&quot;;&#13;&#10;                cfgDict[&quot;P4二运自动摇号&quot;] = &quot;自身&quot;;&#13;&#10;                presetDesc = &quot;MMW 预设&quot;;&#13;&#10;                additionalInfo = &quot;对于光暴、P3 二运、P4 一运等有分歧的选项，你依然需要自行设置。\n\n配置无法保证实时跟随攻略更新，进本前需要检查配置选项。&quot;;&#13;&#10;                break;&#13;&#10;            case PresetEnum.P1四线横排:&#13;&#10;                cfgDict[&quot;P1线Prio&quot;] = &quot;HTD&quot;;&#13;&#10;                cfgDict[&quot;P1四线固定&quot;] = &quot;闲新&quot;;&#13;&#10;                cfgDict[&quot;P1线is南北&quot;] = &quot;0&quot;;&#13;&#10;                presetDesc = &quot;P1 雷火线新版横排闲人固定预设&quot;;&#13;&#10;                additionalInfo = &quot;此项预设仅修改 P1 雷火线解法。&quot;;&#13;&#10;                break;&#13;&#10;            case PresetEnum.P2光暴翻绳:&#13;&#10;                cfgDict[&quot;P2光暴&quot;] = &quot;翻绳THD&quot;;&#13;&#10;                presetDesc = &quot;P2 光暴翻绳预设（MMW 视频攻略版）&quot;;&#13;&#10;                additionalInfo = &quot;此项预设仅修改 P2 光暴解法。&quot;;&#13;&#10;                break;&#13;&#10;            case PresetEnum.P3二运科技指挥:&#13;&#10;                cfgDict[&quot;P3二运&quot;] = &quot;单分科&quot;;&#13;&#10;                cfgDict[&quot;P3二运isCmd&quot;] = &quot;1&quot;;&#13;&#10;                presetDesc = &quot;P3 二运科技单分组预设（指挥）&quot;;&#13;&#10;                additionalInfo = &quot;此项预设仅修改 P3 二运解法。此外你需要手动指定地火分半场的基准。&quot;;&#13;&#10;                break;&#13;&#10;            case PresetEnum.P3二运科技被指挥:&#13;&#10;                cfgDict[&quot;P3二运&quot;] = &quot;单分科&quot;;&#13;&#10;                cfgDict[&quot;P3二运isCmd&quot;] = &quot;0&quot;;&#13;&#10;                presetDesc = &quot;P3 二运科技单分组预设（被指挥）&quot;;&#13;&#10;                additionalInfo = &quot;此项预设仅修改 P3 二运解法。此外你需要手动指定地火分半场的基准。&quot;;&#13;&#10;                break;&#13;&#10;            case PresetEnum.P4一运分摊基准:&#13;&#10;                cfgDict[&quot;P4一运&quot;] = &quot;分摊DHT&quot;;&#13;&#10;                presetDesc = &quot;P4 一运分摊基准预设（MMW 攻略视频版本）&quot;;&#13;&#10;                additionalInfo = &quot;此项预设仅修改 P4 一运解法。&quot;;&#13;&#10;                break;&#13;&#10;            case PresetEnum.EN:&#13;&#10;                cfgDict[&quot;半场is1A2&quot;] = &quot;1&quot;;&#13;&#10;                cfgDict[&quot;P1修复小队on&quot;] = &quot;1&quot;;&#13;&#10;                cfgDict[&quot;P1雾龙线&quot;] = &quot;长短&quot;;&#13;&#10;                cfgDict[&quot;P1线Prio&quot;] = &quot;TMHR&quot;;&#13;&#10;                cfgDict[&quot;P1四线固定&quot;] = &quot;线&quot;;&#13;&#10;                cfgDict[&quot;P1线is南北&quot;] = &quot;0&quot;;&#13;&#10;                cfgDict[&quot;P1塔&quot;] = &quot;结合HDH&quot;;&#13;&#10;                cfgDict[&quot;P2DD冰is双逆&quot;] = &quot;1&quot;;&#13;&#10;                cfgDict[&quot;P2光暴&quot;] = &quot;翻绳美&quot;;&#13;&#10;                cfgDict[&quot;P3一运&quot;] = &quot;美&quot;;&#13;&#10;                cfgDict[&quot;P3二运&quot;] = &quot;双分美&quot;;&#13;&#10;                cfgDict[&quot;P3二运分半场&quot;] = &quot;地火&quot;;&#13;&#10;                cfgDict[&quot;P4一运&quot;] = &quot;翻绳HTRM&quot;;&#13;&#10;                cfgDict[&quot;P4一运沙漏is主斜换&quot;] = &quot;0&quot;;&#13;&#10;                cfgDict[&quot;P4一运方形is左换&quot;] = &quot;0&quot;;&#13;&#10;                cfgDict[&quot;P4二运pIdx2prio&quot;] = &quot;43215678&quot;;&#13;&#10;                cfgDict[&quot;P4二运击退&quot;] = &quot;击退&quot;;&#13;&#10;                cfgDict[&quot;P4二运吃圈&quot;] = &quot;点名&quot;;&#13;&#10;                cfgDict[&quot;P4二运点名1&quot;] = &quot;圣&quot;;&#13;&#10;                cfgDict[&quot;P4二运点名2&quot;] = &quot;水&quot;;&#13;&#10;                cfgDict[&quot;P4二运点名3&quot;] = &quot;冰&quot;;&#13;&#10;                cfgDict[&quot;P4二运点名4&quot;] = &quot;暗&quot;;&#13;&#10;                cfgDict[&quot;P5挡枪&quot;] = &quot;TMRH&quot;;&#13;&#10;                cfgDict[&quot;P3一运自动摇号on&quot;] = &quot;0&quot;;&#13;&#10;                presetDesc = &quot;美服预设&quot;;&#13;&#10;                additionalInfo = &quot;配置无法保证实时跟随攻略更新，进本前需要检查配置选项。&quot;;&#13;&#10;                break;&#13;&#10;            case PresetEnum.JP:&#13;&#10;                cfgDict[&quot;半场is1A2&quot;] = &quot;0&quot;;&#13;&#10;                cfgDict[&quot;P1修复小队on&quot;] = &quot;1&quot;;&#13;&#10;                cfgDict[&quot;P1雾龙线&quot;] = &quot;HTD&quot;;&#13;&#10;                cfgDict[&quot;P1线Prio&quot;] = &quot;HTD&quot;;&#13;&#10;                cfgDict[&quot;P1四线固定&quot;] = &quot;线&quot;;&#13;&#10;                cfgDict[&quot;P1线is南北&quot;] = &quot;0&quot;;&#13;&#10;                cfgDict[&quot;P1塔&quot;] = &quot;结合HHD&quot;;&#13;&#10;                cfgDict[&quot;P2DD冰is双逆&quot;] = &quot;0&quot;;&#13;&#10;                cfgDict[&quot;P2光暴&quot;] = &quot;翻绳HTD&quot;;&#13;&#10;                cfgDict[&quot;P3一运&quot;] = &quot;国&quot;;&#13;&#10;                cfgDict[&quot;P3二运&quot;] = &quot;单分日&quot;;&#13;&#10;                cfgDict[&quot;P3二运分半场&quot;] = &quot;地火-&quot;;&#13;&#10;                cfgDict[&quot;P4一运&quot;] = &quot;翻绳HTMR&quot;;&#13;&#10;                cfgDict[&quot;P4一运沙漏is主斜换&quot;] = &quot;0&quot;;&#13;&#10;                cfgDict[&quot;P4一运方形is左换&quot;] = &quot;0&quot;;&#13;&#10;                cfgDict[&quot;P4二运pIdx2prio&quot;] = &quot;23184567&quot;;&#13;&#10;                cfgDict[&quot;P4二运击退&quot;] = &quot;击退&quot;;&#13;&#10;                cfgDict[&quot;P4二运吃圈&quot;] = &quot;摇号&quot;;&#13;&#10;                cfgDict[&quot;P5挡枪&quot;] = &quot;TMRH&quot;;&#13;&#10;                cfgDict[&quot;P3一运自动摇号on&quot;] = &quot;1&quot;;&#13;&#10;                cfgDict[&quot;P4二运自动摇号&quot;] = &quot;自身&quot;;&#13;&#10;                presetDesc = &quot;日服预设&quot;;&#13;&#10;                additionalInfo = &quot;配置无法保证实时跟随攻略更新，进本前需要检查配置选项。&quot;;&#13;&#10;                break;&#13;&#10;            case PresetEnum.User1:&#13;&#10;            case PresetEnum.User2:&#13;&#10;                var idx = preset == PresetEnum.User1 ? 1 : 2;&#13;&#10;                if (cfgForm.TryGetPreset(idx, out var vd))&#13;&#10;                {&#13;&#10;                    cfgDict = vd.Values.ToDictionary(p =&gt; p.Key, p =&gt; p.Value.ToString());&#13;&#10;                    var presetName = cfgDict.TryGetValue(&quot;PresetName&quot;, out var pn) ? pn : &quot;未命名&quot;;&#13;&#10;                    presetDesc = $&quot;预设 #{idx} ({presetName})&quot;;&#13;&#10;                }&#13;&#10;                else&#13;&#10;                {&#13;&#10;                    MessageBox.Show($&quot;未保存过自定义预设 {idx}。&quot;, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Warning);&#13;&#10;                    return;&#13;&#10;                }&#13;&#10;                break;&#13;&#10;            default:&#13;&#10;                return;&#13;&#10;        }&#13;&#10;        var result = MessageBox.Show($&quot;是否应用：{presetDesc}？&quot;, Info.Name, MessageBoxButtons.OKCancel, MessageBoxIcon.Information);&#13;&#10;        if (result != DialogResult.OK) return;&#13;&#10;        cfgForm.ApplyPreset(cfgDict);&#13;&#10;        MessageBox.Show($&quot;已应用：{presetDesc}。\n\n{additionalInfo}&quot;, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Information);&#13;&#10;    }&#13;&#10;&#13;&#10;    private static void SavePreset(PresetEnum preset, GameConfigForm cfgForm)&#13;&#10;    {&#13;&#10;        var idx = preset == PresetEnum.User1 ? 1 : 2;&#13;&#10;        var nameForm = new SimpleInputForm($&quot;输入预设 #{idx} 名称：&quot;, ExpressionTextBox.SupportedExpressionTypeEnum.String);&#13;&#10;        string name;&#13;&#10;        do&#13;&#10;        {&#13;&#10;            name = nameForm.GetInput();&#13;&#10;            if (name == null) return;&#13;&#10;            if (string.IsNullOrWhiteSpace(name))&#13;&#10;            {&#13;&#10;                MessageBox.Show(&quot;预设名称不能为空。&quot;, $&quot;输入预设 #{idx} 名称：&quot;, MessageBoxButtons.OK, MessageBoxIcon.Exclamation);&#13;&#10;            }&#13;&#10;        } while (string.IsNullOrWhiteSpace(name));&#13;&#10;        cfgForm.SaveToPreset(idx, name);&#13;&#10;        MessageBox.Show($&quot;已保存自定义预设 #{idx}：{name}。&quot;, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Information);&#13;&#10;    }&#13;&#10;&#13;&#10;    private static string GetStratData(GameConfigForm cfgForm)&#13;&#10;    {&#13;&#10;        var stratNames = new HashSet&lt;string&gt;&#13;&#10;        {&#13;&#10;            &quot;半场is1A2&quot;, &quot;P1雾龙线&quot;, &quot;P1线Prio&quot;, &quot;P1四线固定&quot;, &quot;P1线is南北&quot;, &quot;P1塔&quot;,&#13;&#10;            &quot;P2DD冰is双逆&quot;, &quot;P2光暴&quot;,&#13;&#10;            &quot;P3一运&quot;, &quot;P3二运&quot;, &quot;P3二运分半场&quot;,&#13;&#10;            &quot;P4一运&quot;, &quot;P4一运沙漏is主斜换&quot;, &quot;P4一运方形is左换&quot;,&#13;&#10;            &quot;P4二运pIdx2prio&quot;, &quot;P4二运击退&quot;, &quot;P4二运吃圈&quot;, &quot;P4二运点名1&quot;, &quot;P4二运点名2&quot;, &quot;P4二运点名3&quot;, &quot;P4二运点名4&quot;,&#13;&#10;            &quot;P5挡枪&quot;&#13;&#10;        };&#13;&#10;        cfgForm.SaveToPreset(0, &quot;&quot;); // 以储存临时配置的形式导出&#13;&#10;        var export = GetDictVariable(true, $&quot;{Info.ConfigName}0&quot;).Values&#13;&#10;            .Where(p =&gt; stratNames.Contains(p.Key))&#13;&#10;            .ToDictionary(p =&gt; p.Key, p =&gt; p.Value.ToString());&#13;&#10;        SetDictVariable(true, $&quot;{Info.ConfigName}0&quot;, null); // 删除临时配置&#13;&#10;        return string.Join(&quot;|&quot;, export.Select(pair =&gt; $&quot;{pair.Key}={pair.Value}&quot;));&#13;&#10;    }&#13;&#10;&#13;&#10;    private static void ImportExportStrats(GameConfigForm cfgForm)&#13;&#10;    {&#13;&#10;        var currentData = GetStratData(cfgForm);&#13;&#10;        var stratForm = new SimpleInputForm($&quot;导出：全选复制； 导入：粘贴确认&quot;, ExpressionTextBox.SupportedExpressionTypeEnum.String, currentData);&#13;&#10;        var importData = stratForm.GetInput();&#13;&#10;        if (importData == null) return;&#13;&#10;        var result = MessageBox.Show($&quot;是否导入文本框中的攻略预设？\n\n如果你只是在导出预设，直接关闭窗口即可。&quot;, Info.Name, MessageBoxButtons.OKCancel, MessageBoxIcon.Information);&#13;&#10;        if (result != DialogResult.OK) return;&#13;&#10;        ApplyPreset(cfgForm, importData);&#13;&#10;        MessageBox.Show($&quot;已导入粘贴的攻略预设。&quot;, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Information);&#13;&#10;    }&#13;&#10;&#13;&#10;    private static void ApplyPreset(GameConfigForm cfgForm, string cfgData)&#13;&#10;    {&#13;&#10;        var cfgDict = cfgData.Split('|')&#13;&#10;            .Select(part =&gt; part.Split(new char[] { '=' }, 2))&#13;&#10;            .Where(split =&gt; split.Length == 2)&#13;&#10;            .ToDictionary(split =&gt; split[0], split =&gt; split[1]);&#13;&#10;        cfgForm.ApplyPreset(cfgDict);&#13;&#10;    }&#13;&#10;&#13;&#10;    [STAThread]&#13;&#10;    public static void Start()&#13;&#10;    {&#13;&#10;        try&#13;&#10;        {&#13;&#10;            Application.OpenForms.OfType&lt;GameConfigForm&gt;().ToList().ForEach(f =&gt; f.Close());&#13;&#10;            Thread staThread = new Thread(new ThreadStart(RunConfigForm));&#13;&#10;            staThread.SetApartmentState(ApartmentState.STA);&#13;&#10;            staThread.Start();&#13;&#10;            staThread.Join();&#13;&#10;        }&#13;&#10;        catch (Exception ex)&#13;&#10;        {&#13;&#10;            MessageBox.Show(&quot;用户配置表单运行错误：\n&quot; + ex, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Error);&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;public static class U7aCactbotHelper&#13;&#10;{&#13;&#10;    public static JToken CallOverlayHandler(JObject o) =&gt; (JToken)ModuleEvents.CallOverlayHandler(o);&#13;&#10;&#13;&#10;    public static void DisableTts()&#13;&#10;    {&#13;&#10;        bool changed = false;&#13;&#10;        JObject config = null;&#13;&#10;        try&#13;&#10;        {&#13;&#10;            config = (JObject)CallOverlayHandler(new JObject&#13;&#10;            {&#13;&#10;                [&quot;call&quot;] = &quot;cactbotLoadData&quot;,&#13;&#10;                [&quot;overlay&quot;] = &quot;options&quot;&#13;&#10;            });&#13;&#10;            if (config == null) return;&#13;&#10;        }&#13;&#10;        catch&#13;&#10;        {&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        try&#13;&#10;        {&#13;&#10;            JObject fruTriggerSet = config&#13;&#10;                .GetOrCreate(&quot;data&quot;)&#13;&#10;                .GetOrCreate(&quot;raidboss&quot;)&#13;&#10;                .GetOrCreate(&quot;triggerSets&quot;)&#13;&#10;                .GetOrCreate(&quot;FuturesRewrittenUltimate&quot;);&#13;&#10;            var ttsSetting = fruTriggerSet.Value&lt;string&gt;(&quot;Output&quot;);&#13;&#10;            string newTtsSetting = null;&#13;&#10;            switch (ttsSetting)&#13;&#10;            {&#13;&#10;                case &quot;ttsOnly&quot;:&#13;&#10;                    newTtsSetting = &quot;disabled&quot;;&#13;&#10;                    break;&#13;&#10;                case null:&#13;&#10;                case &quot;default&quot;:&#13;&#10;                case &quot;ttsAndText&quot;:&#13;&#10;                    newTtsSetting = &quot;textOnly&quot;;&#13;&#10;                    break;&#13;&#10;                default:&#13;&#10;                    break;&#13;&#10;            }&#13;&#10;            if (newTtsSetting != null)&#13;&#10;            {&#13;&#10;                fruTriggerSet[&quot;Output&quot;] = newTtsSetting;&#13;&#10;                CallOverlayHandler(new JObject&#13;&#10;                {&#13;&#10;                    [&quot;call&quot;] = &quot;cactbotSaveData&quot;,&#13;&#10;                    [&quot;overlay&quot;] = &quot;options&quot;,&#13;&#10;                    [&quot;data&quot;] = config[&quot;data&quot;]&#13;&#10;                });&#13;&#10;                CallOverlayHandler(new JObject&#13;&#10;                {&#13;&#10;                    [&quot;call&quot;] = &quot;cactbotReloadOverlays&quot;,&#13;&#10;                });&#13;&#10;&#13;&#10;                MessageBox.Show(&#13;&#10;                    &quot;检测到 Cactbot 官库中绝伊甸副本 TTS 未关闭。\n&quot; +&#13;&#10;                    &quot;已自动关闭相应分组的 TTS 播报：\n&quot; +&#13;&#10;                    &quot;  更改前：&quot; + (ttsSetting ?? &quot;(null)&quot;) + &quot;\n&quot; +&#13;&#10;                    &quot;  更改后：&quot; + newTtsSetting,&#13;&#10;                    U7aEntry.Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Warning);&#13;&#10;            }&#13;&#10;        }&#13;&#10;        catch (Exception ex)&#13;&#10;        {&#13;&#10;            MessageBox.Show(&#13;&#10;                &quot;尝试关闭 Cactbot 官库中绝伊甸副本 TTS 时遇到问题。\n&quot; +&#13;&#10;                &quot;你需要手动关闭 Cactbot 的 TTS。错误详情：\n&quot; +&#13;&#10;                ex.ToString(),&#13;&#10;                U7aEntry.Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Warning);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;}&#13;&#10;&#13;&#10;public static JObject GetOrCreate(this JObject parent, string property)&#13;&#10;{&#13;&#10;    if (parent == null)&#13;&#10;        throw new ArgumentNullException(nameof(parent));&#13;&#10;    if (parent[property] is JObject child)&#13;&#10;        return child;&#13;&#10;    child = new JObject();&#13;&#10;    parent[property] = child;&#13;&#10;    return child;&#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${ecallback:${env:prefix}_cfg}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:${env:prefix}_cfg[version]}" ExpressionTypeL="String" ExpressionR="${env:version}" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="NamedCallback" NamedCallbackName="${env:prefix}_cfg"/>
                      <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="PartyList:MyIdx8:${v:myIdx}" LogProcess="True">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${ev:myIdx}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${prefix}" ExpressionTypeL="String" ExpressionR="${env:prefix}" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="55dcbb00-ba65-49b0-8ff4-3540ac743c96" Name="记录用户配置（自动）" RegularExpression="^.{15}\S+ 01:(?&lt;zoneId&gt;[^:]*):" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="${env:prefix}_cfg" LogProcess="True"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="0x${zoneId}" ExpressionTypeL="Numeric" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="b191106c-c992-4a1a-94c4-48790076a1db" Name="开场检查配置" RegularExpression="^.{15}\S+ 104:.:1:.:1|^.{15}\S+ 10C:[^:]*:[^:]*:(?&lt;cd&gt;[^:]*):00?:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="20000">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Variable" Asynchronous="False" VariableName="tmp_error"/>
                      <Action OrderNumber="2" ActionType="ListVariable" Asynchronous="False" ListVariableName="tmp_error"/>
                      <Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="检查是否缺少小队列表、是否缺少绝伊甸配置" DescriptionOverride="True"/>
                      <Action OrderNumber="4" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_noParty" VariableExpression="${_entity[${l:party[1]}].Exist} &amp;&amp; ${_entity[${l:party[2]}].Exist} &amp;&amp; &#13;&#10;${_entity[${l:party[3]}].Exist} &amp;&amp; ${_entity[${l:party[4]}].Exist} &amp;&amp;&#13;&#10;${_entity[${l:party[5]}].Exist} &amp;&amp; ${_entity[${l:party[6]}].Exist} &amp;&amp; &#13;&#10;${_entity[${l:party[7]}].Exist} &amp;&amp; ${_entity[${l:party[8]}].Exist} &amp;&amp;&#13;&#10;${l:party.size} = 8 ? 0 : 1"/>
                      <Action OrderNumber="5" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_noCfg" VariableExpression="0${pd:U7a_cfg.size} &lt;= 40"/>
                      <Action OrderNumber="6" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="未设置${?d: 01 = 用户配置, 10 = 小队, 11 = 小队及用户配置 [${v:tmp_noParty}${v:tmp_noCfg}]}，详见默语频道">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:tmp_noParty}${v:tmp_noCfg}" ExpressionTypeL="String" ExpressionR="00" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" Enabled="False" ActionType="UseTTS" Asynchronous="False" DescBgColor="fdd" UseTTSTextExpression="小队设置正确。">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:tmp_noParty}${v:tmp_noCfg}" ExpressionTypeL="String" ExpressionR="00" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="文本输出" DescriptionOverride="True"/>
                      <Action OrderNumber="9" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="tmp_error" ListVariableExpression="绝伊甸未配置，或配置不完整。">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:tmp_noCfg}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="10" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="tmp_error" ListVariableExpression="小队列表不完整，或记录的队员不存在。">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:tmp_noParty}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="11" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="tmp_error" VariableExpression="【错误】⏎⏎${l:tmp_error.join(&quot;⏎&quot;)}⏎⏎需要使用 &quot;/e cfg&quot; 设置，参考触发器使用介绍。">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${el:tmp_error}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="国际服 =&gt; 繁体" DescriptionOverride="True"/>
                      <Action OrderNumber="13" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="tmp_error" VariableExpression="${f:dictreplace(錄=録,絕=絶):${f:totradcn:${v:tmp_error}}}">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${ev:tmp_error}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${_ffxivisglobal}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="14" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True"/>
                      <Action OrderNumber="15" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/e &lt;se.11&gt; ${v:tmp_error}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${ev:tmp_error}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="16" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="warn" NamedCallbackParam="10&#13;&#10;${v:tmp_error}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${ev:tmp_error}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="17" ActionType="ListVariable" Asynchronous="False" ListVariableName="tmp_error"/>
                      <Action OrderNumber="18" ActionType="Variable" Asynchronous="False" VariableOp="UnsetRegex" VariableName="^tmp_"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="${env:zone}" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="cc7591e3-ceed-4f10-ad3e-d70974b7e470" Name="记录用户配置（副本外手动 /e cfg 伊甸）" RegularExpression="^.{15}\S+ 00:0038:: *(?i)cfg +(fru|eden|伊甸|yidian|U7a) *$" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="${env:prefix}_cfg" LogProcess="True"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers>
              <Trigger Enabled="false" Id="0c6a756a-6381-48a4-9080-89f4a99b6762" Name="导入提示 0.9.1.2" RegularExpression="^." PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="30000">
                <Actions>
                  <Action OrderNumber="1" ActionType="MessageBox" MessageBoxIconType="Information" MessageBoxText="已更新绝伊甸宝宝椅 v${env:version}&#13;&#10;&#13;&#10;v${env:version}:&#13;&#10;&#13;&#10;· 添加机制模拟器（单人使用）&#13;&#10;  · 之前 P3 一运和 P5 不工作的问题修复了&#13;&#10;  详见触发器使用说明。&#13;&#10;  你可以通过指令模拟自己的各种点名，并熟悉 TTS 和标点的播报方式。&#13;&#10;  相关机制有任何问题都可以对着录像的点名，输入对应的指令模拟当时的情况。&#13;&#10;  &#13;&#10;· 添加 P2 光暴放圈的优化标点&#13;&#10;  跟着标点跑即可，比攻略路线更优&#13;&#10;&#13;&#10;· 自动关闭 Cactbot 官库 TTS&#13;&#10;· 重新调整配置界面的选项分组顺序&#13;&#10;· 开启某个机制的指挥标点时，其文本播报频道覆盖为小队 /p&#13;&#10;&#13;&#10;v0.8.0 - 0.8.8:&#13;&#10;· 添加 P3 二运选项的详细说明&#13;&#10;· 优化 P3 二运地火至击退的标点&#13;&#10;· 支持其他划分半场方式（P1 雾龙 / P3 二运）&#13;&#10;· 支持 P1 雷火线新版横排闲人固定&#13;&#10;· 开场根据八方自动检查小队列表，支持 ST-H2 换位&#13;&#10;· 添加了导入导出当前攻略配置的功能，详见配置界面&#13;&#10;· 修复问题&#13;&#10;&#13;&#10;如果遇到任何问题请加测试群：839232516"/>
                  <Action OrderNumber="2" ActionType="Trigger" TriggerOp="DisableTrigger" TriggerId="0c6a756a-6381-48a4-9080-89f4a99b6762"/>
                </Actions>
              </Trigger>
            </Triggers>
          </Folder>
          <Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1238$" Id="b57c5169-298a-44e2-9e6a-1b9742c998d4" Name="区域限制" Enabled="true">
            <Folders>
              <Folder Id="191878c0-1c5b-47fc-b506-cf95a32e36cc" Name="P1" Enabled="true">
                <Folders>
                  <Folder Id="21dff97c-f8da-48cc-bd6d-b15990e513b6" Name="A. 雾龙" Enabled="true" RawEnvironmentVariables="phase = P1雾龙">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="35dc3c26-a454-4901-9c19-8c9ba1644bf9" Name="1. 储存雷火 =&gt; O1" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9CD(?&lt;type&gt;A|B):" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a1_雾龙"/>
                          <Action OrderNumber="3" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a1_雾龙_is散" VariableExpression="${type} == B"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="U7a1_雾龙_记录:is散:${v:U7a1_雾龙_is散}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="9976343e-612c-43b9-b079-db6e6183402e" Name="2. 获取三个分身 =&gt; O2" RegularExpression="^.{15}\S+ AAA:202:4:4.{7}:[^:]*:9708:17820:[^:]*:[^:]*:[^:]*:(?&lt;h&gt;[^:]+)$">
                        <Actions>
                          <Action OrderNumber="1" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="U7a1_雾龙_dir8" ListVariableExpression="roundir(${h}, 8) % 4"/>
                          <Action OrderNumber="2" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a1_雾龙_dir8:safe:${n: 6 - ${l:U7a1_雾龙_dir8.sum}}:originalData:${l:U7a1_雾龙_dir8.join(:)}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a1_雾龙_dir8.size}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="false" Id="33daffbb-4cfa-4403-a92a-f39d2c910aea" Name="Debug Log 2024-11-27 02:46" Source="None">
                        <Actions>
                          <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="[01:20:11.273] StartsCasting 14:400058DA:Fatebreaker:9CDB:Utopian Sky:400058DA:Fatebreaker:3.700:99.99:99.99:0.00:-3.03" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="3.05 * 1000"/>
                          <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="[01:20:20.418] _WeaponId AAA:202:4:400058CB:Fatebreaker's Image:9708:17820:85.85786:85.85786:-0.00000000000000000001294991:0.7853622" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[01:20:20.418] _WeaponId AAA:202:4:400058CD:Fatebreaker's Image:9708:17820:80:100:0:1.570772" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="LogMessage" LogMessageText="[01:20:20.418] _WeaponId AAA:202:4:400058D7:Fatebreaker's Image:9708:17820:114.1421:85.85786:0:-0.7854581" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="7714eac1-9db5-4f6a-8da2-2e0412637395" Name="B. 光轮" Enabled="true" RawEnvironmentVariables="phase = P1光轮">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="4bc02edc-0b09-42f1-869e-4004ff401215" Name="1. 储存雷火 光轮召唤" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]+:9CD(?&lt;type&gt;6|7):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" Asynchronous="False" VariableOp="UnsetRegexUniversal" VariableName="^U7a1_光轮"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="3" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a1_光轮_is火safe" VariableExpression="${type} == 7"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="3220b5cb-32a1-439f-97b9-7e015c6e3b3a" Name="2. 光轮位置" RegularExpression="^.{15}\S+ 03:4.{7}:([^:]*:){7}17821:([^:]*:){6}(?&lt;x&gt;(8|11)[45][^:]*):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="17821火 17822雷 正北逆四个固定同色，所以只需要看正左右哪个是火" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a1_光轮_is右safe" VariableExpression="(${x} &gt; 100) = ${v:U7a1_光轮_is火safe}"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="4fb5b163-6223-4903-8ae3-c8f70d23e42a" Name="4. 处理换位 =&gt; O1" RegularExpression="^_U7a1_光轮_连线" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Description="目前列表如 3_4000000C, 7_4000000D，分身 id 小的在左" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" Description="应用不同排序规则" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="TableVariable" TableVariableOp="SortLine" TableVariableName="U7a1_光轮_连线idx_sid" TableVariableY="n+: ${_row[1]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1雾龙线]}" ExpressionTypeL="String" ExpressionR="THD" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="4" ActionType="TableVariable" TableVariableOp="SortLine" TableVariableName="U7a1_光轮_连线idx_sid" TableVariableY="n+: ${?l: 3,4,1,2,5,6,7,8 [${_row[1]}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1雾龙线]}" ExpressionTypeL="String" ExpressionR="HTD" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="5" ActionType="TableVariable" TableVariableOp="SortLine" TableVariableName="U7a1_光轮_连线idx_sid" TableVariableY="n+: ${?l: 2,3,1,8,4,5,6,7 [${_row[1]}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1雾龙线]}" ExpressionTypeL="String" ExpressionR="HTDH" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="6" ActionType="TableVariable" TableVariableOp="SortLine" TableVariableName="U7a1_光轮_连线idx_sid" TableVariableY="n+: 0x${_row[2]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1雾龙线]}" ExpressionTypeL="String" ExpressionR="左右" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="7" ActionType="TableVariable" TableVariableOp="SortLine" TableVariableName="U7a1_光轮_连线idx_sid" TableVariableY="n-: 0x${_row[2]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1雾龙线]}" ExpressionTypeL="String" ExpressionR="右左" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="8" ActionType="TableVariable" TableVariableOp="SortLine" TableVariableName="U7a1_光轮_连线idx_sid" TableVariableY="n+: 0x${_row[2]} * (${v:U7a1_光轮_is右safe} ? 1 : -1)">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1雾龙线]}" ExpressionTypeL="String" ExpressionR="长短" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="9" ActionType="TableVariable" TableVariableOp="SortLine" TableVariableName="U7a1_光轮_连线idx_sid" TableVariableY="n-: 0x${_row[2]} * (${v:U7a1_光轮_is右safe} ? 1 : -1)">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1雾龙线]}" ExpressionTypeL="String" ExpressionR="短长" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="10" ActionType="Placeholder" Description="此时表格两行首位为北侧和南侧两个连线者 idx" DescriptionOverride="True"/>
                          <Action OrderNumber="11" ActionType="Placeholder" Description="确定换位者" DescriptionOverride="True"/>
                          <Action OrderNumber="12" ActionType="Variable" VariableOp="SetString" VariableName="U7a1_光轮_swapIdx" VariableExpression="0"/>
                          <Action OrderNumber="13" ActionType="Variable" VariableOp="SetString" VariableName="U7a1_光轮_swapIdx" VariableExpression="1">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${t:U7a1_光轮_连线idx_sid[1][1]}" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                              <ConditionSingle Enabled="true" ExpressionL="${t:U7a1_光轮_连线idx_sid[1][2]}" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="14" ActionType="Variable" VariableOp="SetString" VariableName="U7a1_光轮_swapIdx" VariableExpression="5">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${t:U7a1_光轮_连线idx_sid[1][1]}" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                              <ConditionSingle Enabled="true" ExpressionL="${t:U7a1_光轮_连线idx_sid[1][2]}" ExpressionTypeL="Numeric" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="15" ActionType="Placeholder" Description="=&gt; O1" DescriptionOverride="True"/>
                          <Action OrderNumber="16" ActionType="LogMessage" LogMessageText="U7a1_光轮_连线:北:${t:U7a1_光轮_连线idx_sid[1][1]}:南:${t:U7a1_光轮_连线idx_sid[1][2]}:换:${v:U7a1_光轮_swapIdx}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="0de17254-f8aa-461c-9427-daad756e2b5f" Name="3. 火分摊连线 * 2 =&gt; 4" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;4.{7}):[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:00F9:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="cond phase" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="TableVariable" Asynchronous="False" TableVariableOp="InsertLine" TableVariableName="U7a1_光轮_连线idx_sid" TableVariableExpression=",${l:party.indexof(${tid})},${sid}" TableVariableY="1"/>
                          <Action OrderNumber="3" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a1_光轮_连线" LogProcess="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${t:U7a1_光轮_连线idx_sid.height}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${env:phase}" ExpressionTypeL="String" ExpressionR="${v:U7a_phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="false" Id="2bc91e34-c972-4d08-afcb-b092d467060e" Name="Debug Log 2025-02-28 06:23" Source="None">
                        <Actions>
                          <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="[22:38:23.978] StartsCasting 14:40002A22:Fatebreaker's Image:9CD6:Turn of the Heavens:40002A22:Fatebreaker's Image:6.700:100.00:92.50:0.00:0.00" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="6800"/>
                          <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="[22:38:24.767] AddCombatant 03:40002A55:Halo of Flame:00:64:0000:00::9710:17821:188300:188300:10000:10000:::85.00:100.00:0.00:1.57" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="1.21 * 1000"/>
                          <Action OrderNumber="5" Enabled="False" ActionType="LogMessage" LogMessageText="[22:38:25.978] Tether 23:40002A20:Fatebreaker's Image:${_me.id}:自身:0000:0000:00F9:${_me.id}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="6" ActionType="LogMessage" LogMessageText="[22:38:25.978] Tether 23:40002A20:Fatebreaker's Image:${l:party[7]}:队员7:0000:0000:00F9:${l:party[7]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="7" Enabled="False" ActionType="LogMessage" LogMessageText="[22:38:25.978] Tether 23:40002A21:Fatebreaker's Image:${l:party[2]}:队员2:0000:0000:00F9:${l:party[2]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="8" ActionType="LogMessage" LogMessageText="[22:38:25.978] Tether 23:40002A21:Fatebreaker's Image:${l:party[5]}:队员5:0000:0000:00F9:${l:party[5]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="7101e6c2-dbc1-4935-ba53-558bbd49d8c9" Name="C. 四线" Enabled="true" RawEnvironmentVariables="phase = P1四线">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="5ee329af-dd67-4770-8488-e38473ed706b" Name="0. 落地" RegularExpression="^.{15}\S+ AAA:10F:4.{7}:[^:]*:9707:17819:100">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a1_四线"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="b767c1e4-29c1-46f5-9c7f-ce9fc5a21a9f" Name="2. 处理数据 =&gt; O3 / O4" RegularExpression="^_U7a1_四线_处理" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Description="无点名四人的小队顺序：" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=",1,2,3,4,5,6,7,8" ListVariableTarget="U7a1_四线_无点名idx"/>
                          <Action OrderNumber="3" ActionType="ListVariable" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="U7a1_四线_无点名idx" ListVariableExpression="!${l:U7a1_四线_点名idx.contain(${_this})}" ListVariableTarget="U7a1_四线_无点名idx"/>
                          <Action OrderNumber="4" ActionType="Placeholder" Description="读取配置的优先级" DescriptionOverride="True"/>
                          <Action OrderNumber="5" ActionType="Variable" VariableOp="SetString" VariableName="tmp_prio" VariableExpression="${?d:&#13;&#10;  THD  = 12345678,&#13;&#10;  HTD  = 34125678,&#13;&#10;  HTDH = 31256784,&#13;&#10;  TMHR = 73512648,&#13;&#10;  TMRH = 37512684,&#13;&#10;  MTHR = 73156248,&#13;&#10;  MTRH = 37156284&#13;&#10;  [${pd:U7a_cfg[P1线Prio]}]&#13;&#10;}"/>
                          <Action OrderNumber="6" ActionType="Placeholder" Description="根据优先级排序" DescriptionOverride="True"/>
                          <Action OrderNumber="7" ActionType="ListVariable" ListVariableOp="SortByKeys" ListVariableName="U7a1_四线_无点名idx" ListVariableExpression="n+: ${f:indexof(${_this}):${v:tmp_prio}}"/>
                          <Action OrderNumber="8" ActionType="Variable" VariableName="tmp_prio"/>
                          <Action OrderNumber="9" ActionType="Variable" VariableOp="SetString" VariableName="U7a1_四线_my无idx" VariableExpression="${l:U7a1_四线_无点名idx.indexof(${v:myIdx})}"/>
                          <Action OrderNumber="10" ActionType="Placeholder" Description="=&gt; O2 自身无点名信息" DescriptionOverride="True"/>
                          <Action OrderNumber="11" ActionType="LogMessage" LogMessageText="U7a1_四线_无:my无:${v:U7a1_四线_my无idx}:is雷1:${l:U7a1_四线_is雷[${n: ${v:U7a1_四线_my无idx} &lt;= 2 ? 1 : 2 }]}:is雷2:${l:U7a1_四线_is雷[${n: ${v:U7a1_四线_my无idx} &lt;= 2 ? 3 : 4 }]}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a1_四线_my无idx}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="12" ActionType="Placeholder" Description="=&gt; O3" DescriptionOverride="True"/>
                          <Action OrderNumber="13" ActionType="LogMessage" LogMessageText="U7a1_四线:is雷:${l:U7a1_四线_is雷.join(&quot;&quot;)}:点名:${l:U7a1_四线_点名idx.join(&quot;&quot;)}:无点名:${l:U7a1_四线_无点名idx.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="b2570dbf-05d6-4246-986c-7ca8bbe93f96" Name="1. 获取连线 =&gt; O1 / O2 / * 4 =&gt; 2" RegularExpression="^.{15}\S+ 23:4.{7}:[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:0000:0000:(?&lt;type&gt;011F|00F9):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a1_四线_点名idx" ListVariableExpression="${l:party.indexof(${tid})}"/>
                          <Action OrderNumber="2" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="U7a1_四线_is雷" ListVariableExpression="${type} == 011F"/>
                          <Action OrderNumber="3" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${if: ${pd:U7a_cfg[P1四线标点mode]} &gt;= 1 ? p : ${pd:U7a_cfg[publicChannel]} } ${f:toxivchar:${l:U7a1_四线_is雷.size}} ${if: ${l:U7a1_四线_is雷[-1]} ? 雷 : 火} 》 ${l:roleDesc[${l:party.indexof(${tid})}]}"/>
                          <Action OrderNumber="4" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a1_四线_线:${l:U7a1_四线_is雷.size}:${l:U7a1_四线_点名idx[-1]}:is雷:${l:U7a1_四线_is雷[-1]}" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="是自身：" DescriptionOverride="True"/>
                          <Action OrderNumber="6" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a1_四线_my线idx" VariableExpression="${l:U7a1_四线_is雷.size}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="7" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a1_四线_myIs雷" VariableExpression="${l:U7a1_四线_is雷[-1]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="8" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a1_四线_线:my线:${v:U7a1_四线_my线idx}:is雷:${v:U7a1_四线_myIs雷}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="是4：" DescriptionOverride="True"/>
                          <Action OrderNumber="10" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a1_四线_处理" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a1_四线_is雷.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="6b9d1e5b-b1e2-4657-a72d-c5314011841a" Name="Debug Log /e u7a p1 [idx][is雷] .. .. .." RegularExpression="^.{15}\S+ 00:0038::(?i)u7a p1 (?&lt;idx1&gt;\d)(?&lt;is雷1&gt;[01]) (?&lt;idx2&gt;\d)(?&lt;is雷2&gt;[01]) (?&lt;idx3&gt;\d)(?&lt;is雷3&gt;[01]) (?&lt;idx4&gt;\d)(?&lt;is雷4&gt;[01])$">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#13;&#10;Simulating: ${env:phase} &lt;se.10&gt;"/>
                          <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="[22:38:20.978] A AAA:10F:40000000:aaa:9707:17819:100" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="5.00 * 1000"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[22:38:54.048] Tether 23:40002A36:Fatebreaker:${l:party[${idx1}]}:队员:0000:0000:${if: ${is雷1} ? 011F : 00F9 }:${l:party[${idx1}]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="3.17 * 1000"/>
                          <Action OrderNumber="6" ActionType="LogMessage" LogMessageText="[22:38:54.048] Tether 23:40002A36:Fatebreaker:${l:party[${idx2}]}:队员:0000:0000:${if: ${is雷2} ? 011F : 00F9 }:${l:party[${idx2}]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="2.51 * 1000"/>
                          <Action OrderNumber="8" ActionType="LogMessage" LogMessageText="[22:38:54.048] Tether 23:40002A36:Fatebreaker:${l:party[${idx3}]}:队员:0000:0000:${if: ${is雷3} ? 011F : 00F9 }:${l:party[${idx3}]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="2.50 * 1000"/>
                          <Action OrderNumber="10" ActionType="LogMessage" LogMessageText="[22:38:54.048] Tether 23:40002A36:Fatebreaker:${l:party[${idx4}]}:队员:0000:0000:${if: ${is雷4} ? 011F : 00F9 }:${l:party[${idx4}]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="feec33b9-93a3-4bc0-bb2d-5892777611ed" Name="D. 六人塔" Enabled="true" RawEnvironmentVariables="phase = P1塔">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="ae6f7562-1797-4af3-9674-c5afbdab5a72" Name="1. 获取塔 * 3 =&gt; 2" RegularExpression="^.{15}\S+ 107:4.{7}:(?&lt;aid&gt;9CC[37]|9CB[ABCDEF]):(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Set" ListVariableName="U7a1_塔_人数" ListVariableExpression="${?d: 9CC3 = 1, 9CC7 = 1, 9CBA = 2, 9CBB = 3, 9CBC = 4, 9CBD = 2, 9CBE = 3, 9CBF = 4 [${aid}]}" ListVariableIndex="round(${y} / 10) - 8"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a1_塔_is火" VariableExpression="${aid} == 9CC3 || ${aid} == 9CBA || ${aid} == 9CBB || ${aid} == 9CBC"/>
                          <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a1_塔_is右" VariableExpression="${x} &gt; 100"/>
                          <Action OrderNumber="4" ActionType="Variable" Asynchronous="False" VariableOp="Increment" VariableName="U7a1_塔_n"/>
                          <Action OrderNumber="5" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a1_塔:${l:U7a1_塔_人数.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a1_塔_n}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="3e3cc718-a37f-4cf7-a305-6db41fe71cf5" Name="2. 处理数据 =&gt; O1" RegularExpression="^_U7a1_塔:(?&lt;cnt&gt;[1234]{3})" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Description="T = 0，从上到下 = 1 2 3" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" Description="- H1 D4 H2 固定，D1 D3 D2 补位" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="Variable" VariableOp="SetString" VariableName="U7a1_塔_自己补塔" VariableExpression="${f:slice(${v:myIdx}):00013${?d: 114 = 333, 141 = 222, 411 = 111, 123 = 332, 132 = 232, 213 = 133, 231 = 122, 312 = 131, 321 = 112, 222 = 132 [${cnt}]}2}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1塔]}" ExpressionTypeL="String" ExpressionR="固定HDH" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="4" ActionType="Placeholder" Description="- H1 H2 D4 固定，D1 D2 D3 补位" DescriptionOverride="True"/>
                          <Action OrderNumber="5" ActionType="Variable" VariableOp="SetString" VariableName="U7a1_塔_自己补塔" VariableExpression="${f:slice(${v:myIdx}):00012${?d: 114 = 333, 141 = 222, 411 = 111, 123 = 323, 132 = 223, 213 = 133, 231 = 122, 312 = 113, 321 = 121, 222 = 123 [${cnt}]}3}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1塔]}" ExpressionTypeL="String" ExpressionR="固定HHD" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="6" ActionType="Placeholder" Description="- H1 D4 H2 固定，D1 D2 D3 优先级" DescriptionOverride="True"/>
                          <Action OrderNumber="7" ActionType="Variable" VariableOp="SetString" VariableName="U7a1_塔_自己补塔" VariableExpression="${f:slice(${v:myIdx}):00013${?d: 114 = 333, 141 = 222, 411 = 111, 123 = 233, 132 = 223, 213 = 133, 231 = 122, 312 = 113, 321 = 112, 222 = 123 [${cnt}]}2}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1塔]}" ExpressionTypeL="String" ExpressionR="结合HDH" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="8" ActionType="Placeholder" Description="- H1 H2 D4 固定，D1 D2 D3 优先级" DescriptionOverride="True"/>
                          <Action OrderNumber="9" ActionType="Variable" VariableOp="SetString" VariableName="U7a1_塔_自己补塔" VariableExpression="${f:slice(${v:myIdx}):00012${?d: 114 = 333, 141 = 222, 411 = 111, 123 = 233, 132 = 223, 213 = 133, 231 = 122, 312 = 113, 321 = 112, 222 = 123 [${cnt}]}3}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1塔]}" ExpressionTypeL="String" ExpressionR="结合HHD" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="10" ActionType="Placeholder" Description="- 六人优先级" DescriptionOverride="True"/>
                          <Action OrderNumber="11" ActionType="Variable" VariableOp="SetString" VariableName="U7a1_塔_自己补塔" VariableExpression="${f:slice(${v:myIdx}):0001${?d: 114 = 2333, 141 = 2222, 411 = 1112, 123 = 2233, 132 = 2223, 213 = 1233, 231 = 1222, 312 = 1123, 321 = 1122, 222 = 1223 [${cnt}]}3}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1塔]}" ExpressionTypeL="String" ExpressionR="优先" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="12" ActionType="LogMessage" LogMessageText="U7a1_塔:myTower:${v:U7a1_塔_自己补塔}:is右:${v:U7a1_塔_is右}:is火:${v:U7a1_塔_is火}" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="13" ActionType="NamedCallback" DescBgColor="fdd" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} ${_event}"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="d9da909e-16dd-4622-aaec-63899327ce13" Name="Debug Log /e u7a p1 312" RegularExpression="^.{15}\S+ 00:0038::(?i)u7a p1 ([123])([123])([123])$">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#13;&#10;Simulating: ${env:phase} &lt;se.10&gt;"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="UnsetRegexUniversal" VariableName="^U7a1_塔"/>
                          <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="[22:39:36.526] 263 107:40002A4D:${?d: 1=9CC7, 2=9CBD, 3=9CBE, 4=9CBF [$1]}:113.102:90.823:0.000:0.000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[22:39:36.526] 263 107:40002A4C:${?d: 1=9CC7, 2=9CBD, 3=9CBE, 4=9CBF [$2]}:116.001:100.009:0.000:0.000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="LogMessage" LogMessageText="[22:39:36.526] 263 107:40002A4B:${?d: 1=9CC7, 2=9CBD, 3=9CBE, 4=9CBF [$3]}:113.102:109.165:0.000:0.000" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="a4c8916e-3d5d-432d-985c-0c3d913a3101" Name="0. 校验小队" Enabled="true">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="9b67d5c7-5667-43ad-9935-454f9f278f74" Name="2. 错误日志" RegularExpression="^U7a_小队检查:(?&lt;status&gt;[^:]*):(?&lt;msg&gt;.+)" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="tmp_msg" VariableExpression="小队检查 &lt;se.11&gt;&#13;&#10;${f:replace(&quot;\n&quot;, &quot;⏎&quot;):${msg}}"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="SetString" VariableName="tmp_msg" VariableExpression="${f:totradcn:${v:tmp_msg}}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${_ffxivisglobal}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="3" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[privateChannel]} &#13;&#10;${v:tmp_msg}"/>
                          <Action OrderNumber="4" ActionType="Variable" VariableName="tmp_msg"/>
                          <Action OrderNumber="5" ActionType="Variable" VariableName="tmp_fail"/>
                          <Action OrderNumber="6" ActionType="ListVariable" ListVariableName="tmp_party"/>
                          <Action OrderNumber="7" ActionType="TableVariable" TableVariableName="tmp_party"/>
                          <Action OrderNumber="8" ActionType="Variable" VariableName="tmp_swap"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="853833d2-a094-4052-ab2f-30855d18519b" Name="1. 接收（boss 读条判定时触发）" RegularExpression="^.{15}\S+ 15:4.{7}:[^:]*:9CD[04]:[^:]*:.{8}:([^:]*:){23}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="获取全部队员（Exist 列用来给 Dir8 占位）" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="TableVariable" Asynchronous="False" TableVariableOp="GetAllEntities" TableVariableName="tmp_party" TableVariableX="ID, X, Y, Exist, Name, ${if: ${_ffxivisglobal} ? JobTCN1 : JobCN1 }" TableVariableY="Type = 1"/>
                          <Action OrderNumber="3" Enabled="False" ActionType="TableVariable" Asynchronous="False" DescBgColor="fdd" TableVariableOp="Build" TableVariableTarget="tmp_party" TableVariableExpression=",&#13;&#10;ID,X,Y,Exist,Name,JobCN1&#13;&#10;10555555,93,107,1,D1,僧&#13;&#10;10666666,107,107,1,D2,忍&#13;&#10;10777777,93,93,1,D3,舞&#13;&#10;10888888,107,93,1,D4,绘&#13;&#10;10111111,100,90,1,MT,骑&#13;&#10;10222222,110,100,1,ST,黑&#13;&#10;10333333,90,100,1,H1,占&#13;&#10;10444444,100,110,1,H2,学"/>
                          <Action OrderNumber="4" Enabled="False" ActionType="TableVariable" Asynchronous="False" DescBgColor="fdd" TableVariableOp="Build" TableVariableTarget="tmp_party" TableVariableExpression=",&#13;&#10;ID,X,Y,Exist,Name,JobCN1&#13;&#10;10555555,93,107,1,D1,僧&#13;&#10;10666666,107,107,1,D2,忍&#13;&#10;10777777,93,93,1,D3,舞&#13;&#10;10888888,107,93,1,D4,绘&#13;&#10;10111111,100,90,1,MT,骑&#13;&#10;10222222,100,110,1,ST,黑&#13;&#10;10333333,90,100,1,H1,占&#13;&#10;10444444,110,100,1,H2,学"/>
                          <Action OrderNumber="5" ActionType="TableVariable" Asynchronous="False" TableVariableOp="RemoveLine" TableVariableName="tmp_party" TableVariableY="1"/>
                          <Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="检测人数 = 8：" DescriptionOverride="True"/>
                          <Action OrderNumber="7" ActionType="LogMessage" Asynchronous="False" DescTextColor="085" LogMessageText="U7a_小队检查:0:当前检测到 ${t:tmp_party.height} 名玩家，无法自动纠正小队。" LogProcess="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${t:tmp_party.height}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="8" ActionType="Trigger" Asynchronous="False" TriggerOp="CancelTrigger" TriggerId="853833d2-a094-4052-ab2f-30855d18519b">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${t:tmp_party.height}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="尝试以场地中心为基准，计算 dir8：" DescriptionOverride="True"/>
                          <Action OrderNumber="10" ActionType="TableVariable" Asynchronous="False" TableVariableOp="SlicesSetAll" TableVariableExpressionType="Numeric" TableVariableName="tmp_party" TableVariableExpression="roundvec(${_row[2]} - 100, ${_row[3]} - 100, 8)" TableVariableX="4" TableVariableY=":"/>
                          <Action OrderNumber="11" ActionType="TableVariable" Asynchronous="False" TableVariableOp="SortLine" TableVariableName="tmp_party" TableVariableY="n: ${_row[4]}"/>
                          <Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="如果得到的不是 0-7，则以 boss 为基准再次计算：" DescriptionOverride="True"/>
                          <Action OrderNumber="13" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_fail" VariableExpression="1${t:tmp_party.hjoin(&quot;&quot;, &quot;&quot;, 4)} != 101234567"/>
                          <Action OrderNumber="14" ActionType="TableVariable" Asynchronous="False" TableVariableOp="SlicesSetAll" TableVariableExpressionType="Numeric" TableVariableName="tmp_party" TableVariableExpression="roundvec(${_row[2]} - (${x}), ${_row[3]} - (${y}), 8)" TableVariableX="4" TableVariableY=":">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="15" ActionType="TableVariable" Asynchronous="False" TableVariableOp="SortLine" TableVariableName="tmp_party" TableVariableY="n: ${_row[4]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="16" ActionType="Placeholder" Asynchronous="False" Description="依然不是 0-7：报错" DescriptionOverride="True"/>
                          <Action OrderNumber="17" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_fail" VariableExpression="1${t:tmp_party.hjoin(&quot;&quot;, &quot;&quot;, 4)} != 101234567">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="18" ActionType="LogMessage" Asynchronous="False" DescTextColor="085" LogMessageText="U7a_小队检查:0:有人八方站位不准确，无法判断小队顺序是否正确。" LogProcess="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="19" ActionType="Trigger" Asynchronous="False" TriggerOp="CancelTrigger" TriggerId="853833d2-a094-4052-ab2f-30855d18519b">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="20" ActionType="Placeholder" Asynchronous="False" Description="检查和现在的小队是否一致，不一致则报错并输出当前小队：" DescriptionOverride="True"/>
                          <Action OrderNumber="21" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_fail" VariableExpression="!(${t:tmp_party.hjoin(&quot;&quot;, &quot;&quot;, 1, &quot;1,7,3,5,4,6,2,8&quot;)} == ${l:party.join(&quot;&quot;)}) &amp;&amp; !(${t:tmp_party.hjoin(&quot;&quot;, &quot;&quot;, 1, &quot;1,5,3,7,4,6,2,8&quot;)} == ${l:party.join(&quot;&quot;)})"/>
                          <Action OrderNumber="22" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${t:tmp_party.hjoin(:, :, 1, &quot;1,7,3,5,4,6,2,8&quot;)}" ListVariableTarget="party">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="23" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${t:tmp_party.hjoin(:, :, 5, &quot;1,7,3,5,4,6,2,8&quot;)}" ListVariableTarget="pname">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="24" ActionType="Placeholder" Asynchronous="False" Description="确认 ST 和 H2（不同打法下分散位置不同）" DescriptionOverride="True"/>
                          <Action OrderNumber="25" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_swap" VariableExpression="${_entity[${l:party[2]}].isH} &amp;&amp; ${_entity[${l:party[4]}].isT}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="26" Enabled="False" ActionType="Variable" Asynchronous="False" DescBgColor="fdd" VariableOp="SetNumeric" VariableName="tmp_swap" VariableExpression="1">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="27" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:party.join(:, &quot;1,4,3,2,5,6,7,8&quot;)}" ListVariableTarget="party">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_swap}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="28" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:pname.join(:, &quot;1,4,3,2,5,6,7,8&quot;)}" ListVariableTarget="pname">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_swap}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="29" ActionType="Placeholder" Asynchronous="False" Description="输出" DescriptionOverride="True"/>
                          <Action OrderNumber="30" ActionType="LogMessage" Asynchronous="False" LogMessageText="PartyList:MyIdx8:${l:party.indexof(${_me.id})}" LogProcess="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="31" ActionType="LogMessage" Asynchronous="False" DescTextColor="085" LogMessageText="U7a_小队检查:0:小队列表设置错误，已根据八方站位修正为：\n${t:tmp_party.hjoin(&quot; &quot;, &quot; &quot;, 6, &quot;1,7,3,5,4,6,2,8&quot;)}" LogProcess="True">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_swap}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="32" ActionType="LogMessage" Asynchronous="False" DescTextColor="085" LogMessageText="U7a_小队检查:0:小队列表设置错误，已根据八方站位修正为：\n${t:tmp_party.hjoin(&quot; &quot;, &quot; &quot;, 6, &quot;1,5,3,7,4,6,2,8&quot;)}" LogProcess="True">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_fail}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_swap}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="33" ActionType="Variable" Asynchronous="False" VariableName="tmp_fail"/>
                          <Action OrderNumber="34" ActionType="Variable" Asynchronous="False" VariableName="tmp_swap"/>
                          <Action OrderNumber="35" ActionType="ListVariable" Asynchronous="False" ListVariableName="tmp_party"/>
                          <Action OrderNumber="36" ActionType="TableVariable" Asynchronous="False" TableVariableName="tmp_party"/>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1修复小队on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers/>
              </Folder>
              <Folder Id="66abe40b-3a98-4995-a0e0-d0de59671f4f" Name="P2" Enabled="true">
                <Folders>
                  <Folder Id="d29bf31b-dae8-44f7-a054-3801250d46f4" Name="A. 钻石星尘" Enabled="true" RawEnvironmentVariables="phase = P2DD">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="3276726f-14d5-47fa-9113-4af38ddaae09" Name="1.1 获取初始冰圈 =&gt; O1" RegularExpression="^.{15}\S+ 107:4.{7}:9D06:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a2_DD_dir8" VariableExpression="roundvec(${x} - 100, ${y} - 100, 8) % 4"/>
                          <Action OrderNumber="2" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a2_DD:dir8:${v:U7a2_DD_dir8}:is钢:${v:U7a2_DD_is钢}:id:${l:U7a2_DD_点名id.join(:)}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_DD_dir8}${ev:U7a2_DD_is钢}${l:U7a2_DD_点名id.size}" ExpressionTypeL="String" ExpressionR="114" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_DD_dir8}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="85e45eb8-63b5-4f07-ba97-00c5683aa15c" Name="1.2 获取钢铁月环 =&gt; O1" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D0(?&lt;type&gt;[AB]):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
                            <Condition Enabled="true" Grouping="Or"/>
                          </Action>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a2_DD_is钢" VariableExpression="${type} == A"/>
                          <Action OrderNumber="3" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a2_DD:dir8:${v:U7a2_DD_dir8}:is钢:${v:U7a2_DD_is钢}:id:${l:U7a2_DD_点名id.join(:)}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_DD_dir8}${ev:U7a2_DD_is钢}${l:U7a2_DD_点名id.size}" ExpressionTypeL="String" ExpressionR="114" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="9e940501-2135-4969-87ff-d398e9b9e868" Name="1.3 获取点名 * 4 =&gt; O1" RegularExpression="^.{15}\S+ 1B:(?&lt;id&gt;1.{7}):[^:]*:[^:]*:[^:]*:0159">
                        <Actions>
                          <Action OrderNumber="1" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a2_DD_点名id" ListVariableExpression="${id}"/>
                          <Action OrderNumber="2" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a2_DD:dir8:${v:U7a2_DD_dir8}:is钢:${v:U7a2_DD_is钢}:id:${l:U7a2_DD_点名id.join(:)}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_DD_dir8}${ev:U7a2_DD_is钢}${l:U7a2_DD_点名id.size}" ExpressionTypeL="String" ExpressionR="114" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="false" Id="e5eb5bd0-9ad0-4150-9d81-237ea78fe228" Name="Debug Log 前半" Source="None">
                        <Actions>
                          <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="[04:18:58.116] StartsCasting 14:4002C3C9:Usurper of Frost:9CF4:Mirror Image:4002C3C9:Usurper of Frost:2.700:99.99:105.00:0.00:-0.52" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2000"/>
                          <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="[04:19:10.930] 263 107:4002C3A2:9D06:88.687:111.301:0.000:-3.142" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[04:19:10.930] 263 107:4002C3A3:9D06:111.301:88.687:0.000:-3.142" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="0.27 * 1000"/>
                          <Action OrderNumber="6" ActionType="LogMessage" LogMessageText="[04:19:11.198] StartsCasting 14:4002C3C8:Oracle's Reflection:9D0A:Axe Kick:4002C3C8:Oracle's Reflection:5.700:99.99:99.99:0.00:0.52" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="0.18 * 1000"/>
                          <Action OrderNumber="8" ActionType="LogMessage" LogMessageText="[04:19:11.377] TargetIcon 1B:10860D24:Maple Leaf:0000:0000:0159:10860D24:0000:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="9" ActionType="LogMessage" LogMessageText="[04:19:11.377] TargetIcon 1B:107A182B:Chickenstew Delicious:0000:0000:0159:107A182B:0000:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="10" ActionType="LogMessage" LogMessageText="[04:19:11.377] TargetIcon 1B:10844F86:Dyvinell Dark:0000:0000:0159:10844F86:0000:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="11" ActionType="LogMessage" LogMessageText="[04:19:11.377] TargetIcon 1B:10934AAA:Deep Trouble:0000:0000:0159:10934AAA:0000:0000" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="62dccd1f-3fc2-4cdc-992a-ffced73d581a" Name="0. 开始 读条镜像" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9CF4:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a2_DD"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="85944ccf-6bb4-4cda-8472-3ffeb1e7b1c8" Name="C. 镜之国" Enabled="true" RawEnvironmentVariables="phase = P2镜子">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="b500fbe3-420d-4181-a5c4-e24e7a65647e" Name="0. 开始" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9CF3:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a2_镜子"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="043a3ab7-d0ef-45c8-a56f-5397988dd631" Name="1. 获取白镜子" RegularExpression="^.{15}\S+ 101:.{8}:00020001:0(?&lt;pos&gt;[1-8])">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="6.1 读条月环 | 11.8 第一轮月环 | 21.8 第二轮月环" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a2_镜子_白dir8" VariableExpression="(9 - 0${pos}) % 8"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="b27128c1-68ad-43aa-9efe-8997f87ab7ae" Name="2. 获取红镜子" RegularExpression="^.{15}\S+ 101:.{8}:02000100:0(?&lt;pos&gt;[1-8])">
                        <Actions>
                          <Action OrderNumber="1" ActionType="ListVariable" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="U7a2_镜子_红dir8" ListVariableExpression="(9 - ${pos}) % 8"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="false" Id="f721aeb6-c446-4b95-b370-2fd09df8300d" Name="Debug Log 2025-03-01 03:43" Source="None">
                        <Actions>
                          <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="[22:17:31.089] StartsCasting 14:40002912:Usurper of Frost:9CF3:Mirror, Mirror:40002912:Usurper of Frost:2.700:99.99:99.99:0.00:1.54" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="5.05 * 1000"/>
                          <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="[22:17:36.139] 257 101:800375BF:02000100:06:00:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[22:17:36.139] 257 101:800375BF:02000100:08:00:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="LogMessage" LogMessageText="[22:17:36.139] 257 101:800375BF:00020001:04:00:0000" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="180f0757-0d79-42d2-a199-4fc4376bc107" Name="B. 滑冰" Enabled="true" RawEnvironmentVariables="phase = P2滑冰">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="f8d8b34a-3aec-45d2-bf0b-51058119de2b" Name="1. 获取光 → 冰分身（读条分摊）" RegularExpression="^.{15}\S+ 107:4.{7}:9D10:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="3.5 击退结束 | 4.5 冰花判定 | 6.1 冰→光分身出现 | 6.1-7.6-9.1-10.6 四连分摊 | 14.2 背对+冰冻" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" VariableOp="UnsetRegexUniversal" VariableName="^U7a2_滑冰"/>
                          <Action OrderNumber="4" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a2_滑冰_冰dir8" VariableExpression="roundir(${h} + π, 8)"/>
                          <Action OrderNumber="5" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a2_滑冰_自身dir8" VariableExpression="${v:U7a2_DD_dir8} + (${v:myIdx_isG1} ? 0 : 4)"/>
                          <Action OrderNumber="6" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a2_滑冰_rel冰dir8" VariableExpression="(${v:U7a2_滑冰_冰dir8} - ${v:U7a2_滑冰_自身dir8}) %% 8"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="94c87fcd-8906-48b9-a432-624ce588ec42" Name="2. 获取冰 → 光分身" RegularExpression="^.{15}\S+ AAA:10F:(?&lt;id&gt;.{8}):[^:]*:12809:17823:(?!100[^:]*:100)(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;h&gt;[^:]*)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a2_滑冰_光dir8" VariableExpression="roundir(${h} + π, 8)"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="SetString" VariableName="U7a2_滑冰_光id" VariableExpression="${id}"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="false" Id="37d82949-c21c-4e1b-920c-01fb1a125e41" Name="Debug Log 2025-03-01 03:21" Source="None">
                        <Actions>
                          <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="[22:37:24.430] 263 107:40006376:9D10:109.989:100.009:0.031:-1.571" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="7.01 * 1000"/>
                          <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="[22:37:31.442] _ActorSetPos AAA:10F:40006377:Usurper of Frost:12809:17823:114.1421:114.1421:0.0000:-2.3563" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="7.24 * 1000"/>
                          <Action OrderNumber="5" ActionType="LogMessage" LogMessageText="[22:37:38.677] 264 108:4000439A:9CF9:000088D1:1:0.000:0.000:0.000:-2.356" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="3.08 * 1000"/>
                          <Action OrderNumber="7" ActionType="LogMessage" LogMessageText="[22:37:41.760] StartsCasting 14:400043BD:Oracle's Reflection:9D02:Twin Silence:400043BD:Oracle's Reflection:3.200:109.97:99.99:0.00:-1.57" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="7cfc36f6-d458-4978-964f-a9a2e0b0e235" Name="D. 光之暴走" Enabled="true" RawEnvironmentVariables="phase = P2光暴">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="9d23cab4-83eb-43cb-8b1b-bf93c70ebb3d" Name="0. 开始" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D14:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a2_光暴"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="83016d93-7910-44fe-ba1f-3f363f57099c" Name="2. 获取连线 =&gt; 3" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:006E">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
                            <Condition Enabled="true" Grouping="Or"/>
                          </Action>
                          <Action OrderNumber="2" ActionType="DictVariable" Asynchronous="False" DictVariableOp="Set" DictVariableName="U7a2_光暴_环_pIdx" DictVariableKey="${l:party.indexof(${sid})}" DictVariableValue="${l:party.indexof(${tid})}"/>
                          <Action OrderNumber="3" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a2_光暴_环:${d:U7a2_光暴_环_pIdx.joinall}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${d:U7a2_光暴_环_pIdx.size}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="f33cd825-b851-4e48-b854-420a37ecd991" Name="1. 过量光层数 for O2" RegularExpression="^.{15}\S+ 1A:8D1:[^:]*:[^:]*:.{8}:[^:]*:(?&lt;tid&gt;.{8}):[^:]*:(?&lt;stack&gt;[^:]+):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
                            <Condition Enabled="true" Grouping="Or"/>
                          </Action>
                          <Action OrderNumber="2" ActionType="DictVariable" Asynchronous="False" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="U7a2_光暴_初始光" DictVariableKey="${tid}" DictVariableValue="${stack}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${d:U7a2_光暴_初始光.sum}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="NumericLess"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="3" ActionType="DictVariable" Asynchronous="False" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="U7a2_光暴_当前光" DictVariableKey="${tid}" DictVariableValue="${stack}"/>
                        </Actions>
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="7fa72f84-f9c7-4546-848b-4ded01722cc4" Name="3. 验证顺序 + 计算 =&gt; O1" RegularExpression="^_U7a2_光暴_环" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Description="灰九：    正北开始顺时针正八方站位：MT D4 ST D2 H2 D1 H1 D3，六人根据优先级分别去 C1243A，正东西拉线" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" Description="翻绳 THD：正西开始顺时针斜八方站位：MT ST H1 H2 D4 D3 D2 D1，六人根据优先级分别去 1C24A3，正南北偏顺 30° 拉线" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="Placeholder" Description="翻绳 HTD：正西开始顺时针斜八方站位：H1 H2 MT ST D4 D3 D2 D1，六人根据优先级分别去 1C24A3，正南北偏顺 30° 拉线" DescriptionOverride="True"/>
                          <Action OrderNumber="4" ActionType="Placeholder" Description="翻绳美服：正西开始顺时针斜八方站位：H1 H2 MT ST D2 D1 D4 D3，ST 或 D3 顺时针补位为正六边形，此时正西顺六人分别去 2C13A4，正南北偏顺 30° 拉线" DescriptionOverride="True"/>
                          <Action OrderNumber="5" ActionType="Placeholder" Description="反正不是决速步，滥用点临时字典 who cares （x" DescriptionOverride="True"/>
                          <Action OrderNumber="6" ActionType="Placeholder" Description="将字典中的键与值（小队优先级）1-8 转换为不同打法下环状顺时针排队的优先级 1-8" DescriptionOverride="True"/>
                          <Action OrderNumber="7" ActionType="DictVariable" DictVariableOp="Merge" DictVariableName="U7a2_光暴_环_pIdx" DictVariableTarget="U7a2_光暴_环_prio"/>
                          <Action OrderNumber="8" ActionType="DictVariable" DictVariableOp="SetAll" DictVariableName="U7a2_光暴_环_prio" DictVariableKey="${?d: 1=1, 2=3, 3=7, 4=5, 5=6, 6=4, 7=8, 8=2 [${_key}]}" DictVariableValue="${?d: 1=1, 2=3, 3=7, 4=5, 5=6, 6=4, 7=8, 8=2 [${_val}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="9" ActionType="DictVariable" DictVariableOp="SetAll" DictVariableName="U7a2_光暴_环_prio" DictVariableKey="${?d: 1=1, 2=2, 3=3, 4=4, 5=8, 6=7, 7=6, 8=5 [${_key}]}" DictVariableValue="${?d: 1=1, 2=2, 3=3, 4=4, 5=8, 6=7, 7=6, 8=5 [${_val}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳THD" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="10" ActionType="DictVariable" DictVariableOp="SetAll" DictVariableName="U7a2_光暴_环_prio" DictVariableKey="${?d: 1=3, 2=4, 3=1, 4=2, 5=8, 6=7, 7=6, 8=5 [${_key}]}" DictVariableValue="${?d: 1=3, 2=4, 3=1, 4=2, 5=8, 6=7, 7=6, 8=5 [${_val}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳HTD" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="11" ActionType="Placeholder" Description="　　美服的四人侧顺时针补位要根据南侧是否四人均连线 分为两种不同优先级" DescriptionOverride="True"/>
                          <Action OrderNumber="12" ActionType="DictVariable" DictVariableOp="SetAll" DictVariableName="U7a2_光暴_环_prio" DictVariableKey="${?d: 1=3, 2=4, 3=1, 4=2, 5=6, 6=5, 7=8, 8=7 [${_key}]}" DictVariableValue="${?d: 1=3, 2=4, 3=1, 4=2, 5=6, 6=5, 7=8, 8=7 [${_val}]}">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳美" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${d:U7a2_光暴_环_pIdx.ekey(5)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(6)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(7)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(8)}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="13" ActionType="DictVariable" DictVariableOp="SetAll" DictVariableName="U7a2_光暴_环_prio" DictVariableKey="${?d: 1=4, 2=5, 3=2, 4=3, 5=7, 6=6, 7=1, 8=8 [${_key}]}" DictVariableValue="${?d: 1=4, 2=5, 3=2, 4=3, 5=7, 6=6, 7=1, 8=8 [${_val}]}">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳美" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${d:U7a2_光暴_环_pIdx.ekey(5)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(6)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(7)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(8)}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="14" ActionType="Placeholder" Description="从优先级最高的起始，将字典的数据按顺序提取为一个列表，代表六人连接顺序" DescriptionOverride="True"/>
                          <Action OrderNumber="15" ActionType="ListVariable" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio.minkey}"/>
                          <Action OrderNumber="16" ActionType="ListVariable" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}"/>
                          <Action OrderNumber="17" ActionType="ListVariable" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}"/>
                          <Action OrderNumber="18" ActionType="ListVariable" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}"/>
                          <Action OrderNumber="19" ActionType="ListVariable" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}"/>
                          <Action OrderNumber="20" ActionType="ListVariable" ListVariableOp="Push" ListVariableName="U7a2_光暴_环_prio" ListVariableExpression="${d:U7a2_光暴_环_prio[${l:U7a2_光暴_环_prio[-1]}]}"/>
                          <Action OrderNumber="21" ActionType="Placeholder" Description="检查是否是顺序的，否则倒转环" DescriptionOverride="True"/>
                          <Action OrderNumber="22" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=":${l:U7a2_光暴_环_prio.join(:, &quot;1,6,5,4,3,2&quot;)}" ListVariableTarget="U7a2_光暴_环_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="(${l:U7a2_光暴_环_prio[2]} - ${l:U7a2_光暴_环_prio[1]}) %% 8" ExpressionTypeL="Numeric" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="23" ActionType="Placeholder" Description="检查连接顺序是否正确" DescriptionOverride="True"/>
                          <Action OrderNumber="24" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a2_光暴_环_is乱序" VariableExpression="${l:U7a2_光暴_环_prio[2]} &gt; ${l:U7a2_光暴_环_prio[3]} ||&#13;&#10;${l:U7a2_光暴_环_prio[3]} &gt; ${l:U7a2_光暴_环_prio[4]} ||&#13;&#10;${l:U7a2_光暴_环_prio[4]} &gt; ${l:U7a2_光暴_环_prio[5]} ||&#13;&#10;${l:U7a2_光暴_环_prio[5]} &gt; ${l:U7a2_光暴_环_prio[6]}"/>
                          <Action OrderNumber="25" ActionType="Placeholder" Description="转换回 partyIndex" DescriptionOverride="True"/>
                          <Action OrderNumber="26" ActionType="ListVariable" ListVariableOp="Copy" ListVariableName="U7a2_光暴_环_prio" ListVariableTarget="U7a2_光暴_环_pIdx"/>
                          <Action OrderNumber="27" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_环_pIdx" ListVariableExpression="${?d: 1=1, 3=2, 7=3, 5=4, 6=5, 4=6, 8=7, 2=8 [${_this}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="28" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_环_pIdx" ListVariableExpression="${?d: 1=1, 2=2, 3=3, 4=4, 8=5, 7=6, 6=7, 5=8 [${_this}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳THD" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="29" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_环_pIdx" ListVariableExpression="${?d: 3=1, 4=2, 1=3, 2=4, 8=5, 7=6, 6=7, 5=8 [${_this}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳HTD" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="30" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_环_pIdx" ListVariableExpression="${?d: 3=1, 4=2, 1=3, 2=4, 6=5, 5=6, 8=7, 7=8 [${_this}]}">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳美" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${d:U7a2_光暴_环_pIdx.ekey(5)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(6)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(7)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(8)}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="31" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_环_pIdx" ListVariableExpression="${?d: 4=1, 5=2, 2=3, 3=4, 7=5, 6=6, 1=7, 8=8 [${_this}]}">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳美" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${d:U7a2_光暴_环_pIdx.ekey(5)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(6)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(7)} &amp;&amp; ${d:U7a2_光暴_环_pIdx.ekey(8)}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="32" ActionType="Placeholder" Description="将按环顺序的六人小队 idx 转换为最终踩塔 dir6 顺序的六人小队 idx" DescriptionOverride="True"/>
                          <Action OrderNumber="33" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=":${l:U7a2_光暴_环_pIdx.join(:, &quot;6,2,4,1,5,3&quot;)}" ListVariableTarget="U7a2_光暴_dir6_pIdx">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="34" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=":${l:U7a2_光暴_环_pIdx.join(:, &quot;5,1,4,2,6,3&quot;)}" ListVariableTarget="U7a2_光暴_dir6_pIdx">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳THD" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="35" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=":${l:U7a2_光暴_环_pIdx.join(:, &quot;5,1,4,2,6,3&quot;)}" ListVariableTarget="U7a2_光暴_dir6_pIdx">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳HTD" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="36" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=":${l:U7a2_光暴_环_pIdx.join(:, &quot;5,3,6,2,4,1&quot;)}" ListVariableTarget="U7a2_光暴_dir6_pIdx">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳美" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="37" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a2_光暴_myDir6" VariableExpression="${l:U7a2_光暴_dir6_pIdx.indexof(${v:myIdx})} - 1"/>
                          <Action OrderNumber="38" ActionType="Placeholder" Description="无点名" DescriptionOverride="True"/>
                          <Action OrderNumber="39" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=",1,2,3,4,5,6,7,8" ListVariableTarget="U7a2_光暴_无_pIdx"/>
                          <Action OrderNumber="40" ActionType="ListVariable" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="U7a2_光暴_无_pIdx" ListVariableExpression="!${l:U7a2_光暴_环_pIdx.contain(${_this})}" ListVariableTarget="U7a2_光暴_无_pIdx"/>
                          <Action OrderNumber="41" ActionType="ListVariable" ListVariableOp="SortByKeys" ListVariableName="U7a2_光暴_无_pIdx" ListVariableExpression="&quot;n: ${?l: 4, 8, 1, 5, 3, 7, 2, 6 [${_this}]}&quot;">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="42" ActionType="ListVariable" ListVariableOp="SortByKeys" ListVariableName="U7a2_光暴_无_pIdx" ListVariableExpression="&quot;n: ${?l: 4, 6, 8, 7, 2, 1, 3, 5 [${_this}]}&quot;">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳THD" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="43" ActionType="ListVariable" ListVariableOp="SortByKeys" ListVariableName="U7a2_光暴_无_pIdx" ListVariableExpression="&quot;n: ${?l: 8, 7, 4, 6, 2, 1, 3, 5 [${_this}]}&quot;">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳HTD" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="44" ActionType="ListVariable" ListVariableOp="SortByKeys" ListVariableName="U7a2_光暴_无_pIdx" ListVariableExpression="&quot;n: ${?l: 8, 7, 4, 6, 3, 5, 2, 1 [${_this}]}&quot;">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="翻绳美" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="45" ActionType="Placeholder" Description="输出" DescriptionOverride="True"/>
                          <Action OrderNumber="46" ActionType="LogMessage" LogMessageText="U7a2_光暴:${l:U7a2_光暴_dir6_pIdx.join(&quot;&quot;)}:${l:U7a2_光暴_无_pIdx.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="b6946277-3669-4a60-b716-091801a6916d" Name="Debug Log /e u7a p2 123456" RegularExpression="^.{15}\S+ 00:0038::(?i)u7a p2 ([1-8])([1-8])([1-8])([1-8])([1-8])([1-8])">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#13;&#10;Simulating: ${env:phase} &lt;se.10&gt;"/>
                          <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="[22:18:13.907] StartsCasting 14:40002912:Usurper of Frost:9D14:Light Rampant:40002912:Usurper of Frost:4.700:99.99:99.99:0.00:1.11" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="0.81 * 1000"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[00:00:00.000] Tether 23:${l:party[$1]}:队员:${l:party[$2]}:队员:0000:0000:006E:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="LogMessage" LogMessageText="[00:00:00.000] Tether 23:${l:party[$2]}:队员:${l:party[$3]}:队员:0000:0000:006E:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="6" ActionType="LogMessage" LogMessageText="[00:00:00.000] Tether 23:${l:party[$3]}:队员:${l:party[$4]}:队员:0000:0000:006E:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="7" ActionType="LogMessage" LogMessageText="[00:00:00.000] Tether 23:${l:party[$4]}:队员:${l:party[$5]}:队员:0000:0000:006E:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="8" ActionType="LogMessage" LogMessageText="[00:00:00.000] Tether 23:${l:party[$5]}:队员:${l:party[$6]}:队员:0000:0000:006E:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="9" ActionType="LogMessage" LogMessageText="[00:00:00.000] Tether 23:${l:party[$6]}:队员:${l:party[$1]}:队员:0000:0000:006E:" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers/>
              </Folder>
              <Folder Id="a1fd82e9-badc-4067-84f6-1bacf81a8327" Name="P3" Enabled="true">
                <Folders>
                  <Folder Id="8a45cbf8-5e11-49d5-b116-e963a7d43998" Name="A. 一运" Enabled="true" RawEnvironmentVariables="phase = P3一运">
                    <Folders>
                      <Folder Id="8a28f166-bd9d-46e5-9d4a-345ddf69b61c" Name="自动背对" Enabled="true">
                        <Folders/>
                        <Triggers>
                          <Trigger Enabled="true" Id="03ca55d9-f36a-4783-8378-7230134d885d" Name="1. 记录位置" RegularExpression="^.{15}\S+ 1E:9A0:([^:]|: )*:[^:]*:.{8}:[^:]*:(?&lt;tid&gt;1.{7})">
                            <Actions>
                              <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
                                <Condition Enabled="true" Grouping="Or"/>
                              </Action>
                              <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_一运_记录θ" VariableExpression="θ(100, 100, ${_me.x, y})"/>
                              <Action OrderNumber="3" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Recorded: θ = ${v:U7a3_一运_记录θ}"/>
                            </Actions>
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${_me.id}" ExpressionTypeL="String" ExpressionR="${tid}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Trigger>
                          <Trigger Enabled="true" Id="c8f0a42a-2f7d-4958-906e-0e54a8b00eb0" Name="2. 眩晕" RegularExpression="^.{15}\S+ 1A:1043:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
                            <Actions>
                              <Action OrderNumber="1" ActionType="Placeholder" Description="phase" DescriptionOverride="True"/>
                              <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="3" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Pre: θ = ${_me.Heading}&#13;&#10;Tgt: θ = ${v:U7a3_一运_记录θ}"/>
                              <Action OrderNumber="4" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="SetHeading" NamedCallbackParam="${_me.Address}, ${v:U7a3_一运_记录θ}"/>
                              <Action OrderNumber="5" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                              <Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="7" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                              <Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="9" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                              <Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="11" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                              <Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="13" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                              <Action OrderNumber="14" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="15" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                              <Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="17" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                              <Action OrderNumber="18" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="19" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                              <Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="21" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                              <Action OrderNumber="22" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="23" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                              <Action OrderNumber="24" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                              <Action OrderNumber="25" Enabled="False" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;Post: θ = ${_me.Heading}"/>
                            </Actions>
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${_me.id}" ExpressionTypeL="String" ExpressionR="${tid}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Trigger>
                        </Triggers>
                      </Folder>
                    </Folders>
                    <Triggers>
                      <Trigger Enabled="true" Id="ee1d0484-2178-4693-b5d2-680f02611f54" Name="0. 初始化 时间压缩" RegularExpression="^.{15}\S+ 14:(?&lt;id&gt;4.{7}):[^:]+:9D4A:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a3_一运"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="eb9ac3bd-4ad6-4863-aa5f-a5cd779513b2" Name="2. 处理数据          =&gt; O1" RegularExpression="^_U7a3_一运_点名">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="TH   0 短　   1 冰　   2 中　   3 长高   4 长低" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="D    5 短高   6 短低   7 中　   8 长　   9 冰　" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="转化为优先级顺序的小队列表" DescriptionOverride="True"/>
                          <Action OrderNumber="4" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a3_一运_全队点名.join(:, &quot;1,2,3,4,5,6,7,8&quot;)}" ListVariableTarget="tmp_prio2Buff">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="国" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="5" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a3_一运_全队点名.join(:, &quot;2,3,1,8,4,5,6,7&quot;)}" ListVariableTarget="tmp_prio2Buff">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="国HTDH" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="6" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a3_一运_全队点名.join(:, &quot;2,1,3,4,6,5,7,8&quot;)}" ListVariableTarget="tmp_prio2Buff">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="列表应有两个 3、两个 5，将后一个 3/5 变为 4/6 （低优先级）" DescriptionOverride="True"/>
                          <Action OrderNumber="8" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Set" ListVariableName="tmp_prio2Buff" ListVariableExpression="4" ListVariableIndex="${l:tmp_prio2Buff.lastindexof(3)}"/>
                          <Action OrderNumber="9" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Set" ListVariableName="tmp_prio2Buff" ListVariableExpression="6" ListVariableIndex="${l:tmp_prio2Buff.lastindexof(5)}"/>
                          <Action OrderNumber="10" ActionType="Placeholder" Asynchronous="False" Description="转换回去" DescriptionOverride="True"/>
                          <Action OrderNumber="11" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:tmp_prio2Buff.join(:, &quot;1,2,3,4,5,6,7,8&quot;)}" ListVariableTarget="U7a3_一运_全队点名">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="国" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="12" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:tmp_prio2Buff.join(:, &quot;3,1,2,5,6,7,8,4&quot;)}" ListVariableTarget="U7a3_一运_全队点名">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="国HTDH" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="13" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:tmp_prio2Buff.join(:, &quot;2,1,3,4,6,5,7,8&quot;)}" ListVariableTarget="U7a3_一运_全队点名">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="14" ActionType="ListVariable" Asynchronous="False" ListVariableName="tmp_prio2Buff"/>
                          <Action OrderNumber="15" ActionType="Placeholder" Asynchronous="False" Description="此时为小队顺序的八人对应的 buff（细分），如 [0,3,2,4,5,6,9,7]" DescriptionOverride="True"/>
                          <Action OrderNumber="16" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=",${f:pick(${l:U7a3_一运_全队点名[${v:myIdx}]}): &#13;&#10;  &quot;散,记录外,摊,引导,摊,对侧&quot;,&#13;&#10;  &quot;摊,记录外,摊,引导,摊,对侧&quot;,&#13;&#10;  &quot;摊,记录外,散,挂机,摊,引导&quot;,&#13;&#10;  &quot;摊,引导,摊,记录内,散,对侧&quot;,&#13;&#10;  &quot;摊,引导,摊,记录内,散,对侧&quot;,&#13;&#10;  &#13;&#10;  &quot;散,记录外,摊,引导,摊,对侧&quot;,&#13;&#10;  &quot;散,记录外,摊,引导,摊,对侧&quot;,&#13;&#10;  &quot;摊,记录内,散,挂机,摊,引导&quot;,&#13;&#10;  &quot;摊,引导,摊,记录内,散,对侧&quot;,&#13;&#10;  &quot;摊,引导,摊,记录内,摊,对侧&quot;,&#13;&#10;}" ListVariableTarget="U7a3_一运_自身路线"/>
                          <Action OrderNumber="17" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a3_一运_self:my点名:${l:U7a3_一运_全队点名[${v:myIdx}]}:点名:${l:U7a3_一运_全队点名.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="83a7c522-b8ca-4700-ac26-3e85e706f175" Name="3. 获取沙漏 for 4" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17832:([^:]*:){9}(?&lt;h&gt;[^:]+)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="DictVariable" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="U7a3_一运_沙漏dir8" DictVariableKey="${id}" DictVariableValue="roundir(${h} + π, 8)"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="ef987acc-772d-4be5-9110-b9ce2061779e" Name="5. 沙漏旋转          =&gt; O3" RegularExpression="^.{15}\S+ 1A:B9A:[^:]*:[^:]*:.{8}:[^:]*:(?&lt;id&gt;4.{7}):[^:]*:(?&lt;type&gt;15C|10D)(:|$)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="U7a3_一运_沙漏:${id}:is顺:${n: ${type} == 15C}:dir8:${d:U7a3_一运_沙漏dir8[${id}]}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="9583e714-5fe4-44b3-8e2b-72c134dd78c9" Name="4. 获取加速连线 * 3  =&gt; O2" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;4.{7}):[^:]*:4.{7}:[^:]*:[^:]*:[^:]*:0086:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
                            <Condition Enabled="true" Grouping="Or"/>
                          </Action>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="Increment" VariableName="U7a3_一运_短沙漏_Σx" VariableExpression="sin(dir2rad(${d:U7a3_一运_沙漏dir8[${sid}]}, 8))"/>
                          <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" VariableOp="Increment" VariableName="U7a3_一运_短沙漏_Σy" VariableExpression="cos(dir2rad(${d:U7a3_一运_沙漏dir8[${sid}]}, 8))"/>
                          <Action OrderNumber="4" ActionType="Variable" Asynchronous="False" VariableOp="Increment" VariableName="U7a3_一运_短沙漏_n"/>
                          <Action OrderNumber="5" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_一运_dir8" VariableExpression="roundvec(-${v:U7a3_一运_短沙漏_Σx}, -${v:U7a3_一运_短沙漏_Σy}, 8)">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a3_一运_短沙漏_n}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="6" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_一运_myDir8" VariableExpression="(${v:U7a3_一运_dir8} + ${?l: 4,4,2,3,5, 1,7,6,0,0 [${n: ${l:U7a3_一运_全队点名[${v:myIdx}]} + 1}]}) % 8">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a3_一运_短沙漏_n}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionGroup Enabled="true" Grouping="Or">
                                <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="国" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                                <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="国HTDH" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                              </ConditionGroup>
                            </Condition>
                          </Action>
                          <Action OrderNumber="7" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_一运_myDir8" VariableExpression="(${v:U7a3_一运_dir8} + ${?l: 4,4,6,3,5, 1,7,2,0,0 [${n: ${l:U7a3_一运_全队点名[${v:myIdx}]} + 1}]}) % 8">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a3_一运_短沙漏_n}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="8" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a3_一运:dir8:${v:U7a3_一运_dir8}:myDir8:${v:U7a3_一运_myDir8}:my点名:${l:U7a3_一运_全队点名[${v:myIdx}]}:冰isD:${v:U7a3_一运_冰isD}:点名:${l:U7a3_一运_全队点名.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a3_一运_短沙漏_n}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="4c000deb-c940-4a52-b55a-60e55b0f56c0" Name="1. 获取冰火 * 8      =&gt; 2" RegularExpression="^.{15}\S+ 1A:99(?&lt;type&gt;7|E):([^:]|: )+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
                            <Condition Enabled="true" Grouping="Or"/>
                          </Action>
                          <Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="TH   0 短　   1 冰　   2 中　   3 长高   4 长低" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="D    5 短高   6 短低   7 中　   8 长　   9 冰　" DescriptionOverride="True"/>
                          <Action OrderNumber="4" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Set" ListVariableName="U7a3_一运_全队点名" ListVariableExpression="${?d:&#13;&#10;  11 7 0 = 0,&#13;&#10;  21 E 0 = 1,&#13;&#10;  21 7 0 = 2,&#13;&#10;  31 7 0 = 3,&#13;&#10;  11 7 1 = 5,&#13;&#10;  21 7 1 = 7,&#13;&#10;  31 7 1 = 8,&#13;&#10;  21 E 1 = 9&#13;&#10;  [${n:round(${t})} ${type} ${n: ${l:party.indexof(${tid})} &gt; 4}]&#13;&#10;}" ListVariableIndex="${l:party.indexof(${tid})}"/>
                          <Action OrderNumber="5" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_一运_冰isD" VariableExpression="${l:party.indexof(${tid})} &gt; 4">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${type}" ExpressionTypeL="String" ExpressionR="E" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="* 8 =&gt; 2" DescriptionOverride="True"/>
                          <Action OrderNumber="7" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a3_一运_点名" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_全队点名.size}" ExpressionTypeL="String" ExpressionR="8" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_全队点名.indexof(&quot;&quot;)}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="535c76db-c543-4e4d-b3f9-83e49a9d2b59" Name="Debug Log /e u7a p31 [0-3]*8 （冰0 短1 中2 长3）" RegularExpression="^.{15}\S+ 00:0038::(?i)u7a p31 ([0-3])([0-3])([0-3])([0-3])([0-3])([0-3])([0-3])([0-3])">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#13;&#10;Simulating: ${env:phase} &lt;se.10&gt;"/>
                          <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="[22:21:01.091] StartsCasting 14:40002939:Oracle of Darkness:9D4A:Ultimate Relativity:40002939:Oracle of Darkness:9.700:99.99:99.99:0.00:3.14" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="1.00 * 1000"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[22:21:02.091] StatusAdd 1A:${if: $1=0 ? 99E : 997}:○:${?d: 0=21, 1=11, 2=21, 3=31[$1]}.00:E0000000::${l:party[1]}:队员:00:1000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="LogMessage" LogMessageText="[22:21:02.091] StatusAdd 1A:${if: $2=0 ? 99E : 997}:○:${?d: 0=21, 1=11, 2=21, 3=31[$2]}.00:E0000000::${l:party[2]}:队员:00:1000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="6" ActionType="LogMessage" LogMessageText="[22:21:02.091] StatusAdd 1A:${if: $3=0 ? 99E : 997}:○:${?d: 0=21, 1=11, 2=21, 3=31[$3]}.00:E0000000::${l:party[3]}:队员:00:1000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="7" ActionType="LogMessage" LogMessageText="[22:21:02.091] StatusAdd 1A:${if: $4=0 ? 99E : 997}:○:${?d: 0=21, 1=11, 2=21, 3=31[$4]}.00:E0000000::${l:party[4]}:队员:00:1000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="8" ActionType="LogMessage" LogMessageText="[22:21:02.091] StatusAdd 1A:${if: $5=0 ? 99E : 997}:○:${?d: 0=21, 1=11, 2=21, 3=31[$5]}.00:E0000000::${l:party[5]}:队员:00:1000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="9" ActionType="LogMessage" LogMessageText="[22:21:02.091] StatusAdd 1A:${if: $6=0 ? 99E : 997}:○:${?d: 0=21, 1=11, 2=21, 3=31[$6]}.00:E0000000::${l:party[6]}:队员:00:1000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="10" ActionType="LogMessage" LogMessageText="[22:21:02.091] StatusAdd 1A:${if: $7=0 ? 99E : 997}:○:${?d: 0=21, 1=11, 2=21, 3=31[$7]}.00:E0000000::${l:party[7]}:队员:00:1000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="11" ActionType="LogMessage" LogMessageText="[22:21:02.091] StatusAdd 1A:${if: $8=0 ? 99E : 997}:○:${?d: 0=21, 1=11, 2=21, 3=31[$8]}.00:E0000000::${l:party[8]}:队员:00:1000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="12" ActionType="LogMessage" LogMessageText="[22:21:01.948] AddCombatant 03:40002956:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::93.28:93.28:0.00:0.79" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="13" ActionType="LogMessage" LogMessageText="[22:21:01.948] AddCombatant 03:40002957:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::90.50:100.00:0.00:1.57" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="14" ActionType="LogMessage" LogMessageText="[22:21:01.948] AddCombatant 03:40002958:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::93.28:106.72:0.00:2.36" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="15" ActionType="LogMessage" LogMessageText="[22:21:01.948] AddCombatant 03:4000295B:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::109.50:100.00:0.00:-1.57" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="16" ActionType="LogMessage" LogMessageText="[22:21:01.948] AddCombatant 03:40002959:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::100.00:109.50:0.00:-3.14" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="17" ActionType="LogMessage" LogMessageText="[22:21:01.948] AddCombatant 03:4000295A:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::106.72:106.72:0.00:-2.36" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="18" ActionType="LogMessage" LogMessageText="[22:21:01.948] AddCombatant 03:4000295D:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::100.00:90.50:0.00:0.00" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="19" ActionType="LogMessage" LogMessageText="[22:21:01.948] AddCombatant 03:4000295C:Delight's Hourglass:00:64:0000:00::9825:17832:188300:188300:10000:10000:::106.72:93.28:0.00:-0.79" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="20" ActionType="Placeholder" ExecutionDelayExpression="3.22 * 1000"/>
                          <Action OrderNumber="21" ActionType="LogMessage" LogMessageText="[22:21:05.308] Tether 23:4000295C:Delight's Hourglass:40002939:Oracle of Darkness:0000:0000:0086:40002939:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="22" ActionType="LogMessage" LogMessageText="[22:21:05.308] Tether 23:40002959:Delight's Hourglass:40002939:Oracle of Darkness:0000:0000:0086:40002939:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="23" ActionType="LogMessage" LogMessageText="[22:21:05.308] Tether 23:40002957:Delight's Hourglass:40002939:Oracle of Darkness:0000:0000:0086:40002939:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="24" ActionType="Placeholder" ExecutionDelayExpression="8.84 * 1000"/>
                          <Action OrderNumber="25" ActionType="LogMessage" LogMessageText="[22:21:14.148] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::40002959:Delight's Hourglass:15C:188300:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="26" ActionType="LogMessage" LogMessageText="[22:21:14.148] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::4000295C:Delight's Hourglass:15C:188300:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="27" ActionType="LogMessage" LogMessageText="[22:21:14.148] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::40002957:Delight's Hourglass:15C:188300:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="28" ActionType="Placeholder" ExecutionDelayExpression="10.01 * 1000"/>
                          <Action OrderNumber="29" ActionType="LogMessage" LogMessageText="[22:21:24.158] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::40002958:Delight's Hourglass:15C:188300:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="30" ActionType="LogMessage" LogMessageText="[22:21:24.158] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::4000295D:Delight's Hourglass:10D:188300:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="31" ActionType="LogMessage" LogMessageText="[22:21:24.158] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::4000295B:Delight's Hourglass:10D:188300:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="32" ActionType="Placeholder" ExecutionDelayExpression="11.03 * 1000"/>
                          <Action OrderNumber="33" ActionType="LogMessage" LogMessageText="[22:21:35.191] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::4000295A:Delight's Hourglass:15C:188300:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="34" ActionType="LogMessage" LogMessageText="[22:21:35.191] StatusAdd 1A:B9A:Unknown_B9A:4.00:E0000000::40002956:Delight's Hourglass:10D:188300:" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="d3298fdf-be07-4581-a064-413b55f3dae4" Name="B. 二运" Enabled="true" RawEnvironmentVariables="phase = P3二运">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="f2f827fb-dd8e-4b1d-a4f1-1209915ca7a5" Name="0. 初始化 深渊狂水" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D4E:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="UnsetRegexUniversal" VariableName="^U7a3_二运"/>
                          <Action OrderNumber="3" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a3_二运_idxToBuff" ListVariableExpression="0" ListVariableIndex="8"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="d7aeb1cb-4fad-4214-b830-d48c0181e167" Name="3. 地火获取 * 2 =&gt; 4" RegularExpression="^.{15}\S+ 105:Add:(?&lt;id&gt;4.{7}):.*BNpcID:1EB0FF:.*Heading:(?&lt;h&gt;[^:]*):.*PosX:(?&lt;x&gt;(99|100)[^:]+):PosY:(?&lt;y&gt;[^:]+)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="只获取指向 dir8 = 0 1 2 3 的中心实体（判断起始方向），或正南的实体（判断顺逆）" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_二运_is顺" VariableExpression="cos(${h}) * (${x} - 100) &gt; sin(${h}) * (${y} - 100)">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="round(${y}) &gt; 100" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_二运_dir8" VariableExpression="roundir(${h}, 8) % 4">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="round(${y}) = 100" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="4" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a3_二运_地火" LogProcess="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${ev:U7a3_二运_dir8}${ev:U7a3_二运_is顺}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="round(${y}) = 100 &amp;&amp; roundir(${h}, 8) &lt; 4" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="round(${y}) &gt; 100" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="a23a6d87-4ff2-457a-9a00-f6ed5bead9e0" Name="1. 水分摊点名 =&gt; 2" RegularExpression="^.{15}\S+ 1A:99D:(?:[^:]|: )*:(?&lt;t&gt;(10|29|38)[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Set" ListVariableExpressionType="Numeric" ListVariableName="U7a3_二运_idxToBuff" ListVariableExpression="round(${t} / 13)" ListVariableIndex="${l:party.indexof(${tid})}"/>
                          <Action OrderNumber="2" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a3_二运_水:${l:U7a3_二运_idxToBuff.join()}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a3_二运_idxToBuff.sum}" ExpressionTypeL="String" ExpressionR="12" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="7a2f65ed-3e87-4c9e-917f-03303b3906e3" Name="4. 处理地火 =&gt; O2" RegularExpression="^_U7a3_二运_地火">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_1组三火dir8" VariableExpression="(${v:U7a3_二运_dir8} % 4 + (${v:U7a3_二运_is顺} ? 1 : -1)) %% 8">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运分半场]}" ExpressionTypeL="String" ExpressionR="地火" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[半场is1A2]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_1组三火dir8" VariableExpression="(${v:U7a3_二运_dir8} + (${v:U7a3_二运_is顺} ? 1 : -1)) %% 4">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运分半场]}" ExpressionTypeL="String" ExpressionR="地火-" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[半场is1A2]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_1组三火dir8" VariableExpression="((${v:U7a3_二运_dir8} + 2) %% 4 + (${v:U7a3_二运_is顺} ? -1 : 1)) %% 8">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运分半场]}" ExpressionTypeL="String" ExpressionR="地火--" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[半场is1A2]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="4" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_1组三火dir8" VariableExpression="((${v:U7a3_二运_dir8} + 1) % 4 - 1 + (${v:U7a3_二运_is顺} ? 1 : -1)) %% 8">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运分半场]}" ExpressionTypeL="String" ExpressionR="地火" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[半场is1A2]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="5" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_1组三火dir8" VariableExpression="((${v:U7a3_二运_dir8} + 1 + (${v:U7a3_二运_is顺} ? 1 : -1)) %% 4 - 1) %% 8">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运分半场]}" ExpressionTypeL="String" ExpressionR="地火-" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[半场is1A2]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="6" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_1组三火dir8" VariableExpression="((${v:U7a3_二运_dir8} + 3) %% 4 - 1 + (${v:U7a3_二运_is顺} ? -1 : 1)) %% 8">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运分半场]}" ExpressionTypeL="String" ExpressionR="地火--" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[半场is1A2]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="7" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_1组二火dir8" VariableExpression="(${v:tmp_1组三火dir8} + (${v:U7a3_二运_is顺} ? 1 : -1)) %% 8"/>
                          <Action OrderNumber="8" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_2组三火dir8" VariableExpression="(${v:tmp_1组三火dir8} + 4) %% 8"/>
                          <Action OrderNumber="9" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_2组二火dir8" VariableExpression="(${v:tmp_1组二火dir8} + 4) %% 8"/>
                          <Action OrderNumber="10" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a3_二运_log" VariableExpression="is顺:${v:U7a3_二运_is顺}:dir8:${v:U7a3_二运_dir8}:1组dir8:${v:tmp_1组三火dir8}:${v:tmp_1组二火dir8}:2组dir8:${v:tmp_2组三火dir8}:${v:tmp_2组二火dir8}"/>
                          <Action OrderNumber="11" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a3_二运_地火:${v:U7a3_二运_log}" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="12" ActionType="Variable" Asynchronous="False" VariableOp="UnsetRegex" VariableName="^tmp_[12]组[二三]火"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="5201bcbe-b37d-447c-90f1-ce67b46eda67" Name="2b. 初始分组（科技 &amp;&amp; 指挥）=&gt; O1" RegularExpression="^_U7a3_二运_水:" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Description="条件：科技" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" Description="拟定优先级：T M H R （为了使同组远程在近战后、排序后每对必然为 近近 远远 近远 之一）" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=",1,2,5,6,3,4,7,8" ListVariableTarget="U7a3_二运_水idx"/>
                          <Action OrderNumber="4" ActionType="Placeholder" Description="然后按照点名时长排序，排序后为 无高 无低 短高 短低 中高 中低 长高 长低 顺序的八人 idx" DescriptionOverride="True"/>
                          <Action OrderNumber="5" ActionType="ListVariable" ListVariableOp="SortByKeys" ListVariableName="U7a3_二运_水idx" ListVariableExpression="n+: ${l:U7a3_二运_idxToBuff[${_this}]}"/>
                          <Action OrderNumber="6" ActionType="Placeholder" Description="检查四组中哪几组是近远（列表 2n-1 与 2n 两项只有一个是 1/2/5/6），可能有 0 2 4 组" DescriptionOverride="True"/>
                          <Action OrderNumber="7" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="tmp_近远组" ListVariableExpression="${_idx}" ListVariableIndex="4"/>
                          <Action OrderNumber="8" ActionType="ListVariable" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="tmp_近远组" ListVariableExpression="${f:contain(${l:U7a3_二运_水idx[${n: ${_idx} * 2 - 1}]}):1256} != ${f:contain(${l:U7a3_二运_水idx[${n: ${_idx} * 2}]}):1256}" ListVariableTarget="tmp_近远组"/>
                          <Action OrderNumber="9" ActionType="Placeholder" Description="如果有 &gt;= 2 组不同，调换最后一组对应的八人列表中的两个 idx" DescriptionOverride="True"/>
                          <Action OrderNumber="10" ActionType="ListVariable" ListVariableOp="PopFirst" ListVariableName="U7a3_二运_水idx" ListVariableIndex="${l:tmp_近远组[-1]} * 2 - 1" ListVariableTarget="tmp_lowIdx">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:tmp_近远组.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreaterEqual"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="11" ActionType="ListVariable" ListVariableOp="Insert" ListVariableName="U7a3_二运_水idx" ListVariableExpression="${v:tmp_lowIdx}" ListVariableIndex="${l:tmp_近远组[-1]} * 2">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:tmp_近远组.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreaterEqual"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="12" ActionType="Placeholder" Description="如果有 4 组不同，同法调换倒数第二组" DescriptionOverride="True"/>
                          <Action OrderNumber="13" ActionType="ListVariable" ListVariableOp="PopFirst" ListVariableName="U7a3_二运_水idx" ListVariableIndex="${l:tmp_近远组[-2]} * 2 - 1" ListVariableTarget="tmp_lowIdx">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:tmp_近远组.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="14" ActionType="ListVariable" ListVariableOp="Insert" ListVariableName="U7a3_二运_水idx" ListVariableExpression="${v:tmp_lowIdx}" ListVariableIndex="${l:tmp_近远组[-2]} * 2">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:tmp_近远组.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="15" ActionType="Variable" VariableName="tmp_lowIdx"/>
                          <Action OrderNumber="16" ActionType="ListVariable" ListVariableName="tmp_近远组"/>
                          <Action OrderNumber="17" ActionType="Placeholder" Description="最后检查 MT 是否在左侧组（1357），否则调换左右" DescriptionOverride="True"/>
                          <Action OrderNumber="18" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=",${l:U7a3_二运_水idx.join(&quot;,&quot;, &quot;2,1,4,3,6,5,8,7&quot;)}" ListVariableTarget="U7a3_二运_水idx">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a3_二运_水idx.contain(1, &quot;1,3,5,7&quot;)}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="19" ActionType="Placeholder" Description="此时列表为处理好的 无左 无右 短左 短右 中左 中右 长左 长右 顺序的八人 idx" DescriptionOverride="True"/>
                          <Action OrderNumber="20" ActionType="Placeholder" Description="拆分为两组" DescriptionOverride="True"/>
                          <Action OrderNumber="21" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=",${l:U7a3_二运_水idx.join(&quot;,&quot;, &quot;1,3,5,7&quot;)}" ListVariableTarget="U7a3_二运_G1idx"/>
                          <Action OrderNumber="22" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=",${l:U7a3_二运_水idx.join(&quot;,&quot;, &quot;2,4,6,8&quot;)}" ListVariableTarget="U7a3_二运_G2idx"/>
                          <Action OrderNumber="23" ActionType="Placeholder" Description="调整组内顺序：T M H R" DescriptionOverride="True"/>
                          <Action OrderNumber="24" ActionType="ListVariable" ListVariableOp="SortByKeys" ListVariableName="U7a3_二运_G1idx" ListVariableExpression="&quot;n+: ${?l: 1,2,5,6,3,4,7,8.indexof(${_this})}&quot;"/>
                          <Action OrderNumber="25" ActionType="ListVariable" ListVariableOp="SortByKeys" ListVariableName="U7a3_二运_G2idx" ListVariableExpression="&quot;n+: ${?l: 1,2,5,6,3,4,7,8.indexof(${_this})}&quot;"/>
                          <Action OrderNumber="26" ActionType="Placeholder" Description="输出" DescriptionOverride="True"/>
                          <Action OrderNumber="27" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a3_二运_my摊isG1" VariableExpression="${l:U7a3_二运_水idx.indexof(${v:myIdx})} % 2 = 1 ? 1 : 2"/>
                          <Action OrderNumber="28" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a3_二运_my散isG1" VariableExpression="${v:U7a3_二运_my摊isG1}"/>
                          <Action OrderNumber="29" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a3_二运_my散Idx" VariableExpression="(${v:myIdx} - 1) % 4 + 1"/>
                          <Action OrderNumber="30" ActionType="LogMessage" LogMessageText="U7a3_二运_分组:isG1:${v:U7a3_二运_my摊isG1}:${l:U7a3_二运_水idx.join(&quot;&quot;)}${l:U7a3_二运_G1idx.join(&quot;&quot;)}:${l:U7a3_二运_G2idx.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运isCmd]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="76a1854f-0e31-4e20-bcd7-0564e6664976" Name="Debug Log /e u7a p32 [短短中中长长] [dir8] [is顺]   如 p32 253418 3 1" RegularExpression="^.{15}\S+ 00:0038::(?i)u7a p32 (.)(.)(.)(.)(.)(.) (?&lt;dir8&gt;[0-4]) (?&lt;is顺&gt;[01])">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#13;&#10;Simulating: ${env:phase} &lt;se.10&gt;"/>
                          <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="[22:22:18.309] StartsCasting 14:40002939:Oracle of Darkness:9D4E:Dark Water III:40002939:Oracle of Darkness:4.700:99.99:99.99:0.00:3.13" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="2 * 1000"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[22:22:23.888] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:10.00:E0000000::${l:party[$1]}:队员:00:226089:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="LogMessage" LogMessageText="[22:22:23.888] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:10.00:E0000000::${l:party[$2]}:队员:00:156987:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="6" ActionType="LogMessage" LogMessageText="[22:22:23.888] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:29.00:E0000000::${l:party[$3]}:队员:00:157247:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="7" ActionType="LogMessage" LogMessageText="[22:22:23.888] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:29.00:E0000000::${l:party[$4]}:队员:00:142359:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="8" ActionType="LogMessage" LogMessageText="[22:22:23.888] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:38.00:E0000000::${l:party[$5]}:队员:00:155336:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="9" ActionType="LogMessage" LogMessageText="[22:22:23.888] StatusAdd 1A:99D:Spell-in-Waiting: Dark Water III:38.00:E0000000::${l:party[$6]}:队员:00:157227:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="2.47 * 1000"/>
                          <Action OrderNumber="11" ActionType="LogMessage" LogMessageText="[22:22:26.364] ？ 14:40000000:？:9D68:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="12" ActionType="LogMessage" LogMessageText="[22:22:26.364] 261 105:Add:4000296D:BNpcID:1EB0FF:Heading:${n: dir2rad(${dir8}, 8) }:PosX:100.0000:PosY:100.0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="13" ActionType="LogMessage" LogMessageText="[22:22:26.364] 261 105:Add:4000296E:BNpcID:1EB0FF:Heading:${n: dir2rad(${dir8} + 4, 8) }:PosX:100.0000:PosY:100.0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="14" ActionType="LogMessage" LogMessageText="[22:22:26.364] 261 105:Add:4000296C:BNpcID:1EB0FF:Heading:${n: ${is顺} ? 1.57 : -1.57 }:PosX:100.0000:PosY:86.0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="15" ActionType="LogMessage" LogMessageText="[22:22:26.364] 261 105:Add:40002968:BNpcID:1EB0FF:Heading:${n: ${is顺} ? -1.57 : 1.57 }:PosX:100.0000:PosY:114.0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="28.9 * 1000"/>
                          <Action OrderNumber="17" ActionType="LogMessage" LogMessageText="[02:41:57.855] ActionEffect 15:${_entity[OwnerID == ${_me.id}].id}:暗之巫女？:9CF6:暗夜舞蹈:10000000:" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="cf965d6d-fe90-4599-ade9-9d122d6d2752" Name="2c. 初始分组（科技 &amp;&amp; 非指挥）=&gt; O1" RegularExpression="^.{15}\S+ 1D:Add:(?&lt;id&gt;0|1|2|3|5|6|7|10):(?&lt;tid&gt;1.{7}):" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a3_二运_my摊isG1" VariableExpression="${id} &lt;= 3"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a3_二运_my散isG1" VariableExpression="${v:U7a3_二运_my摊isG1}"/>
                          <Action OrderNumber="3" ActionType="Variable" VariableOp="SetString" VariableName="U7a3_二运_my散Idx" VariableExpression="${?d: 0=1, 1=2, 2=3, 3=4, 5=1, 6=2, 7=3, 10=4 [${id}]}"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="U7a3_二运_分组:isG1:${v:U7a3_二运_my摊isG1}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运isCmd]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="c7167fc0-99d0-4426-8b6d-838d57f0b2ee" Name="2a. 初始分组（非科技）=&gt; O1" RegularExpression="^_U7a3_二运_水:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：非科技" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="先从配置提取优先级顺序 =&gt; 八人 idx" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=",${?d:&#13;&#10;  &quot;双分国  = 3,4,1,2,5,6,7,8&quot;,&#13;&#10;  &quot;双分HTDH= 3,1,2,5,6,7,8,4&quot;,&#13;&#10;  &quot;双分美  = 4,3,2,1,5,6,7,8&quot;,&#13;&#10;  &quot;单分THD = 1,2,3,4,5,6,7,8&quot;,&#13;&#10;  &quot;单分HTDH= 3,1,2,5,6,7,8,4&quot;,&#13;&#10;  &quot;单分日  = 4,3,2,1,5,6,7,8&quot;,&#13;&#10;  &quot;单分莫  = 1,2,3,4,8,7,6,5&quot;&#13;&#10;  [${pd:U7a_cfg[P3二运]}]&#13;&#10;}" ListVariableTarget="U7a3_二运_水idx"/>
                          <Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="然后按照点名时长排序，排序后为 无高 无低 短高 短低 中高 中低 长高 长低 顺序的八人 idx" DescriptionOverride="True"/>
                          <Action OrderNumber="5" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SortByKeys" ListVariableName="U7a3_二运_水idx" ListVariableExpression="n+: ${l:U7a3_二运_idxToBuff[${_this}]}"/>
                          <Action OrderNumber="6" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_二运_my摊isG1" VariableExpression="${l:U7a3_二运_水idx.indexof(${v:myIdx})} % 2 = 1"/>
                          <Action OrderNumber="7" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_二运_my散isG1" VariableExpression="${f:startwith(双分):${pd:U7a_cfg[P3二运]}} ? ${v:myIdx_isTH} : ${v:U7a3_二运_my摊isG1}"/>
                          <Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="暂时仅双分 / 科技使用 idx：" DescriptionOverride="True"/>
                          <Action OrderNumber="9" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_二运_my散Idx" VariableExpression="0">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="^单分" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="10" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a3_二运_my散Idx" VariableExpression="(${v:myIdx} - 1) % 4 + 1">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="^双分" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="11" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a3_二运_分组:isG1:${v:U7a3_二运_my摊isG1}:${l:U7a3_二运_水idx.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="1bcb9eb9-8a7e-4005-8f05-973fce7bea89" Name="5. 时间轴 =&gt; O3 (O2 时间不确定 重复输出一次)" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D68:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="LogMessage" ExecutionDelayExpression="5000" LogMessageText="U7a3_二运_时间轴:${v:U7a3_二运_log}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers/>
              </Folder>
              <Folder Id="0bc6373a-dbbe-4c89-af6a-4dc9b8bd363c" Name="P5" Enabled="true">
                <Folders>
                  <Folder Id="6d28a1ad-be67-46bb-a4c4-2a9b88824654" Name="B. 踩塔" Enabled="true" RawEnvironmentVariables="phase = P5踩塔">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="e1e53538-5a25-4509-aad3-73b0c82cd543" Name="0. 初始化" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D7F:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a5_塔"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="7cabbf85-0321-4d3a-8b98-96fc1378c0d4" Name="2. 翅膀读条 =&gt; O1" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]*:9D(?&lt;type&gt;2|7)9:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="2暗光 7光暗" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a5_塔_is先暗" VariableExpression="${type} == 2"/>
                          <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a5_塔_isSelfTgt" VariableExpression="${_entity[${sid}].targetid} == ${_me.id}"/>
                          <Action OrderNumber="4" ActionType="NamedCallback" Asynchronous="False" DescBgColor="fdd" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;me: ${_me.id}&#13;&#10;src: ${sid}&#13;&#10;src.target: ${_entity[${sid}].targetid}" VariableOp="SetNumeric" VariableName="U7a5_塔_isSelfTgt"/>
                          <Action OrderNumber="5" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a5_塔1:dir-3:${l:U7a5_塔_dir-3[1]}:is先暗:${v:U7a5_塔_is先暗}:is一仇:${v:U7a5_塔_isSelfTgt}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="7a6ca176-511f-4159-9e66-cd864206f8b6" Name="1. 获取塔" RegularExpression="^.{15}\S+ 101:.{8}:00020001:(?&lt;pos&gt;33|34|35)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a5_塔_dir-3" ListVariableExpression="${?d: 33 = 0, 34 = 2, 35 = 1 [${pos}]}"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a5_塔_is顺" VariableExpression="(${l:U7a5_塔_dir-3[1]} - ${l:U7a5_塔_dir-3[2]}) %% 3 = 1">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a5_塔_dir-3.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="3a428a9b-7cc1-47a5-8444-ef4cc3ba7229" Name="C. 挡枪" Enabled="true" RawEnvironmentVariables="phase = P5挡枪">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="9c21c040-effe-4701-b93d-f60dadab7b2b" Name="0. 初始化" RegularExpression="^.{15}\S+ 107:4.{7}:9D7C:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a5_挡枪"/>
                          <Action OrderNumber="3" ActionType="Variable" VariableOp="SetString" VariableName="U7a5_挡枪_my换位轮次" VariableExpression="${?l: 1,1,4,4,2,2,3,3  [${v:myIdx}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P5挡枪]}" ExpressionTypeL="String" ExpressionR="TMRH" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="4" ActionType="Variable" VariableOp="SetString" VariableName="U7a5_挡枪_my换位轮次" VariableExpression="${?l: 1,1,5,5,2,2,3,3  [${v:myIdx}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P5挡枪]}" ExpressionTypeL="String" ExpressionR="TMRT" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="5" ActionType="Variable" VariableOp="SetString" VariableName="U7a5_挡枪_my换位轮次" VariableExpression="${?l: 1,1,2,2,3,3,4,4  [${v:myIdx}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P5挡枪]}" ExpressionTypeL="String" ExpressionR="THMR" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="2cb3163e-ff48-486b-ac50-84dda9f4e35f" Name="2. 二段判定 =&gt; O2" RegularExpression="^.{15}\S+ 1[56]:(?&lt;sid&gt;4.{7}):[^:]+:9CB7:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" Asynchronous="False" VariableOp="Increment" VariableName="U7a5_挡枪_n2"/>
                          <Action OrderNumber="2" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a5_挡枪二段:${v:U7a5_挡枪_n2}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="false" Id="a4602f3f-bb96-4e49-aace-0e42de7bc941" Name="光暗读条" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]+:9D7[DE]:">
                        <Actions>
                          <Action OrderNumber="1" Enabled="False" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${sid}].address}, 304"/>
                          <Action OrderNumber="2" Enabled="False" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="LockOn" NamedCallbackParam="${_entity[${sid}].address}, omen_laser_6_60_4sec_0t"/>
                          <Action OrderNumber="3" Enabled="False" ActionType="NamedCallback" ExecutionDelayExpression="4000" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${sid}].address}, 0"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="7d9786a2-a4f4-49e3-9249-5414c2fdb0ec" Name="1. 一段判定 =&gt; O1" RegularExpression="^.{15}\S+ 1[56]:(?&lt;sid&gt;4.{7}):[^:]+:9D7D:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" Asynchronous="False" VariableOp="Increment" VariableName="U7a5_挡枪_n1"/>
                          <Action OrderNumber="2" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a5_挡枪一段:${v:U7a5_挡枪_n1}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="dfc82a36-cc6c-404b-8ee4-0acbb683b365" Name="A. 地火" Enabled="true" RawEnvironmentVariables="phase = P5地火">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="5159875d-91c8-4c9a-94a0-6ffb7f41565e" Name="1. 获取直线实体 * 6 =&gt; 2" RegularExpression="^.{15}\S+ 105:Add:(?&lt;id&gt;4.{7}):.*BNpcID:1EBBF7:.*Heading:(?&lt;h&gt;[^:]*):.*PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="地板线条实体用于播放特效动画，实体位于弦中点，面向垂直于弦。" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="实体所在线条的方程可写为：(x - x1) s1 + (y - y1) c1 = 0, 其中 s1 c1 为 heading 的 sin 和 cos。" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="两条直线相交的交点坐标为：" DescriptionOverride="True"/>
                          <Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="x = (x1 s1 c2 - x2 s2 c1 - (y2-y1) c1 c2) / (s1 c2 - s2 c1)" DescriptionOverride="True"/>
                          <Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="y = (y2 c2 s1 - y1 c1 s2 + (x2-x1) s1 s2) / (s1 c2 - s2 c1)" DescriptionOverride="True"/>
                          <Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="需要分别记录六个实体的 id、x、y、h，id 从大到小为判定顺序（读条开始时即可预判）。" DescriptionOverride="True"/>
                          <Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="依次计算 1、2；3、4；5、6 的三个交点 O1 O2 O3，O1O3 中点即为处理机制的中心点。" DescriptionOverride="True"/>
                          <Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="计算出 O1 O2 O3 相对于中心点 O 的 dir-8（相邻两个点相差 ±2），1 2 之间即为第一次穿到的位置，2 3 间第二次，1 3 间起始/终止。" DescriptionOverride="True"/>
                          <Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="实体生成后 EObjAnimation 019D:1:2:0:0 为显示，019D:20:10:0:0 为发光。" DescriptionOverride="True"/>
                          <Action OrderNumber="10" ActionType="Placeholder" Asynchronous="False" Description="————————————————————————" DescriptionOverride="True"/>
                          <Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="1000" Asynchronous="False"/>
                          <Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="延迟一秒以便用读条初始化" DescriptionOverride="True"/>
                          <Action OrderNumber="13" ActionType="Placeholder" Asynchronous="False" Description="表格：id, x, y, h" DescriptionOverride="True"/>
                          <Action OrderNumber="14" ActionType="TableVariable" Asynchronous="False" TableVariableOp="SetLine" TableVariableName="U7a5_地火_直线实体" TableVariableExpression=",${id},${x},${y},${h}" TableVariableY="${t:U7a5_地火_直线实体.height} + 1"/>
                          <Action OrderNumber="15" ActionType="Placeholder" Asynchronous="False" Description="满 6 个：排序，计算 sin、cos" DescriptionOverride="True"/>
                          <Action OrderNumber="16" ActionType="TableVariable" Asynchronous="False" TableVariableOp="SortLine" TableVariableName="U7a5_地火_直线实体" TableVariableY="s-: ${_row[1]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${t:U7a5_地火_直线实体.height}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="17" ActionType="TableVariable" Asynchronous="False" TableVariableOp="SlicesSetAll" TableVariableName="U7a5_地火_直线实体" TableVariableExpression="${n: sin(${_this})}:${n: cos(${_this})}" TableVariableX="4">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${t:U7a5_地火_直线实体.height}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="18" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a5_地火_直线实体:${t:U7a5_地火_直线实体.hjoin(&quot;:&quot;, &quot;:&quot;, &quot;2,3,4&quot;)}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${t:U7a5_地火_直线实体.height}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="e9d8ab37-8c2f-415f-b4da-1056c5ac5bcc" Name="0. 初始化 =&gt; O2" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D72:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a5_地火"/>
                          <Action OrderNumber="3" ActionType="LogMessage" ExecutionDelayExpression="5000" LogMessageText="U7a5_地火_时间轴:${v:U7a5_地火_log}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="f79fa2b8-c62f-458d-982d-47145e756ed8" Name="Debug Log 正右 顺时针" RegularExpression="^.{15}\S+ 00:0038::(?i)u7a p5">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#13;&#10;Simulating: ${env:phase} &lt;se.10&gt;"/>
                          <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="[09:06:09.050] StartsCasting 14:4001A7B0:Pandora:9D72:unknown_9d72:4001A7B0:Pandora:5.700:99.99:99.99:0.00:-0.40" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="[09:06:08.744] 261 105:Add:4001A815:BNpcID:1EBBF7:Heading:-1.5709:PosX:97.0000:PosY:100.0000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[09:06:08.744] 261 105:Add:4001A816:BNpcID:1EBBF7:Heading:-0.7855:PosX:96.4142:PosY:103.5858:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="LogMessage" LogMessageText="[09:06:08.744] 261 105:Add:4001A814:BNpcID:1EBBF7:Heading:0.7854:PosX:96.4142:PosY:96.4142:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="6" ActionType="LogMessage" LogMessageText="[09:06:08.744] 261 105:Add:4001A817:BNpcID:1EBBF7:Heading:-3.1416:PosX:100.0000:PosY:110.0000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="7" ActionType="LogMessage" LogMessageText="[09:06:08.744] 261 105:Add:4001A813:BNpcID:1EBBF7:Heading:3.1416:PosX:100.0000:PosY:90.0000:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="8" ActionType="LogMessage" LogMessageText="[09:06:08.744] 261 105:Add:4001A812:BNpcID:1EBBF7:Heading:-0.7855:PosX:110.6569:PosY:89.3432:" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="false" Id="7392007d-452a-4d26-8a72-2918e245e36d" Name="Debug Log 正左 逆时针" Source="None">
                        <Actions>
                          <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="[00:14:54.308] StartsCasting 14:4000939F:Pandora:9D72:Fulgent Blade:4000939F:Pandora:5.700:100.00:100.00:0.00:0.00" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="[00:14:54.103] 261 105:Add:400093D2:BNpcID:1EBBF7:BNpcNameID:AD11:CastBuffID:43537:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4456451:CurrentWorldID:256:Heading:3.1416:IsCasting1:17:Job:8:Level:9:NPCTargetID:A611:PCTargetID:2080204:PosX:100.0000:PosY:90.0000:Radius:0.5000:Type:7:WeaponId:3" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="[00:14:54.103] 261 105:Add:400093D1:BNpcID:1EBBF7:CastBuffID:46609:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4521987:CurrentWorldID:256:Heading:0.7854:IsCasting1:17:Job:8:Level:9:PosX:89.3934:PosY:89.3934:Radius:0.5000:Type:7" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[00:14:54.103] 261 105:Add:400093D3:BNpcID:1EBBF7:BNpcNameID:AF11:CastBuffID:42769:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4390915:CurrentWorldID:256:Heading:1.5708:IsCasting1:17:Job:8:Level:9:NPCTargetID:AC11:PosX:103.0000:PosY:100.0000:Radius:0.5000:Type:7" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="LogMessage" LogMessageText="[00:14:54.103] 261 105:Add:400093D4:BNpcID:1EBBF7:BNpcNameID:AC11:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4325379:CurrentWorldID:256:Heading:-0.7855:NPCTargetID:A711:PCTargetID:2080304:PosX:103.5858:PosY:96.4142:Radius:0.5000:Type:7:WeaponId:3" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="6" ActionType="LogMessage" LogMessageText="[00:14:54.103] 261 105:Add:400093D6:BNpcID:1EBBF7:CastBuffID:44305:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4194307:CurrentWorldID:256:Heading:0.7854:IsCasting1:17:Job:175:Level:63:PosX:103.5858:PosY:103.5858:Radius:0.5000:TransformationId:32759:Type:7" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="7" ActionType="LogMessage" LogMessageText="[00:14:54.103] 261 105:Add:400093D5:BNpcID:1EBBF7:CastBuffID:46097:CastGroundTargetX:0.0000:CastGroundTargetY:0.0000:CastGroundTargetZ:0.0000:CurrentMP:4259843:CurrentWorldID:256:Heading:-3.1416:IsCasting1:17:PCTargetID:2080303:PosX:100.0000:PosY:110.0000:Radius:0.5000:Type:7:WeaponId:3" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="a2357157-e391-4457-ac20-33d8b5644b71" Name="2. 计算 =&gt; O1" RegularExpression="^_U7a5_地火_直线实体:(?&lt;x1&gt;[^:]*):(?&lt;y1&gt;[^:]*):(?&lt;s1&gt;[^:]*):(?&lt;c1&gt;[^:]*):(?&lt;x2&gt;[^:]*):(?&lt;y2&gt;[^:]*):(?&lt;s2&gt;[^:]*):(?&lt;c2&gt;[^:]*):(?&lt;x3&gt;[^:]*):(?&lt;y3&gt;[^:]*):(?&lt;s3&gt;[^:]*):(?&lt;c3&gt;[^:]*):(?&lt;x4&gt;[^:]*):(?&lt;y4&gt;[^:]*):(?&lt;s4&gt;[^:]*):(?&lt;c4&gt;[^:]*):(?&lt;x5&gt;[^:]*):(?&lt;y5&gt;[^:]*):(?&lt;s5&gt;[^:]*):(?&lt;c5&gt;[^:]*):(?&lt;x6&gt;[^:]*):(?&lt;y6&gt;[^:]*):(?&lt;s6&gt;[^:]*):(?&lt;c6&gt;[^:]*)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="1-2 3-4 5-6 三组交点坐标" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_x交点1" VariableExpression="(${x1} * ${s1} * ${c2} - ${x2} * ${s2} * ${c1} - (${y2} - ${y1}) * ${c1} * ${c2}) / (${s1} * ${c2} - ${s2} * ${c1})"/>
                          <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_y交点1" VariableExpression="(${y1} * ${c1} * ${s2} - ${y2} * ${c2} * ${s1} - (${x2} - ${x1}) * ${s1} * ${s2}) / (${c1} * ${s2} - ${c2} * ${s1})"/>
                          <Action OrderNumber="4" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_x交点2" VariableExpression="(${x3} * ${s3} * ${c4} - ${x4} * ${s4} * ${c3} - (${y4} - ${y3}) * ${c3} * ${c4}) / (${s3} * ${c4} - ${s4} * ${c3})"/>
                          <Action OrderNumber="5" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_y交点2" VariableExpression="(${y3} * ${c3} * ${s4} - ${y4} * ${c4} * ${s3} - (${x4} - ${x3}) * ${s3} * ${s4}) / (${c3} * ${s4} - ${c4} * ${s3})"/>
                          <Action OrderNumber="6" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_x交点3" VariableExpression="(${x5} * ${s5} * ${c6} - ${x6} * ${s6} * ${c5} - (${y6} - ${y5}) * ${c5} * ${c6}) / (${s5} * ${c6} - ${s6} * ${c5})"/>
                          <Action OrderNumber="7" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_y交点3" VariableExpression="(${y5} * ${c5} * ${s6} - ${y6} * ${c6} * ${s5} - (${x6} - ${x5}) * ${s5} * ${s6}) / (${c5} * ${s6} - ${c6} * ${s5})"/>
                          <Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="八边形的中心点坐标及处于的方位（只会在正点）" DescriptionOverride="True"/>
                          <Action OrderNumber="9" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_x中心" VariableExpression="(${v:tmp_x交点1} + ${v:tmp_x交点3}) / 2"/>
                          <Action OrderNumber="10" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_y中心" VariableExpression="(${v:tmp_y交点1} + ${v:tmp_y交点3}) / 2"/>
                          <Action OrderNumber="11" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a5_地火_中心dir4" VariableExpression="roundvec(${v:tmp_x中心} - 100, ${v:tmp_y中心} - 100, 4)"/>
                          <Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="第一、二组交点相对中心点的 dir8，以此判断顺逆" DescriptionOverride="True"/>
                          <Action OrderNumber="13" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a5_地火_交点1dir-8" VariableExpression="roundvec(${v:tmp_x交点1} - ${v:tmp_x中心}, ${v:tmp_y交点1} - ${v:tmp_y中心}, -8)"/>
                          <Action OrderNumber="14" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a5_地火_交点2dir-8" VariableExpression="roundvec(${v:tmp_x交点2} - ${v:tmp_x中心}, ${v:tmp_y交点2} - ${v:tmp_y中心}, -8)"/>
                          <Action OrderNumber="15" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a5_地火_is逆" VariableExpression="(${v:U7a5_地火_交点2dir-8} - ${v:U7a5_地火_交点1dir-8}) %% 8 = 2"/>
                          <Action OrderNumber="16" ActionType="Placeholder" Asynchronous="False" Description="下述三个参数可描述一组地火：" DescriptionOverride="True"/>
                          <Action OrderNumber="17" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a5_地火_log" VariableExpression="中心dir4:${v:U7a5_地火_中心dir4}:is逆:${v:U7a5_地火_is逆}:初始dir-8:${v:U7a5_地火_交点1dir-8}"/>
                          <Action OrderNumber="18" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a5_地火:${v:U7a5_地火_log}" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="19" ActionType="Variable" VariableOp="UnsetRegex" VariableName="^tmp_[xy](交点|中心)"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers/>
              </Folder>
              <Folder Id="4c568d4a-f4da-4ed2-b586-1d29eac2e615" Name="P4" Enabled="true">
                <Folders>
                  <Folder Id="5babfc7e-b241-491c-ba76-4d7383e637a0" Name="A. 开场" Enabled="true" RawEnvironmentVariables="phase = P4开场">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="2c3184cd-fb08-4b15-ae5b-f1817340a7b9" Name="0. 初始化 生成琳" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17833:([^:]*:){7}(?&lt;y&gt;[^:]+):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="94d09dc2-5020-49fe-bc64-6d4a3f6e360e" Name="C. 二运" Enabled="true" RawEnvironmentVariables="phase = P4二运">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="ca1c6f79-1ab4-456b-8195-da8a86c4e34b" Name="0. 初始化 时间结晶" RegularExpression="^.{15}\S+ 14:(?&lt;id&gt;4.{7}):[^:]+:9D30:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a4_二运"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="395cefa8-fc09-499e-b1f3-b7a634b73c60" Name="3. 处理红 / 蓝组   =&gt; O1" RegularExpression="^_U7a4_二运_红">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="row[1] = is长  row[2] = pIdx" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="TableVariable" Asynchronous="False" TableVariableOp="SortLine" TableVariableName="U7a4_二运_红" TableVariableY="n: ${_row[1]}, n: ${f:slice(${n: ${_row[2]} - 1}):${pd:U7a_cfg[P4二运pIdx2prio]}}"/>
                          <Action OrderNumber="3" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a4_二运_红_idx" ListVariableExpression="${t:U7a4_二运_红[2][${_idx}]}" ListVariableIndex="4"/>
                          <Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="此时为排序好的四个 idx" DescriptionOverride="True"/>
                          <Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="排除出蓝 pIdx" DescriptionOverride="True"/>
                          <Action OrderNumber="6" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=",1,2,3,4,5,6,7,8" ListVariableTarget="U7a4_二运_蓝_idx"/>
                          <Action OrderNumber="7" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="U7a4_二运_蓝_idx" ListVariableExpression="!${l:U7a4_二运_红_idx.contain(${_this})}" ListVariableTarget="U7a4_二运_蓝_idx"/>
                          <Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True"/>
                          <Action OrderNumber="9" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a4_二运_my红idx" VariableExpression="${l:U7a4_二运_红_idx.indexof(${v:myIdx})}"/>
                          <Action OrderNumber="10" ActionType="Variable" Asynchronous="False" VariableOp="Increment" VariableName="U7a4_二运_is红" VariableExpression="${v:U7a4_二运_my红idx} &gt; 0"/>
                          <Action OrderNumber="11" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a4_二运_红:${l:U7a4_二运_红_idx.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="ecef3fb8-9e74-4e5e-aa7a-62fd2efe8946" Name="1. 获取杂项debuff" RegularExpression="^.{15}\S+ 1A:99(?&lt;type&gt;[6CDE]):(?:[^:]|: )*:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
                            <Condition Enabled="true" Grouping="Or"/>
                          </Action>
                          <Action OrderNumber="2" ActionType="DictVariable" DictVariableOp="Set" DictVariableName="U7a4_二运_idx2Debuff" DictVariableKey="${l:party.indexof(${tid})}" DictVariableValue="${?d: 6 = 圣, C = 暗, D = 水, E = 冰 [${type}]}"/>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="86255f05-d2c9-42d5-9e5b-735a6463cdaf" Name="4. 处理杂项 debuff =&gt; O2" RegularExpression="^_U7a4_二运_红">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="500" Asynchronous="False"/>
                          <Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="排除有红 debuff 的人" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="DictVariable" Asynchronous="False" DictVariableOp="Filter" DictVariableValueType="Numeric" DictVariableName="U7a4_二运_idx2Debuff" DictVariableTarget="U7a4_二运_idx2Debuff" DictVariableValue="!${l:U7a4_二运_红_idx.contain(${_key})}"/>
                          <Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="如果字典仅剩 3 个 debuff：说明有人因为正在复活等原因没收到 debuff，填补没有 debuff 的人（固定缺少蓝暗）" DescriptionOverride="True"/>
                          <Action OrderNumber="5" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=",1,2,3,4,5,6,7,8" ListVariableTarget="tmp_缺人">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${d:U7a4_二运_idx2Debuff.size}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="6" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="tmp_缺人" ListVariableExpression="!${l:U7a4_二运_红_idx.contain(${_this})} &amp;&amp; !${d:U7a4_二运_idx2Debuff.ekey(${_this})}" ListVariableTarget="tmp_缺人">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${d:U7a4_二运_idx2Debuff.size}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="7" ActionType="DictVariable" Asynchronous="False" DictVariableOp="Set" DictVariableName="U7a4_二运_idx2Debuff" DictVariableKey="${l:tmp_缺人[1]}" DictVariableValue="暗">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${d:U7a4_二运_idx2Debuff.size}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="8" ActionType="ListVariable" Asynchronous="False" ListVariableName="tmp_缺人"/>
                          <Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="建立逆向字典" DescriptionOverride="True"/>
                          <Action OrderNumber="10" ActionType="DictVariable" Asynchronous="False" DictVariableOp="Merge" DictVariableName="U7a4_二运_idx2Debuff" DictVariableTarget="U7a4_二运_debuff2Idx"/>
                          <Action OrderNumber="11" ActionType="DictVariable" Asynchronous="False" DictVariableOp="SetAll" DictVariableName="U7a4_二运_debuff2Idx" DictVariableKey="${_val}" DictVariableValue="${_key}"/>
                          <Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" DescriptionOverride="True"/>
                          <Action OrderNumber="13" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a4_二运_my蓝" VariableExpression="${d:U7a4_二运_debuff2Idx.keyof(${v:myIdx})}"/>
                          <Action OrderNumber="14" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a4_二运_蓝:${d:U7a4_二运_debuff2Idx.joinall(&quot;&quot;, &quot;&quot;)}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="c6e96a57-b2fd-4f09-90fd-b02d811f05ae" Name="6. 获取减速连线 =&gt; O3" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;4.{7}):[^:]*:4.{7}:[^:]*:[^:]*:[^:]*:0085:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase; id" DescriptionOverride="True">
                            <Condition Enabled="true" Grouping="Or"/>
                          </Action>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a4_二运_isTL慢" VariableExpression="${d:U7a4_二运_沙漏isTL[${sid}]} = 1"/>
                          <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a4_二运_is人群侧红" VariableExpression="${v:U7a4_二运_isTL慢} = (${v:U7a4_二运_my红idx} = 1 || ${v:U7a4_二运_my红idx} = 4)">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is红}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="4" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a4_二运:isTL慢:${v:U7a4_二运_isTL慢}:is红:${v:U7a4_二运_is红}:type:${if: ${v:U7a4_二运_is红} ? ${v:U7a4_二运_my红idx} : ${v:U7a4_二运_my蓝} }" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${d:U7a4_二运_沙漏isTL.ekey(${sid})}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="6e93da95-18ab-45a2-86e5-f91b6df77fad" Name="5. 获取沙漏 for 6" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17837:([^:]*:){9}(?&lt;h&gt;-?1[^:]+)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="只存储左上和右上，左上的 h &gt; 0 （pi/3）" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="DictVariable" DictVariableOp="Set" DictVariableValueType="Numeric" DictVariableName="U7a4_二运_沙漏isTL" DictVariableKey="${id}" DictVariableValue="${h} &gt; 0"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="fcad38e9-56cf-4d3f-a292-bbc6e853ec95" Name="2. 获取红debuff * 4 =&gt; 3 / 4" RegularExpression="^.{15}\S+ 1A:CBF:[^:]+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="TableVariable" Asynchronous="False" TableVariableOp="InsertLine" TableVariableName="U7a4_二运_红" TableVariableExpression=",${n: ${t}&gt;20},${l:party.indexof(${tid})}" TableVariableY="1"/>
                          <Action OrderNumber="2" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a4_二运_红" LogProcess="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${t:U7a4_二运_红.height}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="e8d60485-09c4-486e-84db-9b556cab8d2f" Name="8. 记录白圈" RegularExpression="^.{15}\S+ 105:Add:(?&lt;id&gt;4.{7}).*:BNpcID:1EBD41:.+PosX:(?&lt;x&gt;[^:]+):PosY:(?&lt;y&gt;[^:]+):">
                        <Actions>
                          <Action OrderNumber="1" ActionType="TableVariable" Asynchronous="False" TableVariableOp="InsertLine" TableVariableName="U7a4_二运_白圈" TableVariableExpression=",${id},${x},${y}" TableVariableY="1"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="c5f2e1fe-7efe-4d62-9817-ac28be8bc97f" Name="7. 撞头 =&gt; O4" RegularExpression="^.{15}\S+ 16:4.{7}:[^:]*:9D31:[^:]*:(?&lt;tid&gt;1.{7}):(?&lt;tn&gt;[^:]*):([^:]*:){37}0:(?&lt;count&gt;[^:]*)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="U7a4_二运_撞头:${tid}:${tn}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="c4c2ce99-1cbb-450c-862b-7220847795ef" Name="9. 光波 =&gt; O5" RegularExpression="^.{15}\S+ 107:4.{7}:9D3C:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="U7a4_二运_光波dir4" ListVariableExpression="roundir(${h} + π, 4)"/>
                          <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a4_二运_dir-4" VariableExpression="${?d: 10 = 0, 12 = 1, 32 = 2, 30 = 3 [${l:U7a4_二运_光波dir4.join(&quot;&quot;)}]}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a4_二运_光波dir4.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="3" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a4_二运_光波1:dir4:${l:U7a4_二运_光波dir4[1]}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a4_二运_光波dir4.size}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="4" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a4_二运_光波2:dir-4:${v:U7a4_二运_dir-4}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a4_二运_光波dir4.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="9952e57b-d07c-49da-b80b-f26aaf213232" Name="Debug Log    /e u7a p42 12345678 （idx：红冰*2 红风*2 蓝冰水圣暗）左上紫线 右上光波" RegularExpression="^.{15}\S+ 00:0038::(?i)u7a p42 (.)(.)(.)(.)(.)(.)(.)(.)">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#13;&#10;Simulating: ${env:phase} &lt;se.10&gt;"/>
                          <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="[19:27:15.200] StartsCasting 14:40009B4C:Usurper of Frost:9D30:Crystallize Time:40009B4C:Usurper of Frost:9.700:99.99:105.00:0.00:0.62" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="0.84 * 1000"/>
                          <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="[19:27:16.039] StatusAdd 1A:CBF:Wyrmclaw:17.00:E0000000::${l:party[$1]}:队员:00:141215:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="LogMessage" LogMessageText="[19:27:16.039] StatusAdd 1A:CBF:Wyrmclaw:17.00:E0000000::${l:party[$2]}:队员:00:157247:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="6" ActionType="LogMessage" LogMessageText="[19:27:16.039] StatusAdd 1A:CBF:Wyrmclaw:40.00:E0000000::${l:party[$3]}:队员:00:142328:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="7" ActionType="LogMessage" LogMessageText="[19:27:16.039] StatusAdd 1A:CBF:Wyrmclaw:40.00:E0000000::${l:party[$4]}:队员:00:142359:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="8" ActionType="LogMessage" LogMessageText="[19:27:16.039] StatusAdd 1A:99E:冰:14.00:E0000000::${l:party[$1]}:队员:00:141215:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="9" ActionType="LogMessage" LogMessageText="[19:27:16.039] StatusAdd 1A:99E:冰:14.00:E0000000::${l:party[$2]}:队员:00:157247:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="10" ActionType="LogMessage" LogMessageText="[19:27:16.039] StatusAdd 1A:99E:冰:14.00:E0000000::${l:party[$5]}:队员:00:157227:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="11" ActionType="LogMessage" LogMessageText="[19:27:16.039] StatusAdd 1A:99D:水:12.00:E0000000::${l:party[$6]}:队员:00:156987:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="12" ActionType="LogMessage" LogMessageText="[19:27:16.039] StatusAdd 1A:996:圣:17.00:E0000000::${l:party[$7]}:队员:00:226089:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="13" ActionType="LogMessage" LogMessageText="[19:27:16.039] StatusAdd 1A:99C:暗:00.00:E0000000::${l:party[$8]}:队员:00:226089:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="14" ActionType="LogMessage" LogMessageText="[19:27:15.926] AddCombatant 03:40009B95:Sorrow's Hourglass:00:64:0000:00::9823:17837:188300:188300:10000:10000:::90.47:94.50:0.00:1.05" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="15" ActionType="LogMessage" LogMessageText="[19:27:16.037] AddCombatant 03:40009B99:Sorrow's Hourglass:00:64:0000:00::9823:17837:188300:188300:10000:10000:::109.53:94.50:0.00:-1.05" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="3.28 * 1000"/>
                          <Action OrderNumber="17" ActionType="LogMessage" LogMessageText="[19:27:19.324] Tether 23:40009B98:Sorrow's Hourglass:40009B4B:Oracle of Darkness:0000:0000:0085:40009B4B:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="18" ActionType="LogMessage" LogMessageText="[19:27:19.324] Tether 23:40009B95:Sorrow's Hourglass:40009B4B:Oracle of Darkness:0000:0000:0085:40009B4B:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="10.40 * 1000"/>
                          <Action OrderNumber="20" ActionType="LogMessage" LogMessageText="[19:27:29.716] AOEActionEffect 16:40009818:Drachen Wanderer:9D31:Longing of the Lost:${l:party[$1]}:队员:750603:7BC70000:10:CBF0000:1B:9D318000:0:0:0:0:0:0:0:0:0:0:157247:157247:10000:10000:::112.32:100.02:0.00:-1.55:44:44:0:10000:::112.07:97.68:0.00:0.39:0000720B:0:1:00::01:9D31:9D31:2.100:8FE2" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="21" ActionType="LogMessage" LogMessageText="[19:27:29.805] AOEActionEffect 16:40009817:Drachen Wanderer:9D31:Longing of the Lost:${l:party[$2]}:队员:750603:0:10:CBF0000:1B:9D318000:0:0:0:0:0:0:0:0:0:0:141215:141215:3040:10000:::87.75:100.14:0.00:1.57:44:44:0:10000:::87.79:97.94:0.00:-0.40:0000720C:0:1:00::01:9D31:9D31:2.100:6FBE" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="22" ActionType="Placeholder" ExecutionDelayExpression="0.37 * 1000"/>
                          <Action OrderNumber="23" ActionType="LogMessage" LogMessageText="[19:27:30.094] 261 105:Add:40009B9F:BNpcID:1EBD41:PosX:112.0658:PosY:97.6755:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="24" ActionType="Placeholder" ExecutionDelayExpression="0.33 * 1000"/>
                          <Action OrderNumber="25" ActionType="LogMessage" LogMessageText="[19:27:30.418] 261 105:Add:40009BA0:BNpcID:1EBD41:PosX:87.7896:PosY:97.9406:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="26" ActionType="Placeholder" ExecutionDelayExpression="3.12 * 1000"/>
                          <Action OrderNumber="27" ActionType="LogMessage" LogMessageText="[19:27:33.537] 263 107:40009817:9D3C:119.999:100.009:0.000:-1.571" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="28" ActionType="Placeholder" ExecutionDelayExpression="0.97 * 1000"/>
                          <Action OrderNumber="29" ActionType="LogMessage" LogMessageText="[19:27:34.512] AOEActionEffect 16:40009818:Drachen Wanderer:9D31:Longing of the Lost:${l:party[$3]}:队员:750003:51B14001:10:CBF0000:1B:9D318000:0:0:0:0:0:0:0:0:0:0:142328:142328:8500:10000:::107.24:111.33:0.00:3.02:44:44:0:10000:::107.57:109.84:0.00:-1.17:00007219:0:1:00::01:9D31:9D31:2.100:506D" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="30" ActionType="LogMessage" LogMessageText="[19:27:34.602] AOEActionEffect 16:40009816:Drachen Wanderer:9D31:Longing of the Lost:${l:party[$4]}:队员:750603:E7AB0000:10:CBF0000:1B:9D318000:0:0:0:0:0:0:0:0:0:0:142359:142359:10000:10000:::94.62:111.16:0.00:-2.55:44:44:0:10000:::92.55:109.99:0.00:1.18:0000721B:0:1:00::01:9D31:9D31:2.100:B024" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="31" ActionType="Placeholder" ExecutionDelayExpression="0.67 * 1000"/>
                          <Action OrderNumber="32" ActionType="LogMessage" LogMessageText="[19:27:35.181] 261 105:Add:40009BA1:BNpcID:1EBD41:PosX:107.5674:PosY:109.8358:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="33" ActionType="LogMessage" LogMessageText="[19:27:35.181] 261 105:Add:40009BA2:BNpcID:1EBD41:PosX:92.5514:PosY:109.9926:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="34" ActionType="Placeholder" ExecutionDelayExpression="4.75 * 1000"/>
                          <Action OrderNumber="35" ActionType="LogMessage" LogMessageText="[19:27:39.931] 263 107:40009817:9D3C:100.009:79.989:0.000:0.000" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="ae303175-9daa-4ef8-977a-5f1dffeffc76" Name="B. 一运" Enabled="true" RawEnvironmentVariables="phase = P4一运">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="3abf0cb9-3186-4556-bede-022b44c6633f" Name="0. 初始化 天光轮回" RegularExpression="^.{15}\S+ 15:4.{7}:[^:]*:9CFA:" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="（一运读条和分摊标记同时出现 所以用更早的）" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="SetString" VariableName="U7a_phase" VariableExpression="${env:phase}"/>
                          <Action OrderNumber="3" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a4_一运"/>
                          <Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="从配置提取 pIdx 和 prio 相互转换的列表" DescriptionOverride="True"/>
                          <Action OrderNumber="5" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=":${?d:&#13;&#10;  翻绳THMR = 1:2:3:4:5:6:7:8,&#13;&#10;  翻绳HTMR = 3:4:1:2:5:6:7:8,&#13;&#10;  翻绳HTRM = 3:4:1:2:7:8:5:6,&#13;&#10;  分摊THD  = 1:2:3:4:5:6:7:8,&#13;&#10;  分摊HTD  = 3:4:1:2:5:6:7:8,&#13;&#10;  分摊HTD41= 3:4:1:2:8:7:6:5,&#13;&#10;  分摊DHT  = 8:7:6:5:4:3:2:1&#13;&#10;  [${pd:U7a_cfg[P4一运]}]&#13;&#10;}" ListVariableTarget="U7a4_一运_pIdx2prio"/>
                          <Action OrderNumber="6" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="U7a4_一运_prio2pIdx" ListVariableExpression="${l:U7a4_一运_pIdx2prio.indexof(${_idx})}" ListVariableIndex="8"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="5f3f2eef-21fe-44a3-93de-12fe0ea915f7" Name="2. 处理初始点名 =&gt; O1" RegularExpression="^_U7a4_一运_摊">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="将分摊两人 idx 顺序处理为优先级顺序，并生成两人优先级的列表" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SortByKeys" ListVariableName="U7a4_一运_摊_pIdx" ListVariableExpression="n+: ${l:U7a4_一运_pIdx2prio[${_this}]}"/>
                          <Action OrderNumber="3" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Copy" ListVariableName="U7a4_一运_摊_pIdx" ListVariableTarget="U7a4_一运_摊_prio"/>
                          <Action OrderNumber="4" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a4_一运_摊_prio" ListVariableExpression="${l:U7a4_一运_pIdx2prio[${_this}]}"/>
                          <Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="分摊基准：" DescriptionOverride="True"/>
                          <Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="  将 prio2pIdx 列表（代表八个 idx 的站位）根据分摊点名重新排序（分摊确定高低之后的新站位）" DescriptionOverride="True"/>
                          <Action OrderNumber="7" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SortByKeys" ListVariableName="U7a4_一运_prio2pIdx" ListVariableExpression="n+: ${_idx} &gt; 4, n-: ${l:U7a4_一运_摊_pIdx[1]} = ${_this}, n+: ${l:U7a4_一运_摊_pIdx[2]} = ${_this}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^分摊" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="  此时 1-8 为左侧从上到下、右侧从上到下的八人 idx" DescriptionOverride="True"/>
                          <Action OrderNumber="9" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a4_一运_摊:pIdx:${l:U7a4_一运_摊_pIdx.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^分摊" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="1590f03e-e93a-4b82-b7bd-4e3ed0b622bc" Name="3. 获取连线 * 4 =&gt; 4" RegularExpression="^.{15}\S+ 23:(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:[^:]*:[^:]*:006E">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
                            <Condition Enabled="true" Grouping="Or"/>
                          </Action>
                          <Action OrderNumber="2" ActionType="DictVariable" Asynchronous="False" DictVariableOp="Set" DictVariableName="U7a4_一运_环_pIdx" DictVariableKey="${l:party.indexof(${sid})}" DictVariableValue="${l:party.indexof(${tid})}"/>
                          <Action OrderNumber="3" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a4_一运_环:${d:U7a4_一运_环_pIdx.joinall}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${d:U7a4_一运_环_pIdx.size}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="80c360a3-e17e-4c51-93f0-43b07131925f" Name="4b. 处理连线（分摊基准）=&gt; O2" RegularExpression="^_U7a4_一运_环">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="环/无线：指初始站位    蝴蝶/光波：指换位后站位" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="【处理连线】" DescBgColor="90a0a8" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_is连线分摊北" VariableExpression="${d:U7a4_一运_环_pIdx.ekey(${l:U7a4_一运_摊_pIdx[1]})}"/>
                          <Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="从分摊者开始" DescriptionOverride="True"/>
                          <Action OrderNumber="5" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableExpressionType="Numeric" ListVariableName="U7a4_一运_环_pIdx" ListVariableExpression="${v:tmp_is连线分摊北} ? ${l:U7a4_一运_摊_pIdx[1]} : ${l:U7a4_一运_摊_pIdx[2]}"/>
                          <Action OrderNumber="6" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a4_一运_环_pIdx" ListVariableExpression="${d:U7a4_一运_环_pIdx[${l:U7a4_一运_环_pIdx[-1]}]}"/>
                          <Action OrderNumber="7" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a4_一运_环_pIdx" ListVariableExpression="${d:U7a4_一运_环_pIdx[${l:U7a4_一运_环_pIdx[-1]}]}"/>
                          <Action OrderNumber="8" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a4_一运_环_pIdx" ListVariableExpression="${d:U7a4_一运_环_pIdx[${l:U7a4_一运_环_pIdx[-1]}]}"/>
                          <Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="将环调整至 2 号 &lt; 4 号" DescriptionOverride="True"/>
                          <Action OrderNumber="10" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_环_pIdx.join(:, &quot;1,4,3,2&quot;)}" ListVariableTarget="U7a4_一运_环_pIdx">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a4_一运_环_pIdx[2]}" ExpressionTypeL="Numeric" ExpressionR="${l:U7a4_一运_环_pIdx[4]}" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="11" ActionType="Placeholder" Asynchronous="False" Description="改为 左上 右上 左下 右下 四人 pIdx" DescriptionOverride="True"/>
                          <Action OrderNumber="12" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_环_pIdx.join(:, &quot;${if: ${v:tmp_is连线分摊北} ? 1,3,2,4 : 2,4,1,3 }&quot;)}" ListVariableTarget="U7a4_一运_蝴蝶_pIdx"/>
                          <Action OrderNumber="13" ActionType="Placeholder" Asynchronous="False" Description="上下两组各自调整顺序" DescriptionOverride="True"/>
                          <Action OrderNumber="14" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_蝴蝶_pIdx.join(:, &quot;2,1,3,4&quot;)}" ListVariableTarget="U7a4_一运_蝴蝶_pIdx">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a4_一运_pIdx2prio[${l:U7a4_一运_蝴蝶_pIdx[1]}]}" ExpressionTypeL="String" ExpressionR="${l:U7a4_一运_pIdx2prio[${l:U7a4_一运_蝴蝶_pIdx[2]}]}" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="15" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_蝴蝶_pIdx.join(:, &quot;1,2,4,3&quot;)}" ListVariableTarget="U7a4_一运_蝴蝶_pIdx">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a4_一运_pIdx2prio[${l:U7a4_一运_蝴蝶_pIdx[3]}]}" ExpressionTypeL="String" ExpressionR="${l:U7a4_一运_pIdx2prio[${l:U7a4_一运_蝴蝶_pIdx[4]}]}" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="16" ActionType="Placeholder" Asynchronous="False" Description="【处理分散】（无连线）" DescBgColor="90a0a8" DescriptionOverride="True"/>
                          <Action OrderNumber="17" ActionType="Placeholder" Asynchronous="False" Description="无点名 左上 右上 左下 右下 四人 pIdx" DescriptionOverride="True"/>
                          <Action OrderNumber="18" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="U7a4_一运_prio2pIdx" ListVariableExpression="!${l:U7a4_一运_环_pIdx.contain(${_this})}" ListVariableTarget="U7a4_一运_无线_pIdx"/>
                          <Action OrderNumber="19" ActionType="Placeholder" Asynchronous="False" Description="改为引导光波 左上 右上 左下 右下 四人 pIdx" DescriptionOverride="True"/>
                          <Action OrderNumber="20" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_无线_pIdx.join(:, &quot;1,3,2,4&quot;)}" ListVariableTarget="U7a4_一运_光波_pIdx"/>
                          <Action OrderNumber="21" ActionType="Placeholder" Asynchronous="False" Description="【自身点名】" DescBgColor="90a0a8" DescriptionOverride="True"/>
                          <Action OrderNumber="22" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_my位置" VariableExpression="${l:U7a4_一运_蝴蝶_pIdx.indexof(${v:myIdx})} + ${l:U7a4_一运_光波_pIdx.indexof(${v:myIdx})}"/>
                          <Action OrderNumber="23" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_有线" VariableExpression="${l:U7a4_一运_蝴蝶_pIdx.contain(${v:myIdx})}"/>
                          <Action OrderNumber="24" ActionType="Placeholder" Asynchronous="False" Description="【输出】" DescBgColor="90a0a8" DescriptionOverride="True"/>
                          <Action OrderNumber="25" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a4_一运_蝴蝶_role" ListVariableExpression="${l:roleDesc[${l:U7a4_一运_蝴蝶_pIdx[${_idx}]}]}" ListVariableIndex="4"/>
                          <Action OrderNumber="26" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a4_一运_光波_role" ListVariableExpression="${l:roleDesc[${l:U7a4_一运_光波_pIdx[${_idx}]}]}" ListVariableIndex="4"/>
                          <Action OrderNumber="27" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a4_一运:分摊基准:有线:${v:tmp_有线}:my位置:${v:tmp_my位置}:蝴蝶pIdx:${l:U7a4_一运_蝴蝶_pIdx.join(&quot;&quot;)}:光波pIdx:${l:U7a4_一运_光波_pIdx.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="28" ActionType="Variable" VariableName="tmp_my位置"/>
                          <Action OrderNumber="29" ActionType="Variable" VariableName="tmp_有线"/>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^分摊" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="011e5c4a-ac37-4740-802f-4a98d0032ac7" Name="5. 神圣之翼 =&gt; O3" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D2(?&lt;type&gt;3|4):" Sequential="True">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetNumeric" VariableName="U7a4_一运_isRSafe" VariableExpression="${type} = 3"/>
                          <Action OrderNumber="2" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a4_一运_半场:isRSafe:${v:U7a4_一运_isRSafe}" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="b9be56fd-ec5e-46b3-85df-15a2f4e5d347" Name="1. 水分摊点名 * 2 =&gt; 2" RegularExpression="^.{15}\S+ 1B:(?&lt;tid&gt;.{8}):[^:]*:[^:]*:[^:]*:003E:">
                        <Actions>
                          <Action OrderNumber="1" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a4_一运_摊_pIdx" ListVariableExpression="${l:party.indexof(${tid})}"/>
                          <Action OrderNumber="2" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SortNumericAsc" ListVariableName="U7a4_一运_摊_pIdx"/>
                          <Action OrderNumber="3" ActionType="LogMessage" Asynchronous="False" LogMessageText="_U7a4_一运_摊:${l:U7a4_一运_摊_pIdx.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a4_一运_摊_pIdx.size}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Id="97c5138e-a31f-4062-a52a-090b4e817054" Name="Debug Log  /e u7a p41 38 1365（分摊的idx、线的idx）" RegularExpression="^.{15}\S+ 00:0038::(?i)u7a p41 (\d)(\d) (\d)(\d)(\d)(\d)$">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/e [Debug]&#13;&#10;Simulating: ${env:phase} &lt;se.10&gt;"/>
                          <Action OrderNumber="2" ActionType="LogMessage" Asynchronous="False" LogMessageText="[19:25:59.312] ActionEffect 15:40009818:Usurper of Frost:9CFA:Drachen Armor:" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="9.30 * 1000" Asynchronous="False"/>
                          <Action OrderNumber="4" ActionType="LogMessage" Asynchronous="False" LogMessageText="[19:26:08.611] TargetIcon 1B:${l:party[$1]}:队员$1:0000:0000:003E:${l:party[$1]}:0000:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="5" ActionType="LogMessage" Asynchronous="False" LogMessageText="[19:26:08.611] TargetIcon 1B:${l:party[$2]}:队员$2:0000:0000:003E:${l:party[$2]}:0000:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="5.90 * 1000" Asynchronous="False"/>
                          <Action OrderNumber="7" ActionType="LogMessage" Asynchronous="False" LogMessageText="[19:26:14.517] Tether 23:${l:party[$3]}:队员$3:${l:party[$4]}:队员$4:0000:0000:006E:${l:party[$4]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="8" ActionType="LogMessage" Asynchronous="False" LogMessageText="[19:26:14.517] Tether 23:${l:party[$4]}:队员$4:${l:party[$5]}:队员$5:0000:0000:006E:${l:party[$5]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="9" ActionType="LogMessage" Asynchronous="False" LogMessageText="[19:26:14.517] Tether 23:${l:party[$5]}:队员$5:${l:party[$6]}:队员$6:0000:0000:006E:${l:party[$6]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="10" ActionType="LogMessage" Asynchronous="False" LogMessageText="[19:26:14.517] Tether 23:${l:party[$6]}:队员$6:${l:party[$3]}:队员$3:0000:0000:006E:${l:party[$3]}:000F:0000" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="13.40 * 1000" Asynchronous="False"/>
                          <Action OrderNumber="12" ActionType="LogMessage" Asynchronous="False" LogMessageText="[19:26:27.914] StartsCasting 14:40009B4C:Usurper of Frost:9D24:Hallowed Wings:" LogProcess="True" LogProcessACT="True"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="296c0a15-78fa-4bb4-92ca-9f02dc6c2140" Name="4a. 处理连线（翻绳）    =&gt; O2" RegularExpression="^_U7a4_一运_环">
                        <Actions>
                          <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="环/无线：指初始站位    蝴蝶/光波：指换位后站位" DescriptionOverride="True"/>
                          <Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="pIdx：小队列表顺序   prio：上下半场左到右站位顺序   先将 pIdx 转换为 prio" DescriptionOverride="True"/>
                          <Action OrderNumber="3" ActionType="DictVariable" Asynchronous="False" DictVariableOp="Merge" DictVariableName="U7a4_一运_环_pIdx" DictVariableTarget="U7a4_一运_环_prio"/>
                          <Action OrderNumber="4" ActionType="DictVariable" Asynchronous="False" DictVariableOp="SetAll" DictVariableName="U7a4_一运_环_prio" DictVariableKey="${l:U7a4_一运_pIdx2prio[${_key}]}" DictVariableValue="${l:U7a4_一运_pIdx2prio[${_val}]}"/>
                          <Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="【处理连线】" DescBgColor="90a0a8" DescriptionOverride="True"/>
                          <Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="从优先级最高的起始" DescriptionOverride="True"/>
                          <Action OrderNumber="7" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a4_一运_环_prio" ListVariableExpression="${d:U7a4_一运_环_prio.minkey}"/>
                          <Action OrderNumber="8" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a4_一运_环_prio" ListVariableExpression="${d:U7a4_一运_环_prio[${l:U7a4_一运_环_prio[-1]}]}"/>
                          <Action OrderNumber="9" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a4_一运_环_prio" ListVariableExpression="${d:U7a4_一运_环_prio[${l:U7a4_一运_环_prio[-1]}]}"/>
                          <Action OrderNumber="10" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Push" ListVariableName="U7a4_一运_环_prio" ListVariableExpression="${d:U7a4_一运_环_prio[${l:U7a4_一运_环_prio[-1]}]}"/>
                          <Action OrderNumber="11" ActionType="Placeholder" Asynchronous="False" Description="将环调整至 2 号 &lt; 4 号" DescriptionOverride="True"/>
                          <Action OrderNumber="12" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_环_prio.join(:, &quot;1,4,3,2&quot;)}" ListVariableTarget="U7a4_一运_环_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${l:U7a4_一运_环_prio[2]}" ExpressionTypeL="Numeric" ExpressionR="${l:U7a4_一运_环_prio[4]}" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="13" ActionType="Placeholder" Asynchronous="False" Description="根据 2 3 4 位的 prio，判断环的类型：蝴蝶（1&lt;3&lt;2&lt;4）  方形（1&lt;2&lt;4&lt;3）  沙漏（1&lt;2&lt;3&lt;4）" DescriptionOverride="True"/>
                          <Action OrderNumber="14" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a4_一运_环_type" VariableExpression="${if: ${l:U7a4_一运_环_prio[2]} &gt; ${l:U7a4_一运_环_prio[3]} &#13;&#10;  ? 蝴蝶&#13;&#10;  : ${if: ${l:U7a4_一运_环_prio[3]} &gt; ${l:U7a4_一运_环_prio[4]} ? 方形 : 沙漏 }&#13;&#10;}"/>
                          <Action OrderNumber="15" ActionType="LogMessage" Asynchronous="False" DescBgColor="fdd" LogMessageText="P4 一运 未知错误：请复制反馈以下内容&#13;&#10;---&#13;&#10;${_event}&#13;&#10;idx = ${v:myIdx}&#13;&#10;party = ${l:party.join()}&#13;&#10;l:U7a4_一运_摊_pIdx = ${l:U7a4_一运_摊_pIdx.join(&quot;&quot;)}&#13;&#10;l:U7a4_一运_pIdx2prio = ${l:U7a4_一运_pIdx2prio.join()}&#13;&#10;d:U7a4_一运_环_pIdx = ${d:U7a4_一运_环_pIdx.joinall()}&#13;&#10;d:U7a4_一运_环_prio = ${d:U7a4_一运_环_prio.joinall()}&#13;&#10;l:U7a4_一运_环_prio = ${l:U7a4_一运_环_prio.join()}">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_环_type}" ExpressionTypeL="String" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="16" ActionType="Placeholder" Asynchronous="False" Description="换成蝴蝶后 左上 右上 左下 右下 四人 prio" DescriptionOverride="True"/>
                          <Action OrderNumber="17" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_环_prio.join(:, &quot;1,3,2,4&quot;)}" ListVariableTarget="U7a4_一运_蝴蝶_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_环_type}" ExpressionTypeL="String" ExpressionR="蝴蝶" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="18" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_环_prio.join(:, &quot;${if: ${pd:U7a_cfg[P4一运方形is左换]}  &#13;&#10;  ? 4,2,1,3&#13;&#10;  : 1,3,4,2&#13;&#10;}&quot;)}" ListVariableTarget="U7a4_一运_蝴蝶_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_环_type}" ExpressionTypeL="String" ExpressionR="方形" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="19" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_环_prio.join(:, &quot;${if: ${pd:U7a_cfg[P4一运沙漏is主斜换]}&#13;&#10;  ? 4,2,3,1&#13;&#10;  : 1,3,2,4&#13;&#10;}&quot;)}" ListVariableTarget="U7a4_一运_蝴蝶_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_环_type}" ExpressionTypeL="String" ExpressionR="沙漏" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="20" ActionType="Placeholder" Asynchronous="False" Description="连线需要换位的两人的 prio [原本在上半场的, 原本在下半场的]" DescriptionOverride="True"/>
                          <Action OrderNumber="21" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":0:0" ListVariableTarget="U7a4_一运_连线换位_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_环_type}" ExpressionTypeL="String" ExpressionR="蝴蝶" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="22" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_蝴蝶_prio.join(:, &quot;${if: ${pd:U7a_cfg[P4一运方形is左换]}  &#13;&#10;  ? 3,1&#13;&#10;  : 4,2&#13;&#10;}&quot;)}" ListVariableTarget="U7a4_一运_连线换位_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_环_type}" ExpressionTypeL="String" ExpressionR="方形" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="23" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_蝴蝶_prio.join(:, &quot;${if: ${pd:U7a_cfg[P4一运沙漏is主斜换]}&#13;&#10;  ? 4,1&#13;&#10;  : 3,2&#13;&#10;}&quot;)}" ListVariableTarget="U7a4_一运_连线换位_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_环_type}" ExpressionTypeL="String" ExpressionR="沙漏" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="24" ActionType="Placeholder" Asynchronous="False" Description="连线组的分摊是否在北：" DescriptionOverride="True"/>
                          <Action OrderNumber="25" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_is连线分摊北" VariableExpression="${l:U7a4_一运_摊_prio.contain(${l:U7a4_一运_蝴蝶_prio[1]})} || ${l:U7a4_一运_摊_prio.contain(${l:U7a4_一运_蝴蝶_prio[2]})} "/>
                          <Action OrderNumber="26" ActionType="Placeholder" Asynchronous="False" Description="【处理分散】（无连线）" DescBgColor="90a0a8" DescriptionOverride="True"/>
                          <Action OrderNumber="27" ActionType="Placeholder" Asynchronous="False" Description="无点名 左上 右上 左下 右下 四人 prio" DescriptionOverride="True"/>
                          <Action OrderNumber="28" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=",1,2,3,4,5,6,7,8" ListVariableTarget="U7a4_一运_无线_prio"/>
                          <Action OrderNumber="29" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="U7a4_一运_无线_prio" ListVariableExpression="!${l:U7a4_一运_环_prio.contain(${_this})}" ListVariableTarget="U7a4_一运_无线_prio"/>
                          <Action OrderNumber="30" ActionType="Placeholder" Asynchronous="False" Description="无点名组分摊者是四人中的第几个" DescriptionOverride="True"/>
                          <Action OrderNumber="31" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_无线分摊idx" VariableExpression="${l:U7a4_一运_无线_prio.indexof(${l:U7a4_一运_摊_prio[1]})} + ${l:U7a4_一运_无线_prio.indexof(${l:U7a4_一运_摊_prio[2]})}"/>
                          <Action OrderNumber="32" ActionType="Placeholder" Asynchronous="False" Description="无点名组是否换位、是左侧或右侧换位" DescriptionOverride="True"/>
                          <Action OrderNumber="33" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a4_一运_无线换位侧" VariableExpression="${if: ${v:tmp_无线分摊idx} % 2 = 1 ? 左 : 右 }">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tmp_is连线分摊北}" ExpressionTypeL="String" ExpressionR="${v:tmp_无线分摊idx} &lt;= 2" ExpressionTypeR="Numeric" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="34" ActionType="Variable" Asynchronous="False" VariableName="tmp_is连线分摊北"/>
                          <Action OrderNumber="35" ActionType="Placeholder" Asynchronous="False" Description="换位后引导光波 左上 右上 左下 右下 四人 prio" DescriptionOverride="True"/>
                          <Action OrderNumber="36" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_无线_prio.join(:, &quot;1,2,3,4&quot;)}" ListVariableTarget="U7a4_一运_光波_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_无线换位侧}" ExpressionTypeL="String" ExpressionR="" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="37" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_无线_prio.join(:, &quot;3,2,1,4&quot;)}" ListVariableTarget="U7a4_一运_光波_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_无线换位侧}" ExpressionTypeL="String" ExpressionR="左" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="38" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_无线_prio.join(:, &quot;1,4,3,2&quot;)}" ListVariableTarget="U7a4_一运_光波_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_无线换位侧}" ExpressionTypeL="String" ExpressionR="右" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="39" ActionType="Placeholder" Asynchronous="False" Description="无连线需要换位的两人的 pIdx" DescriptionOverride="True"/>
                          <Action OrderNumber="40" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":0:0" ListVariableTarget="U7a4_一运_无线换位_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_无线换位侧}" ExpressionTypeL="String" ExpressionR="" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="41" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_光波_prio.join(:, &quot;3,1&quot;)}" ListVariableTarget="U7a4_一运_无线换位_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_无线换位侧}" ExpressionTypeL="String" ExpressionR="左" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="42" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_一运_光波_prio.join(:, &quot;4,2&quot;)}" ListVariableTarget="U7a4_一运_无线换位_prio">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_无线换位侧}" ExpressionTypeL="String" ExpressionR="右" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="43" ActionType="Placeholder" Asynchronous="False" Description="【自身点名】" DescBgColor="90a0a8" DescriptionOverride="True"/>
                          <Action OrderNumber="44" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_myPrio" VariableExpression="${l:U7a4_一运_pIdx2prio[${v:myIdx}]}"/>
                          <Action OrderNumber="45" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_my位置" VariableExpression="${l:U7a4_一运_蝴蝶_prio.indexof(${v:tmp_myPrio})} + ${l:U7a4_一运_光波_prio.indexof(${v:tmp_myPrio})}"/>
                          <Action OrderNumber="46" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_换" VariableExpression="(${v:tmp_my位置} &lt;= 2) != (${v:tmp_myPrio} &lt;= 4)"/>
                          <Action OrderNumber="47" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_有线" VariableExpression="${l:U7a4_一运_蝴蝶_prio.contain(${v:tmp_myPrio})}"/>
                          <Action OrderNumber="48" ActionType="Placeholder" Asynchronous="False" Description="将各种 prio 转换回 pIdx（注意代表不换位的 0 会变为空值）" DescBgColor="90a0a8" DescriptionOverride="True"/>
                          <Action OrderNumber="49" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a4_一运_连线换位_pIdx" ListVariableExpression="${l:U7a4_一运_prio2pIdx[${l:U7a4_一运_连线换位_prio[${_idx}]}]}" ListVariableIndex="2"/>
                          <Action OrderNumber="50" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a4_一运_无线换位_pIdx" ListVariableExpression="${l:U7a4_一运_prio2pIdx[${l:U7a4_一运_无线换位_prio[${_idx}]}]}" ListVariableIndex="2"/>
                          <Action OrderNumber="51" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a4_一运_蝴蝶_pIdx" ListVariableExpression="${l:U7a4_一运_prio2pIdx[${l:U7a4_一运_蝴蝶_prio[${_idx}]}]}" ListVariableIndex="4"/>
                          <Action OrderNumber="52" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a4_一运_光波_pIdx" ListVariableExpression="${l:U7a4_一运_prio2pIdx[${l:U7a4_一运_光波_prio[${_idx}]}]}" ListVariableIndex="4"/>
                          <Action OrderNumber="53" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a4_一运_蝴蝶_role" ListVariableExpression="${l:roleDesc[${l:U7a4_一运_蝴蝶_pIdx[${_idx}]}]}" ListVariableIndex="4"/>
                          <Action OrderNumber="54" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="U7a4_一运_光波_role" ListVariableExpression="${l:roleDesc[${l:U7a4_一运_光波_pIdx[${_idx}]}]}" ListVariableIndex="4"/>
                          <Action OrderNumber="55" ActionType="Placeholder" Asynchronous="False" Description="【输出】" DescBgColor="90a0a8" DescriptionOverride="True"/>
                          <Action OrderNumber="56" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a4_一运:${v:U7a4_一运_环_type}:myPrio:${v:tmp_myPrio}:有线:${v:tmp_有线}:my位置:${v:tmp_my位置}:换:${v:tmp_换}:蝴蝶prio:${l:U7a4_一运_蝴蝶_prio.join(&quot;&quot;)}:光波prio:${l:U7a4_一运_光波_prio.join(&quot;&quot;)}" LogProcess="True" LogProcessACT="True"/>
                          <Action OrderNumber="57" ActionType="Variable" VariableName="tmp_myPrio"/>
                          <Action OrderNumber="58" ActionType="Variable" VariableName="tmp_my位置"/>
                          <Action OrderNumber="59" ActionType="Variable" VariableName="tmp_换"/>
                          <Action OrderNumber="60" ActionType="Variable" VariableName="tmp_有线"/>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^翻绳" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers/>
              </Folder>
              <Folder Id="469a00ac-d061-4f8a-87c1-0c43c95787c9" Name=".控制" Enabled="true">
                <Folders>
                  <Folder Id="12c382ba-ed6c-4649-991f-52023ff68bfb" Name="标点" Enabled="true">
                    <Folders/>
                    <Triggers>
                      <Trigger Enabled="true" Id="bee25f25-ebb2-4605-9a72-1e0c433f01e3" Name="标点保存" RegularExpression="^.{15}\S+ 1C:" PrevActions="Interrupt">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" ExecutionDelayExpression="100" NamedCallbackName="place" NamedCallbackParam="save"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="41288ca4-4e96-41ae-b68b-46d3e82ba436" Name="标点重载" RegularExpression="^.{15}\S+ 21:.{8}:40000006|^.{15}\S+ 104:1:1">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="place" NamedCallbackParam="load"/>
                          <Action OrderNumber="2" ActionType="NamedCallback" ExecutionDelayExpression="500" NamedCallbackName="place" NamedCallbackParam="save"/>
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Id="de754f7c-dd6a-4b95-b2c9-32ea3ef2e0a5" Name="进本/倒计时标点" RegularExpression="^.{15}\S+ 21:.{8}:40000001|^.{15}\S+ 10C">
                        <Actions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;O: 100, 100&#13;&#10;Waymarks: A1D4C3B2&#13;&#10;R: 10&#13;&#10;Local: ${if: ${pd:U7a_cfg[P0场地标点mode]} = 1 ? true : false }">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P0场地标点mode]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="AdvWm" NamedCallbackParam="save">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P0场地标点mode]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers>
                  <Trigger Enabled="true" Id="069a75dc-6f05-4c36-adb6-2c90c5e4a0ca" Name="团灭中断动作 + 重置战斗" RegularExpression="^.{15}\S+ 21:.{8}:40000011" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="ActInteraction" FolderId="0ce40102-dbad-4ebf-b5d1-c50aa2bd41d4"/>
                      <Action OrderNumber="2" ActionType="Variable" VariableName="U7a2_滑冰_loop"/>
                      <Action OrderNumber="3" ActionType="TextAura" TextAuraOp="DeactivateAura" TextAuraFontSize="10" TextAuraName="U7a2_滑冰_State"/>
                      <Action OrderNumber="4" ActionType="Folder" FolderOp="CancelFolder" FolderId="e917d524-ab27-4a9b-8b20-852583861c54"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="5606f53b-c298-4429-b241-6744517b574a" Name="0. 初始化" RegularExpression="^.{15}\S+ 104:.:1:.:1|^.{15}\S+ 00:0038:(?i) *zone +1238 *$" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Variable" VariableOp="UnsetRegexUniversal" VariableName="^U7a\d*_|^tmp_"/>
                      <Action OrderNumber="2" ActionType="ListVariable" ListVariableOp="Build" ListVariableExpression=",ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４" ListVariableTarget="roleDesc"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="ad2bf842-627b-49f9-90ef-d1990304b2c0" Name="[F] 注册回调（机制）" RegularExpression="^.{15}\S+ 01">
                    <Actions>
                      <Action OrderNumber="1" ActionType="ExecuteScript" Asynchronous="False" Description="U7a2_IceSkatingSolver　　　P2 滑冰指示方向" DescriptionOverride="True" ExecScriptExpression="using System;&#13;&#10;using System.Globalization;&#13;&#10;using Triggernometry;&#13;&#10;using Triggernometry.Core;&#13;&#10;using static System.Math;&#13;&#10;using static Triggernometry.Core.Scripting.ScriptHelper;&#13;&#10;using static Triggernometry.PluginBridges.BridgeFFXIV;&#13;&#10;&#13;&#10;RealPlugin.Instance.RegisterNamedCallback(&#13;&#10;    &quot;U7a2_IceSkatingSolver&quot;,&#13;&#10;    new Action&lt;object, string&gt;(U7a2_IceSkatingSolver.Callback),&#13;&#10;    null,&#13;&#10;    registrant: &quot;绝伊甸宝宝椅&quot;&#13;&#10;);&#13;&#10;&#13;&#10;public static class U7a2_IceSkatingSolver&#13;&#10;{&#13;&#10;    static int ShivaDir8;&#13;&#10;    static double Shivaθ;&#13;&#10;&#13;&#10;    public static void Callback(object _, string command)&#13;&#10;    {&#13;&#10;        switch (command.ToLower().Trim())&#13;&#10;        {&#13;&#10;            case &quot;init&quot;: Init(); break;&#13;&#10;            case &quot;solve&quot;: Solve(); break;&#13;&#10;            default: throw new ArgumentException(&quot;U7a2_IceSkatingSolver: Invalid command. Expecting \&quot;init\&quot; or \&quot;solve\&quot;.&quot;);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    static void Init()&#13;&#10;    {&#13;&#10;        ShivaDir8 = (int)ParseDouble(GetScalarVariable(false, &quot;U7a2_滑冰_冰dir8&quot;));&#13;&#10;        Shivaθ = (ShivaDir8 - 4) * PI / 4;&#13;&#10;    }&#13;&#10;&#13;&#10;    static void Solve()&#13;&#10;    {&#13;&#10;        var me = GetIdEntity(PlayerHexId);&#13;&#10;        var absPos = new Point { X = ParseDouble(me.GetValue(&quot;x&quot;)), Y = ParseDouble(me.GetValue(&quot;y&quot;)) };&#13;&#10;        var relPos = absPos.AbsToRel();&#13;&#10;        if (relPos.Y &lt; -Abs(relPos.X) - 10) // 背面&#13;&#10;        {&#13;&#10;            RecordState(PositionStateEnum.Back);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        if (relPos.X * relPos.X + relPos.Y * relPos.Y &lt;= 12 * 12) // 中心&#13;&#10;        {&#13;&#10;            RecordState(PositionStateEnum.Center);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        if (!CanSkateToShivaBack(relPos.X, relPos.Y))&#13;&#10;        {&#13;&#10;            RecordState(PositionStateEnum.Side);&#13;&#10;            return;&#13;&#10;        }&#13;&#10;        var safestRelθ = SolveSafestAngle(relPos.X, relPos.Y);&#13;&#10;        var safestAbsθ = safestRelθ + (Shivaθ - PI);&#13;&#10;        RecordState(PositionStateEnum.Front, safestAbsθ);&#13;&#10;    }&#13;&#10;&#13;&#10;    enum PositionStateEnum&#13;&#10;    {&#13;&#10;        /// &lt;summary&gt; 希瓦身后 &lt;/summary&gt;&#13;&#10;        Back,&#13;&#10;        /// &lt;summary&gt; 希瓦前方，可一次滑冰到背后的区域 &lt;/summary&gt;&#13;&#10;        Front,&#13;&#10;        /// &lt;summary&gt; 场中 12 米内且不在身后，无解&lt;/summary&gt;&#13;&#10;        Center,&#13;&#10;        /// &lt;summary&gt; 希瓦侧面，不可一次滑冰到背后的区域 &lt;/summary&gt;&#13;&#10;        Side&#13;&#10;    }&#13;&#10;&#13;&#10;    static void RecordState(PositionStateEnum state, double θ = 0)&#13;&#10;    {&#13;&#10;        SetScalarVariable(false, &quot;U7a2_滑冰_PositionState&quot;, state);&#13;&#10;        SetScalarVariable(false, &quot;U7a2_滑冰_Safestθ&quot;, θ.ToString(CultureInfo.InvariantCulture));&#13;&#10;    }&#13;&#10;&#13;&#10;    /// &lt;summary&gt; &#13;&#10;    /// 判断是否可以从指定位置滑向希瓦背后。&lt;br /&gt;&#13;&#10;    /// 判据为希瓦背后的场地边缘上所有点为圆心、半径 32 的圆周在南侧场地形成的包络线，&lt;br /&gt;&#13;&#10;    /// 以抛物线近似计算（留有一定容错）。&#13;&#10;    /// &lt;/summary&gt;&#13;&#10;    static bool CanSkateToShivaBack(double relX, double relY) =&gt; -relY &lt; 0.03 * relX * relX - 12.1;&#13;&#10;&#13;&#10;    /// &lt;summary&gt; 根据指定位置， &lt;/summary&gt;&#13;&#10;    static double SolveSafestAngle(double relX, double relY)&#13;&#10;    {&#13;&#10;        // 希瓦处于相对北 (0, -10)&#13;&#10;        // 若当前处于左半场：对称到右半场计算&#13;&#10;        if (relX &lt; 0)&#13;&#10;            return -SolveSafestAngle(-relX, relY);&#13;&#10;        // 希瓦处于相对北，身后有三条边缘：上方场地圆周、左侧 y = x - 10，右侧 y = -x - 10&#13;&#10;        // 若当前处于以身后区域右侧尖端为圆心、32 为半径的圆形区域内：&#13;&#10;        //   滑冰角度范围由当前所处位置为圆心、半径 32 的圆周 与 左侧边缘、上方圆周的两个交点确定.&#13;&#10;        // 若当前处于以身后区域右侧尖端为圆心、32 为半径的圆形区域外：&#13;&#10;        //   滑冰角度范围由当前所处位置为圆心、半径 32 的圆周 与 左右两边缘的交点确定.&#13;&#10;        bool isInside = (relX - 8.23) * (relX - 8.23) + (relY + 18.23) * (relY + 18.23) &lt;= 32 * 32;&#13;&#10;        Point left = 滑冰圆与左边界交点(relX, relY);&#13;&#10;        Point right = isInside ? 滑冰圆与场地交点(relX, relY) : 滑冰圆与右边界交点(relX, relY);&#13;&#10;        var leftθ = Atan2(left.X - relX, left.Y - relY);&#13;&#10;        var rightθ = Atan2(right.X - relX, right.Y - relY);&#13;&#10;        var diff = (rightθ - leftθ + 4 * PI) % (2 * PI);&#13;&#10;        if (diff &gt; PI) diff -= 2 * PI;&#13;&#10;        return leftθ + diff / 2;&#13;&#10;    }&#13;&#10;&#13;&#10;    static Point 滑冰圆与左边界交点(double x0, double y0)&#13;&#10;    {&#13;&#10;        // (x-x0)^2 + (y-y0)^2 = 32^2 与 y = x - 10 的交点（靠上的）&#13;&#10;        var a = 2.0;&#13;&#10;        var b = 2 * (10 - x0 - y0);&#13;&#10;        var c = y0 * y0 + (x0 - 10) * (x0 - 10) - 1024;&#13;&#10;        var y = (-b - Sqrt(b * b - 4 * a * c)) / (2 * a);&#13;&#10;        var x = y + 10;&#13;&#10;        return new Point { X = x, Y = y };&#13;&#10;    }&#13;&#10;&#13;&#10;    static Point 滑冰圆与右边界交点(double x0, double y0)&#13;&#10;    {&#13;&#10;        // (x-x0)^2 + (y-y0)^2 = 32^2 与 y = x + 10 的交点（靠上的）&#13;&#10;        var symPoint = 滑冰圆与左边界交点(-x0, y0);&#13;&#10;        return new Point { X = -symPoint.X, Y = symPoint.Y };&#13;&#10;    }&#13;&#10;&#13;&#10;    static Point 滑冰圆与场地交点(double x0, double y0)&#13;&#10;    {&#13;&#10;        // (x-x0)^2 + (y-y0)^2 = 32^2 与 x^2 + y^2 = 20^2 的交点（靠上的）&#13;&#10;        var squareSum = x0 * x0 + y0 * y0;&#13;&#10;        var a = 4 * squareSum;&#13;&#10;        var b = -4 * x0 * (squareSum - 624);&#13;&#10;        var c = (squareSum - 624) * (squareSum - 624) - 1600 * y0 * y0;&#13;&#10;        var x = (-b + Sqrt(b * b - 4 * a * c)) / (2 * a);&#13;&#10;        var y = -Sqrt(400 - x * x);&#13;&#10;        return new Point { X = x, Y = y };&#13;&#10;    }&#13;&#10;&#13;&#10;    struct Point&#13;&#10;    {&#13;&#10;        public double X;&#13;&#10;        public double Y;&#13;&#10;&#13;&#10;        /// &lt;summary&gt; 以场中为中心、希瓦为相对北，将场地坐标转换为相对坐标。&lt;/summary&gt;&#13;&#10;        public Point AbsToRel()&#13;&#10;        {&#13;&#10;            var sin = Sin(Shivaθ);&#13;&#10;            var cos = Cos(Shivaθ);&#13;&#10;            return new Point&#13;&#10;            {&#13;&#10;                X = -(X - 100) * cos + (Y - 100) * sin,&#13;&#10;                Y = -(X - 100) * sin - (Y - 100) * cos,&#13;&#10;            };&#13;&#10;        }&#13;&#10;&#13;&#10;        /// &lt;summary&gt; 以场中为中心、希瓦为相对北，将相对坐标转换为场地坐标。&lt;/summary&gt;&#13;&#10;        public Point RelToAbs()&#13;&#10;        {&#13;&#10;            var sin = Sin(Shivaθ);&#13;&#10;            var cos = Cos(Shivaθ);&#13;&#10;            return new Point&#13;&#10;            {&#13;&#10;                X = -X * cos - Y * sin + 100,&#13;&#10;                Y = X * sin - Y * cos + 100,&#13;&#10;            };&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    static double ParseDouble(object s) =&gt; double.Parse(s.ToString(), NumberStyles.Float, CultureInfo.InvariantCulture);&#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${ecallback:U7a2_IceSkatingSolver}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="0cd7305b-f6c3-4f77-beea-684d1080c3b6" Name="重开" RegularExpression="^.{15}\S+ 21:.{8}:40000006" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="TextAura" TextAuraOp="DeactivateAura" TextAuraFontSize="10" TextAuraName="U7a2_滑冰_State"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers/>
          </Folder>
        </Folders>
        <Triggers/>
      </Folder>
      <Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^1238$" Id="0cd2f3b5-d573-47a2-9a38-4e6fa558a093" Name="输出" Enabled="true">
        <Folders>
          <Folder Id="15f3be34-f188-4034-89fd-070551391310" Name="P1" Enabled="true">
            <Folders>
              <Folder Id="527bb978-67d1-4910-aff6-60a92f83d4be" Name="A. 雾龙" Enabled="true" RawEnvironmentVariables="phase = P1雾龙">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="65336e27-7839-4f30-800f-1814a9f27d70" Name="O2. 播报安全区" RegularExpression="^U7a1_雾龙_dir8:safe:(?&lt;dir8&gt;[0123])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="${if: roundvec(${_me.x} - 100, ${_me.y} - 100, 8) % 4 = ${dir8}&#13;&#10;  ? 退后，脚下安全&#13;&#10;  : 前进 &#13;&#10;}"/>
                      <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2000" Asynchronous="False"/>
                      <Action OrderNumber="3" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="去${f:pick(${n: ${dir8} + (${v:myIdx_isG1} ? 0 : 4)}): 上北, 左上, 左西, 左下, 下南, 右下, 右东, 右上}，${if: ${v:U7a1_雾龙_is散} ? 分散 : 分摊 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[半场is1A2]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="去${f:pick(${n: ${dir8} + (${v:myIdx_isG1} ? 0 : 4)}): 上北, 左上, 左西, 右上, 下南, 右下, 右东, 左下}，${if: ${v:U7a1_雾龙_is散} ? 分散 : 分摊 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[半场is1A2]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#13;&#10;---&#13;&#10;O: 100, 100, 0&#13;&#10;θ: dir2rad(${if: ${pd:U7a_cfg[半场is1A2]} ? 0${dir8} : (${dir8} + 1) % 4 - 1 }, 8) + (${v:myIdx_isG1} ? 0 : π)&#13;&#10;${if: ${v:myIdx_isG1} ? C : D }:  0, -13&#13;&#10;${if: ${v:myIdx_isG1} ? A : B }:  0, -20&#13;&#10;${if: ${v:myIdx_isG1} ? 1 : 2 }:  6, -19&#13;&#10;${if: ${v:myIdx_isG1} ? 3 : 4 }: -6, -19">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a1_雾龙_is散}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#13;&#10;---&#13;&#10;O: 100, 100, 0&#13;&#10;θ: dir2rad(${if: ${pd:U7a_cfg[半场is1A2]} ? ${dir8} : (${dir8} + 1) % 4 - 1 }, 8) + (${v:myIdx_isG1} ? 0 : π)&#13;&#10;${if: ${v:myIdx_isG1} ? C : D }:    0, -13.2&#13;&#10;${if: ${v:myIdx_isG1} ? A : B }:    0, -16.2&#13;&#10;${if: ${v:myIdx_isG1} ? 1 : 2 }:  1.5, -14.7&#13;&#10;${if: ${v:myIdx_isG1} ? 3 : 4 }: -1.5, -14.7">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a1_雾龙_is散}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="NamedCallback" ExecutionDelayExpression="8100" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="a71be51f-74a2-4adb-a1e7-3376b2de0eaf" Name="O1. 初始记录" RegularExpression="^U7a1_雾龙_记录:is散:(?&lt;is散&gt;[01])" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="记录${if: ${is散} ? 分散 : 分摊 }"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="d3d1d279-72c2-485b-a7a4-6a5a293c7edf" Name="杂项" Enabled="true">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="b21380ba-bbb6-49d3-90ce-a518a2f12a48" Name="雷火八方" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]+:(?&lt;aid&gt;9CD[04]|9D8[9A]):">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="八方，${?d: 9CD0 = 火分摊, 9CD4 = 雷分散, 9D89 = 火分摊, 9D8A = 雷分散 [${aid}]}"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${sid}].address}, 2"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="565d8c10-1924-4c0d-8025-1718e5a17a25" Name="B. 光轮" Enabled="true" RawEnvironmentVariables="phase = P1光轮">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="60d4de8b-f2f9-41ff-a1b5-ead05e5a90ae" Name="+1. 储存雷火 光轮召唤" RegularExpression="^.{15}\S+ 14:(?&lt;sid&gt;4.{7}):[^:]+:9CD(?&lt;type&gt;6|7):">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${sid}].address}, 2"/>
                      <Action OrderNumber="2" ActionType="UseTTS" ExecutionDelayExpression="4500" UseTTSTextExpression="南北靠外，偏向${if: ${v:U7a1_光轮_is火safe} ? 红色火圈 : 蓝色雷圈 }"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${sid}].address}, 0.1"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#13;&#10;ScaleX: 2.2&#13;&#10;ScaleY: 11.1&#13;&#10;A:  0, -1&#13;&#10;C:  0,  1"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="4cdda23d-febb-4c78-a084-824854fcd94f" Name="+2. 光轮位置" RegularExpression="^.{15}\S+ 03:4.{7}:([^:]*:){7}17821:([^:]*:){6}(?&lt;x&gt;(8|11)[45][^:]*):">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="17821火 17822雷 正北逆四个固定同色，所以只需要看正左右哪个是火" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a1_光轮_is右safe" VariableExpression="(${x} &gt; 100) = ${v:U7a1_光轮_is火safe}"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#13;&#10;ScaleX: 0${v:U7a1_光轮_is右safe} ? 1 : -1&#13;&#10;ScaleY: 11.1&#13;&#10;A: 0, -1&#13;&#10;1: 3, -1&#13;&#10;D: 6, -1&#13;&#10;4: 9, -1&#13;&#10;C: 0,  1&#13;&#10;3: 3,  1&#13;&#10;B: 6,  1&#13;&#10;2: 9,  1"/>
                      <Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="2600"/>
                      <Action OrderNumber="5" ActionType="Placeholder" Description="二段雷判定" DescriptionOverride="True"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#13;&#10;ScaleX: 0${v:U7a1_光轮_is右safe} ? 1 : -1&#13;&#10;// 准确击退到空隙的 y&#13;&#10;ScaleY: 6.87&#13;&#10;1:  6.1, -1&#13;&#10;A:  9.6, -1&#13;&#10;4: 13.1, -1&#13;&#10;D: 16.6, -1&#13;&#10;3:  6.1,  1&#13;&#10;C:  9.6,  1&#13;&#10;2: 13.1,  1&#13;&#10;B: 16.6,  1"/>
                      <Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="4300"/>
                      <Action OrderNumber="8" ActionType="Placeholder" Description="一段火判定" DescriptionOverride="True"/>
                      <Action OrderNumber="9" ActionType="UseTTS" UseTTSTextExpression="贴近击退"/>
                      <Action OrderNumber="10"/>
                      <Action OrderNumber="11" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#13;&#10;ScaleX: 0${v:U7a1_光轮_is右safe} ? 1 : -1&#13;&#10;// 准确击退到空隙的 y&#13;&#10;ScaleY: 6.87&#13;&#10;1:  1.6, -1&#13;&#10;A:  6.6, -1&#13;&#10;4: 11.6, -1&#13;&#10;D: 16.6, -1&#13;&#10;3:  1.6,  1&#13;&#10;C:  6.6,  1&#13;&#10;2: 11.6,  1&#13;&#10;B: 16.6,  1"/>
                      <Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="4000"/>
                      <Action OrderNumber="13" ActionType="Placeholder" Description="光轮判定" DescriptionOverride="True"/>
                      <Action OrderNumber="14" ActionType="UseTTS" UseTTSTextExpression="分摊"/>
                      <Action OrderNumber="15" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="b627ed69-9e21-4a22-9160-181ded9f9bd8" Name="O2. 光轮缩放+透明度" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}(?&lt;bnpcid&gt;1782[12]):">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：on" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetOpacity" NamedCallbackParam="${_entity[${id}].address}, ${n: (${bnpcid} = 17821) = ${v:U7a1_光轮_is火safe} ? 0.5 : 1}"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" ExecutionDelayExpression="250" DescTextColor="26f" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${id}].address}, ${n: (${bnpcid} = 17821) = ${v:U7a1_光轮_is火safe} ? 0.6 : 0.6}"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" ExecutionDelayExpression="250" DescTextColor="26f" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${id}].address}, ${n: (${bnpcid} = 17821) = ${v:U7a1_光轮_is火safe} ? 0.6 : 0.6}"/>
                      <Action OrderNumber="5" ActionType="NamedCallback" ExecutionDelayExpression="8400" DescTextColor="26f" NamedCallbackName="SetOpacity" NamedCallbackParam="${_entity[${id}].address}, ${n: (${bnpcid} = 17821) = ${v:U7a1_光轮_is火safe} ? 1 : 1}"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${id}].address}, ${n: (${bnpcid} = 17821) = ${v:U7a1_光轮_is火safe} ? 1 : 2}"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1光轮缩放on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="1be176d2-34d4-4483-94e2-1528263f2217" Name="O1. 换位" RegularExpression="^U7a1_光轮_连线:北:(?&lt;北&gt;[1-8]):南:(?&lt;南&gt;[1-8]):换:(?&lt;换&gt;[0-8])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[publicChannel]} &#13;&#10;北：${?l:ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４[${北}]}&#13;&#10;南：${?l:ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４[${南}]}&#13;&#10;${?l:不需,ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４[${n: ${换} + 1}]}${if: ${_ffxivisglobal} ? 補位 : 补位 }"/>
                      <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="2200"/>
                      <Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="自己是北线" DescriptionOverride="True"/>
                      <Action OrderNumber="4" ActionType="UseTTS" UseTTSTextExpression="连线，${if: ${v:myIdx_isTH} ? 不换位，北侧等待击退 : 换到北侧，等待击退 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="${北}" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="Placeholder" Asynchronous="False" Description="自己是南线" DescriptionOverride="True"/>
                      <Action OrderNumber="6" ActionType="UseTTS" UseTTSTextExpression="连线，${if: ${v:myIdx_isTH} ? 换到南侧，等待击退 : 不换位，南侧等待击退 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="${南}" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="自己是 MT &amp;&amp; 无线" DescriptionOverride="True"/>
                      <Action OrderNumber="8" ActionType="UseTTS" UseTTSTextExpression="${if: ${v:myIdx} = ${换} ? 换到南侧，等待击退 : 不换位，北侧等待击退 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx} = 1 &amp;&amp; ${v:myIdx} != ${北} &amp;&amp; ${v:myIdx} != ${南}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="9" ActionType="Placeholder" Asynchronous="False" Description="自己是 D1 &amp;&amp; 无线" DescriptionOverride="True"/>
                      <Action OrderNumber="10" ActionType="UseTTS" UseTTSTextExpression="${if: ${v:myIdx} = ${换} ? 换到北侧，等待击退 : 不换位，南侧等待击退 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx} = 5 &amp;&amp; ${v:myIdx} != ${北} &amp;&amp; ${v:myIdx} != ${南}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="11" ActionType="Placeholder" Asynchronous="False" Description="自己不是 MT/D1，也没有线" DescriptionOverride="True"/>
                      <Action OrderNumber="12" ActionType="UseTTS" UseTTSTextExpression="${if: ${v:myIdx_isTH} ? 北侧等待击退 : 南侧等待击退 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx} % 4 != 1 &amp;&amp; ${v:myIdx} != ${北} &amp;&amp; ${v:myIdx} != ${南}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="aa94074c-6dfc-4bd7-a422-7f27bee3ed1f" Name="D. 六人塔" Enabled="true" RawEnvironmentVariables="phase = P1塔">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="1f7fec76-f282-4aa8-8cc2-47ae24ca16f3" Name="O1. 播报" RegularExpression="^U7a1_塔:myTower:(?&lt;myTower&gt;[0-3]):is右:(?&lt;is右&gt;[01]):is火:(?&lt;is火&gt;[01])" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="T" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="UseTTS" UseTTSTextExpression="去${if: ${is右} ? 左 : 右 }侧，${if: ${is火} ? 火击退 : 雷远离 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${myTower}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#13;&#10;---&#13;&#10;Action: Linear&#13;&#10;O: 100, 100, 0&#13;&#10;ScaleX: (0${is右} ? -1 : 1) * 6.25&#13;&#10;ScaleY: ${v:myIdx} = 1 ? -1 : 1&#13;&#10;Waymarks: 1234&#13;&#10;Start: 1, 3.4&#13;&#10;End:   1, 10">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${myTower}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="HD" DescriptionOverride="True"/>
                      <Action OrderNumber="5" ActionType="UseTTS" UseTTSTextExpression="${?d: 01 = 左上, 02 = 正左, 03 = 左下, 11 = 右上, 12 = 正右, 13 = 右下 [${is右}${myTower}]}踩塔，${if: ${is火} ? 火击退 : 雷远离 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${myTower}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100, 0&#13;&#10;ScaleX: 0${is右} ? 1 : -1&#13;&#10;Waymarks: 1234&#13;&#10;Start: 6.25, -3.3 + (${myTower} - 2) * 9.17&#13;&#10;End:   6.25,  3.3 + (${myTower} - 2) * 9.17&#13;&#10;---&#13;&#10;B: fakeclear&#13;&#10;D: fakeclear">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${myTower}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="NamedCallback" DescBgColor="fdd" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} ${_event}"/>
                      <Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="6200"/>
                      <Action OrderNumber="9"/>
                      <Action OrderNumber="10" ActionType="Placeholder" Asynchronous="False" Description="T" DescriptionOverride="True"/>
                      <Action OrderNumber="11" ActionType="UseTTS" UseTTSTextExpression="${if: ${is火} ? 靠近 : 远离 }，开减伤">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${myTower}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="12" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100, 0&#13;&#10;ScaleX: (0${is右} ? -1 : 1) * (${is火} ? 1.25 : 11.25)&#13;&#10;ScaleY: ${v:myIdx} = 1 ? -1 : 1&#13;&#10;Waymarks: 1234&#13;&#10;Start: 1, 5.4&#13;&#10;End:   1, 12">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${myTower}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="13" ActionType="Placeholder" Asynchronous="False" Description="HD" DescriptionOverride="True"/>
                      <Action OrderNumber="14" ActionType="UseTTS" UseTTSTextExpression="${if: ${is火} ? 靠近 : 远离 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${myTower}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="15" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100, 0&#13;&#10;ScaleX: (0${is右} ? 1 : -1) * (${is火} ? 1.25 : 11.25)&#13;&#10;Waymarks: 1234&#13;&#10;Start: 1, -3.3 + (${v:U7a1_塔_自己补塔} - 2) * 9.17&#13;&#10;End:   1,  3.3 + (${v:U7a1_塔_自己补塔} - 2) * 9.17">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${myTower}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="16" ActionType="NamedCallback" ExecutionDelayExpression="4400" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="986f38f0-20f4-4ca3-bb4a-a6fe04d463fb" Name="C. 四线" Enabled="true" RawEnvironmentVariables="phase = P1四线">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="ed689e07-c2b8-4355-90f3-93272ad72b00" Name="+0. 落地" RegularExpression="^.{15}\S+ AAA:10F:4.{7}:[^:]*:9707:17819:100">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="流血AoE"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;Waymarks: A1D4C3B2&#13;&#10;O: 100, 100&#13;&#10;R: 15&#13;&#10;R2: 100"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" ExecutionDelayExpression="34000" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" NamedCallbackName="queue" NamedCallbackParam="[&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack1 &lt;attack1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack2 &lt;attack2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack3 &lt;attack3&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack4 &lt;attack4&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk stop1   &lt;stop1&gt;  &quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk stop2   &lt;stop2&gt;  &quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind1   &lt;bind1&gt;  &quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind2   &lt;bind2&gt;  &quot;},&#13;&#10;]">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|2)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="UseTTS" UseTTSTextExpression="流血AoE"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="64b50bff-69fd-4476-93a2-059d80b4508f" Name="O4.1 文本播报" RegularExpression="^U7a1_四线:is雷:(?&lt;is雷1&gt;.)(?&lt;is雷2&gt;.)(?&lt;is雷3&gt;.)(?&lt;is雷4&gt;.):点名:(?&lt;点名1&gt;.)(?&lt;点名2&gt;.)(?&lt;点名3&gt;.)(?&lt;点名4&gt;.):无点名:(?&lt;无1&gt;.)(?&lt;无2&gt;.)(?&lt;无3&gt;.)(?&lt;无4&gt;.)">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="1000" Asynchronous="False"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/${if: ${pd:U7a_cfg[P1四线标点mode]} &gt;= 1 ? p : ${pd:U7a_cfg[publicChannel]} } &#13;&#10;閑人${if: ${pd:U7a_cfg[P1线is南北]} &amp;&amp; !(${pd:U7a_cfg[P1四线固定]} == 闲新) ? 北 : 西 }：${l:roleDesc[${无1}]} &gt; ${l:roleDesc[${无2}]}（${if: ${is雷1} ? 雷 : 火 } 》 ${if: ${is雷3} ? 雷 : 火 }）&#13;&#10;閑人${if: ${pd:U7a_cfg[P1线is南北]} &amp;&amp; !(${pd:U7a_cfg[P1四线固定]} == 闲新) ? 南 : 东 }：${l:roleDesc[${无3}]} &gt; ${l:roleDesc[${无4}]}（${if: ${is雷2} ? 雷 : 火 } 》 ${if: ${is雷4} ? 雷 : 火 }）">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_ffxivisglobal}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/${if: ${pd:U7a_cfg[P1四线标点mode]} &gt;= 1 ? p : ${pd:U7a_cfg[publicChannel]} }  &#13;&#10;闲人${if: ${pd:U7a_cfg[P1线is南北]} &amp;&amp; !(${pd:U7a_cfg[P1四线固定]} == 闲新) ? 北 : 西 }：${l:roleDesc[${无1}]} &gt; ${l:roleDesc[${无2}]}（${if: ${is雷1} ? 雷 : 火 } 》 ${if: ${is雷3} ? 雷 : 火 }）&#13;&#10;闲人${if: ${pd:U7a_cfg[P1线is南北]} &amp;&amp; !(${pd:U7a_cfg[P1四线固定]} == 闲新) ? 南 : 东 }：${l:roleDesc[${无3}]} &gt; ${l:roleDesc[${无4}]}（${if: ${is雷2} ? 雷 : 火 } 》 ${if: ${is雷4} ? 雷 : 火 }）">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_ffxivisglobal}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="6825cdff-7530-40f0-90bd-a77ebe2024da" Name="O4.3 标点无连线（指挥）" RegularExpression="^U7a1_四线:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a1_四线_无点名idx[1]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;attack1&quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a1_四线_无点名idx[2]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;attack2&quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a1_四线_无点名idx[3]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;attack3&quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a1_四线_无点名idx[4]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;attack4&quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|2)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="f1a7b91e-b16a-4fb6-ba0e-7d5ccc469a73" Name="O3.  闲人组" RegularExpression="^U7a1_四线_无:my无:(?&lt;my无&gt;[1-4]):is雷1:(?&lt;is雷1&gt;[01]):is雷2:(?&lt;is雷2&gt;[01])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Description="连线固定：" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1.5&#13;&#10;θ: (${my无} &gt; 2 ? 0 : π) + (${pd:U7a_cfg[P1线is南北]} ? 0 : π/2)&#13;&#10;ScaleX: ${my无} % 2 ? 1 : -1&#13;&#10;1: ${if: ${is雷1} ? 2.15, -5.19 : 0, -7.5 },  0.7&#13;&#10;2: ${if: ${is雷2} ? 2.15, -5.19 : 0, -7.5 }, -0.7">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="线" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="UseTTS" UseTTSTextExpression="去${?d: 0 = 右东, 1 = 左西, 2 = 下南, 3 = 上北 [${n: (${my无} &lt;= 2) + 2 * ${pd:U7a_cfg[P1线is南北]}}]}，${my无}号无点名，${if: ${is雷1} ? ${if: ${my无} % 2 ? 左前 : 右前 }引导雷分散 : 靠后引导火分摊 }" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="线" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="Placeholder" Description="闲人固定：" DescriptionOverride="True"/>
                      <Action OrderNumber="5" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1.5&#13;&#10;θ: (${my无} &gt; 2 ? 0 : π) + (${pd:U7a_cfg[P1线is南北]} ? 0 : π/2)&#13;&#10;ScaleX: ${my无} % 2 ? 1 : -1&#13;&#10;1: 2.15, -5.19,  0.7&#13;&#10;2: 2.15, -5.19, -0.7">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="闲" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="UseTTS" UseTTSTextExpression="去${?d: 0 = 右东, 1 = 左西, 2 = 下南, 3 = 上北 [${n: (${my无} &lt;= 2) + 2 * ${pd:U7a_cfg[P1线is南北]}}]}，${my无}号无点名，${if: ${my无} % 2 ? 左侧 : 右侧 }${if: ${is雷1} ? 引导雷分散 : 引导火分摊 }" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="闲" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="Placeholder" Description="闲人固定新：" DescriptionOverride="True"/>
                      <Action OrderNumber="8" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1.5&#13;&#10;ScaleX: ${my无} &gt; 2 ? 1 : -1&#13;&#10;1: ${if: ${my无} % 3 = 1 ? &quot;6.25, 0&quot; : &quot;5.19, 2.15&quot; },  0.7&#13;&#10;2: ${if: ${my无} % 3 = 1 ? &quot;6.25, 0&quot; : &quot;5.19, 2.15&quot; }, -0.7">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="闲新" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="9" ActionType="UseTTS" UseTTSTextExpression="去${?l: 正左, 左下, 右下, 正右 [${my无}]}，${my无}号无点名，${if: ${is雷1} ? 引导雷分散 : 引导火分摊 }" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="闲新" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="${my无} &gt; 2 ? 8500 : 5500"/>
                      <Action OrderNumber="11" ActionType="Placeholder" Description="连线固定：" DescriptionOverride="True"/>
                      <Action OrderNumber="12" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="1: clear">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="线" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="13">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="线" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="14" ActionType="UseTTS" UseTTSTextExpression="${if: ${is雷2} ? 原地引导雷分散 : 原地引导火分摊 }">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="线" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${is雷1}" ExpressionTypeL="String" ExpressionR="${is雷2}" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="15" ActionType="UseTTS" UseTTSTextExpression="${if: ${is雷2} ? ${if: ${my无} % 2 ? 左前 : 右前 }引导雷分散 : 后退引导火分摊 }&#13;&#10;">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="线" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${is雷1}" ExpressionTypeL="String" ExpressionR="${is雷2}" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="16" ActionType="Placeholder" Description="闲人固定/新：" DescriptionOverride="True"/>
                      <Action OrderNumber="17" ActionType="UseTTS" UseTTSTextExpression="原地引导${if: ${is雷2} ? 雷分散 : 火分摊 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="线" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                        </Condition>
                      </Action>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${l:U7a1_四线_无点名idx.contain(${v:myIdx})}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="4211d8f9-97e3-4bb6-8cae-d4508d49e8cb" Name="O1c.  连线组（闲人固定新）" RegularExpression="^U7a1_四线_线:my线:(?&lt;idx&gt;[1-4]):is雷:(?&lt;is雷&gt;[01])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1.5&#13;&#10;ScaleX: ${idx} % 2 = 1 ? -1 : 1&#13;&#10;&#13;&#10;1: ${if: ${is雷}&#13;&#10;  ? &quot;5,     0,    0.7&quot; &#13;&#10;  : &quot;5.19, -2.15, 0.7&quot; &#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a1_四线_my线idx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1.5&#13;&#10;ScaleX: ${idx} % 2 = 1 ? -1 : 1&#13;&#10;&#13;&#10;1: ${if: !${l:U7a1_四线_is雷[${n: ${idx} - 2}]}&#13;&#10;  ? &quot;5,     0,    0.7&quot; &#13;&#10;  : &quot;5.19, -2.15, 0.7&quot; &#13;&#10;}&#13;&#10;2: ${if: ${is雷}&#13;&#10;  ? &quot;5,     0,    -0.7&quot; &#13;&#10;  : &quot;5.19, -2.15, -0.7&quot; &#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a1_四线_my线idx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="Placeholder" Description="1/2线：" DescriptionOverride="True"/>
                      <Action OrderNumber="4" ActionType="UseTTS" UseTTSTextExpression="去${if: ${idx} % 2 = 1 ? 左西 : 右东 }，${idx}号${if: ${is雷} ? 雷，中间引导 : 火，北侧引导 }" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${idx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="Placeholder" Description="3/4线：" DescriptionOverride="True"/>
                      <Action OrderNumber="6" ActionType="UseTTS" UseTTSTextExpression="去${if: ${idx} % 2 = 1 ? 左西 : 右东 }，${idx}号${if: ${is雷} ? 雷 : 火 }，${if: &#13;&#10;  ${l:U7a1_四线_is雷[${n: ${idx} - 2 }]} &#13;&#10;  ? 站在北侧 : 站在中间 &#13;&#10;}" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${idx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="Placeholder" Description="前一部分延迟为到第四根线出现的时间 后一部分延迟为第四根线到上下两组判定的时间" DescriptionOverride="True"/>
                      <Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="${?l: 8200, 5000, 2500, 0 [${idx}]} + ${?l: 5000, 8000, 5000, 8000 [${idx}]}"/>
                      <Action OrderNumber="9" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="1: clear"/>
                      <Action OrderNumber="10" ActionType="UseTTS" UseTTSTextExpression="${if: 0${l:U7a1_四线_is雷[0${idx}]} = 0${l:U7a1_四线_is雷[${n: (${idx} + 1) % 4 + 1}]}&#13;&#10;  ? 换位 : 原地不动&#13;&#10;}，${if: ${l:U7a1_四线_is雷[${n: 0${idx} % 2 = 1 ? 3 : 4 }]} &#13;&#10;  ? 雷分散 : 火分摊 &#13;&#10;}" UseTTSExclusive="False"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="闲新" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="444671dc-8bd6-4fb7-876d-f3cc24aa2870" Name="+1. 连线标记特效" RegularExpression="^.{15}\S+ 23:4.{7}:[^:]*:(?&lt;tid&gt;1.{7}):[^:]*:0000:0000:(?&lt;type&gt;011F|00F9):">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" ExecutionDelayExpression="200" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${tid}].address}, ${n: 258 + ${l:U7a1_四线_is雷.size}}"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="f2d6790a-161f-470f-a304-9cb14fd84246" Name="O2.2  标点连线（指挥）" RegularExpression="^U7a1_四线_线:(?&lt;idx&gt;[1-4]):(?&lt;pIdx&gt;[1-8]):is雷:(?&lt;is雷&gt;[01])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${pIdx}]},&#13;&#10;  &quot;MarkType&quot;: &quot;${?l: stop1, bind1, stop2, bind2 [${idx}]}&quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|2)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="0a7be8d9-2b75-4e84-99c9-693043f8867a" Name="本地/网络取消标点" RegularExpression="^.{15}\S+ 1D:Add:(?&lt;id&gt;\d+):(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;1.{7})">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0xE0000000,&#13;&#10;  &quot;MarkType&quot;: ${n: ${id} + 1},&#13;&#10;  &quot;LocalOnly&quot;: true &#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|-1)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/mk ${f:repeat(2, &quot; &lt;&quot;):${f:tolower:${_entity[${tid}].Marker}}}&gt;">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线标点mode]}" ExpressionTypeL="String" ExpressionR="-2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|-1|-2)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="b9d47476-4dd6-49b9-b395-05729be7a0f2" Name="O4.2 vfx 标记" RegularExpression="^U7a1_四线:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[${l:U7a1_四线_无点名idx[1]}]}].address}, 419"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[${l:U7a1_四线_无点名idx[2]}]}].address}, 420"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[${l:U7a1_四线_无点名idx[3]}]}].address}, 421"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[${l:U7a1_四线_无点名idx[4]}]}].address}, 422"/>
                      <Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="14000"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[1]}].address}, 0"/>
                      <Action OrderNumber="7" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[2]}].address}, 0"/>
                      <Action OrderNumber="8" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[3]}].address}, 0"/>
                      <Action OrderNumber="9" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[4]}].address}, 0"/>
                      <Action OrderNumber="10" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[5]}].address}, 0"/>
                      <Action OrderNumber="11" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[6]}].address}, 0"/>
                      <Action OrderNumber="12" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[7]}].address}, 0"/>
                      <Action OrderNumber="13" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${l:party[8]}].address}, 0"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="3ac4f3f4-129d-48d0-b46c-ac568252a312" Name="O1b.  连线组（闲人固定）" RegularExpression="^U7a1_四线_线:my线:(?&lt;idx&gt;[1-4]):is雷:(?&lt;is雷&gt;[01])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1.5&#13;&#10;θ: (${idx} % 2 = 1 ? π : 0) + (${pd:U7a_cfg[P1线is南北]} ? 0 : π/2)&#13;&#10;&#13;&#10;// 不是自己的线：后排挂机&#13;&#10;${if: ${idx} &lt;= 2 ? 2 : 1 }:  0,  -7.5&#13;&#10;&#13;&#10;// 自己的线的位置：根据点名，去中间或左前&#13;&#10;${if: ${idx} &lt;= 2 ? 1 : 2 }:  ${if: !${is雷}&#13;&#10;  ? &quot;4.02, -4.48&quot; &#13;&#10;  : &quot;0, -5&quot; &#13;&#10;}"/>
                      <Action OrderNumber="2" ActionType="Placeholder" Description="1/2线：" DescriptionOverride="True"/>
                      <Action OrderNumber="3" ActionType="UseTTS" UseTTSTextExpression="去${?d: 0 = 右东, 1 = 左西, 2 = 下南, 3 = 上北 &#13;&#10;  [${n: 0${idx} % 2 + 2 * 0${pd:U7a_cfg[P1线is南北]}}]&#13;&#10;}，${idx}号${if: ${is雷} ? 雷，中间引导 : 火，左前引导 }">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${idx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="Placeholder" Description="3/4线：" DescriptionOverride="True"/>
                      <Action OrderNumber="5" ActionType="UseTTS" UseTTSTextExpression="去${?d: 0 = 右东, 1 = 左西, 2 = 下南, 3 = 上北 &#13;&#10;  [${n: 0${idx} % 2 + 2 * 0${pd:U7a_cfg[P1线is南北]}}]&#13;&#10;}，${idx}号${if: ${is雷} ? 雷 : 火 }，靠后站位">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${idx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="Placeholder" Description="前一部分延迟为到第四根线出现的时间 后一部分延迟为第四根线到上下两组判定的时间" DescriptionOverride="True"/>
                      <Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="${?l: 8200, 5000, 2500, 0 [${idx}]} + ${?l: 5000, 8000, 5000, 8000 [${idx}]}"/>
                      <Action OrderNumber="8" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="1: clear"/>
                      <Action OrderNumber="9" ActionType="UseTTS" UseTTSTextExpression="${if: ${l:U7a1_四线_is雷[${n: ${idx} % 2 = 1 ? 3 : 4 }]} &#13;&#10;  ? ${if: ${idx} &lt;= 2 ? &quot;后退，雷分散&quot; : &quot;去中间，引导雷分散&quot; } &#13;&#10;  : ${if: ${idx} &lt;= 2 ? &quot;后退，火分摊&quot; : &quot;去左前，引导火分摊&quot; }&#13;&#10;}" UseTTSExclusive="False"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="闲" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="5a519618-b891-4b84-a105-eddca903fab4" Name="O1a.  连线组（连线固定）" RegularExpression="^U7a1_四线_线:my线:(?&lt;idx&gt;[1-4]):is雷:(?&lt;is雷&gt;[01])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1.5&#13;&#10;θ: (${idx} % 2 = 1 ? π : 0) + (${pd:U7a_cfg[P1线is南北]} ? 0 : π/2)&#13;&#10;&#13;&#10;// 不是自己的线：后排挂机&#13;&#10;${if: ${idx} &lt;= 2 ? 2 : 1 }:  0, -7.5&#13;&#10;&#13;&#10;// 自己的线的位置：去中间&#13;&#10;${if: ${idx} &lt;= 2 ? 1 : 2 }:  0, -5"/>
                      <Action OrderNumber="2" ActionType="Placeholder" Description="1/2线：" DescriptionOverride="True"/>
                      <Action OrderNumber="3" ActionType="UseTTS" UseTTSTextExpression="去${?d: 0 = 右东, 1 = 左西, 2 = 下南, 3 = 上北 &#13;&#10;  [${n: 0${idx} % 2 + 2 * 0${pd:U7a_cfg[P1线is南北]}}]&#13;&#10;}，${idx}号${if: ${is雷} ? 雷 : 火 }，靠前站位">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${idx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="Placeholder" Description="3/4线：" DescriptionOverride="True"/>
                      <Action OrderNumber="5" ActionType="UseTTS" UseTTSTextExpression="去${?d: 0 = 右东, 1 = 左西, 2 = 下南, 3 = 上北 &#13;&#10;  [${n: 0${idx} % 2 + 2 * 0${pd:U7a_cfg[P1线is南北]}}]&#13;&#10;}，${idx}号${if: ${is雷} ? 雷 : 火 }，靠后站位">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${idx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="Placeholder" Description="前一部分延迟为到第四根线出现的时间 后一部分延迟为第四根线到上下两组判定的时间" DescriptionOverride="True"/>
                      <Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="${?l: 8200, 5000, 2500, 0 [${idx}]} + ${?l: 5000, 8000, 5000, 8000 [${idx}]}"/>
                      <Action OrderNumber="8" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="1: clear"/>
                      <Action OrderNumber="9" ActionType="UseTTS" UseTTSTextExpression="${if: ${idx} &lt;= 2 ? &quot;后退，引导&quot; : &quot;前进，&quot; }${if: ${l:U7a1_四线_is雷[${n: ${idx} % 2 = 1 ? 3 : 4 }]} ? 雷分散 : 火分摊 }"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="线" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="64b4d4a3-e1e6-4a45-81d5-599cd96b3811" Name="O2.1  连线组（闲人固定新，1-2 线补充后续点位）" RegularExpression="^U7a1_四线_线:(?&lt;idx&gt;[3-4]):(?&lt;pIdx&gt;[1-8]):is雷:(?&lt;is雷&gt;[01])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1.5&#13;&#10;ScaleX: ${idx} % 2 = 1 ? -1 : 1&#13;&#10;&#13;&#10;2: ${if: !${is雷}&#13;&#10;  ? &quot;5,     0,    -0.7&quot; &#13;&#10;  : &quot;5.19, -2.15, -0.7&quot; &#13;&#10;}"/>
                      <Action OrderNumber="2" ActionType="UseTTS" UseTTSTextExpression="稍后${if: ${v:U7a1_四线_myIs雷} = ${is雷} ? 换位 : 不换 }" UseTTSExclusive="False"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a1_四线_my线idx}" ExpressionTypeL="String" ExpressionR="${idx} - 2" ExpressionTypeR="Numeric" ConditionType="StringEqualCase"/>
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P1四线固定]}" ExpressionTypeL="String" ExpressionR="闲新" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers/>
          </Folder>
          <Folder Id="da2034d9-5788-4f5c-a868-6ae4371a4853" Name="P2" Enabled="true">
            <Folders>
              <Folder Id="24bf097c-ae0e-4e48-bf5c-83636c2a0ac7" Name="A. 钻石星尘" Enabled="true" RawEnvironmentVariables="phase = P2DD">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="ccd3f926-758b-41e1-9f40-57bfab4f1e9e" Name="+0. 开始 读条镜像" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9CF4:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="准备AoE"/>
                      <Action OrderNumber="2" ActionType="UseTTS" ExecutionDelayExpression="5000" UseTTSTextExpression="钻石星尘"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="c41f5c7c-36ab-4934-b268-7c758a743a71" Name="O1. 播报" RegularExpression="^U7a2_DD:dir8:(?&lt;dir8&gt;[0123]):is钢:(?&lt;is钢&gt;[01]):id:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a2_DD_is点名自己" VariableExpression="${l:U7a2_DD_点名id.contain(${_me.id})}"/>
                      <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a2_DD_is自己正点" VariableExpression="(0${dir8} % 2 = 1) = 0${v:U7a2_DD_is点名自己}"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="clear"/>
                      <Action OrderNumber="4" ActionType="UseTTS" UseTTSTextExpression="钢铁，去${if: ${v:U7a2_DD_is自己正点} ? 正点 : 斜点 }，贴边放点名" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="11" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="UseTTS" UseTTSTextExpression="钢铁，去${if: ${v:U7a2_DD_is自己正点} ? 正点 : 斜点 }，贴近黑线引导扇形">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;O: 100, 100, 0&#13;&#10;Waymarks: ${if: ${v:U7a2_DD_is自己正点} ? A_D_C_B_ : _1_4_3_2 }&#13;&#10;R:  0${v:U7a2_DD_is点名自己} ? 19 : 17.25">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${is钢}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="UseTTS" UseTTSTextExpression="月环，先去脚下${if: ${v:U7a2_DD_is自己正点} ? 正点 : 斜点 }，然后出去放冰花">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="01" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="8" ActionType="UseTTS" UseTTSTextExpression="月环，${if: ${v:U7a2_DD_is自己正点} ? 正点 : 斜点 }靠近引导扇形">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="00" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="9" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;O: 100, 100, 0&#13;&#10;Waymarks: ${if: 0${v:U7a2_DD_is自己正点} ? A_D_C_B_ : _1_4_3_2 }&#13;&#10;R:  0${v:U7a2_DD_is点名自己} ? 2.75 : 1.77">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${is钢}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="10" ActionType="LogMessage" LogMessageText="cd5:${if: ${v:U7a2_DD_is点名自己} ? 8.0 : 5.6 }" LogProcess="True"/>
                      <Action OrderNumber="11" ActionType="Placeholder" ExecutionDelayExpression="5400" Asynchronous="False"/>
                      <Action OrderNumber="12" ActionType="Placeholder" Asynchronous="False" Description="钢铁月环判定" DescriptionOverride="True"/>
                      <Action OrderNumber="13" ActionType="UseTTS" UseTTSTextExpression="出去放冰花" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="01" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="14" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;O: 100, 100, 0&#13;&#10;Waymarks: ${if: ${v:U7a2_DD_is自己正点} ? A_D_C_B_ : _1_4_3_2 }&#13;&#10;R:  8">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="01" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="15" ActionType="UseTTS" UseTTSTextExpression="回场中" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${is钢}${v:U7a2_DD_is点名自己}" ExpressionTypeL="String" ExpressionR="10" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="2500" Asynchronous="False"/>
                      <Action OrderNumber="17" ActionType="Placeholder" Asynchronous="False" Description="冰花点名判定" DescriptionOverride="True"/>
                      <Action OrderNumber="18" ActionType="UseTTS" UseTTSTextExpression="击退到${f:pick(${n: ${dir8} + (${v:myIdx_isG1} ? 0 : 4) }): 红色A, 红色壹, 紫色D, 紫色4, 蓝色C, 蓝色3, 黄色B, 黄色贰}点方向" UseTTSExclusive="False"/>
                      <Action OrderNumber="19" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#13;&#10;---&#13;&#10;Action: Circle&#13;&#10;O: 100, 100, 0&#13;&#10;Waymarks: ${f:pick(0${dir8}): A___C___, _1___3__, __D___B_, ___4___2 }&#13;&#10;R:  6&#13;&#10;---&#13;&#10;Action: Linear&#13;&#10;O: 100, 100, 0&#13;&#10;θ: dir2rad(0${dir8}, 8) + (${v:myIdx_isG1} ? 0 : π)&#13;&#10;Waymarks: ${f:pick(0${dir8}): 1234, ABCD, 1234, ABCD }&#13;&#10;Start: 0, -12&#13;&#10;End:   0, -18"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="6e27c87f-e20d-426f-8742-b17bbed7da95" Name="C. 镜之国" Enabled="true" RawEnvironmentVariables="phase = P2镜子">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="418dc701-45b8-4c28-bb81-e90de4225ed4" Name="+0. 开始" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9CF3:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="镜子"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="d82f36fd-2c2d-4b33-9176-fda2d1430b47" Name="+1. 获取白镜子 （时间轴）" RegularExpression="^.{15}\S+ 101:.{8}:00020001:0(?&lt;pos&gt;[1-8])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="6.1 读条月环 | 11.8 第一轮月环 | 21.8 第二轮月环" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a2_镜子_白dir8" VariableExpression="(9 - 0${pos}) % 8"/>
                      <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="cd5:12.0" LogProcess="True"/>
                      <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="cd5:22.0" LogProcess="True"/>
                      <Action OrderNumber="5" ActionType="UseTTS" UseTTSTextExpression="去${f:pick(${v:U7a2_镜子_白dir8}): 上北, 左上, 左西, 左下, 下南, 右下, 右东, 右上}白镜子">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isTM}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(${v:U7a2_镜子_白dir8}, 8)&#13;&#10;1: 0, -1&#13;&#10;2: 0, -4&#13;&#10;3: 0, -7&#13;&#10;4: 0, -10&#13;&#10;---&#13;&#10;O: 100, 100 polar 20, dir2rad(${v:U7a2_镜子_白dir8}, 8)&#13;&#10;θ: dir2rad(${v:U7a2_镜子_白dir8}, 8)&#13;&#10;A: polar 2.75, -85°&#13;&#10;B: polar 2.75, -45°&#13;&#10;C: polar 2.75,  45°&#13;&#10;D: polar 2.75,  85°">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isTM}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="UseTTS" UseTTSTextExpression="去${f:pick(${v:U7a2_镜子_白dir8}): 下南, 右下, 右东, 右上, 上北, 左上, 左西, 左下}" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="8" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100&#13;&#10;θ: dir2rad(${v:U7a2_镜子_白dir8}, 8)&#13;&#10;Waymarks: ABCD1234&#13;&#10;Start: 0, 0&#13;&#10;End: 0, 18.5">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="11800" Asynchronous="False"/>
                      <Action OrderNumber="10" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a2_镜子_红dir8" VariableExpression="${l:U7a2_镜子_红dir8[1]} + ((${l:U7a2_镜子_红dir8[2]} - ${l:U7a2_镜子_红dir8[1]}) %% 8 = 2 ? 1 : -1)"/>
                      <Action OrderNumber="11" ActionType="UseTTS" UseTTSTextExpression="去红镜子"/>
                      <Action OrderNumber="12" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 polar 20, dir2rad(${v:U7a2_镜子_红dir8} + 1, 8)&#13;&#10;θ: dir2rad(${v:U7a2_镜子_红dir8} + 1, 8)&#13;&#10;1: polar 2.75, -85°&#13;&#10;2: polar 2.75, -40°&#13;&#10;3: polar 2.75,   5°&#13;&#10;4: polar 2.75,  85°&#13;&#10;---&#13;&#10;O: 100, 100 polar 20, dir2rad(${v:U7a2_镜子_红dir8} - 1, 8)&#13;&#10;θ: dir2rad(${v:U7a2_镜子_红dir8} - 1, 8)&#13;&#10;A: polar 2.75, -85°&#13;&#10;B: polar 2.75,  -5°&#13;&#10;C: polar 2.75,  40°&#13;&#10;D: polar 2.75,  85°"/>
                      <Action OrderNumber="13" ActionType="UseTTS" ExecutionDelayExpression="7000" UseTTSTextExpression="准备分散分摊"/>
                      <Action OrderNumber="14" ActionType="NamedCallback" ExecutionDelayExpression="4500" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;Waymarks: A1D4C3B2&#13;&#10;R: 6&#13;&#10;O: 100, 100"/>
                      <Action OrderNumber="15" ActionType="Placeholder" ExecutionDelayExpression="5000" Asynchronous="False"/>
                      <Action OrderNumber="16" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_myDir16" VariableExpression="0x${f:slice(${v:myIdx}):_${?d:&#13;&#10;  灰九    = 0C486A2E,&#13;&#10;  翻绳THD = 31FD579B,&#13;&#10;  翻绳HTD = FD31579B,&#13;&#10;  翻绳美  = FD319B57&#13;&#10;  [${pd:U7a_cfg[P2光暴]}]&#13;&#10;}}"/>
                      <Action OrderNumber="17" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="八方站位，${f:pick(${v:tmp_myDir16}):上北, 上偏左, 左上, 左偏上, 左西, 左偏下, 左下, 下偏左, 下南, 下偏右, 右下, 右偏下, 右东, 右偏上, 右上, 上偏右}"/>
                      <Action OrderNumber="18" ActionType="Variable" Asynchronous="False" VariableName="tmp_myDir16"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="e717382c-9ff0-4a9d-aea6-4982ed3ea547" Name="O2. 红镜子变白（防止特效遮挡）" RegularExpression="^.{15}\S+ 101:.{8}:02000100:(?&lt;pos&gt;0[1-8])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：on" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" ExecutionDelayExpression="13000" NamedCallbackName="MapEffect" NamedCallbackParam="00020001:${pos}"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2镜子变白on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="d124d389-cc79-4bc9-9576-ab79f92ea2d9" Name="O1. 本体月环" RegularExpression="^.{15}\S+ 107:4.{7}:9D0B:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
                        <Condition Enabled="true" Grouping="Or"/>
                      </Action>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;1: fakeclear&#13;&#10;2: fakeclear&#13;&#10;3: fakeclear&#13;&#10;4: fakeclear&#13;&#10;---&#13;&#10;O: ${x}, ${y}&#13;&#10;θ: dir2rad(${v:U7a2_镜子_白dir8}, 8)&#13;&#10;A: polar 2.75, -90°&#13;&#10;B: polar 2.75, -30°&#13;&#10;C: polar 2.75,  30°&#13;&#10;D: polar 2.75,  90°">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx_isTM}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="UseTTS" UseTTSTextExpression="分散站位"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="b232eed5-ef1f-47a4-8839-8ca3d76d4726" Name="分散分摊" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D1(?&lt;type&gt;C|D):" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="${if: ${type} == C ? 两人分摊 : 全体分散 }"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="76409454-c199-403e-8e21-055afddc6e9f" Name="E. 光暗水晶" Enabled="true" RawEnvironmentVariables="phase = P2水晶">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="861e9aa1-bbd5-4b6f-974f-efa929796625" Name="碎冰冰" RegularExpression="^.{15}\S+ 101:.{8}:00020001:18">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" ExecutionDelayExpression="3000" DescTextColor="26f" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:18">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2碎冰on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="7af68a42-9894-4f7e-b3f3-02569cf34caa" Name="光圈判定" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:9D41:[^:]*:(?&lt;tid&gt;1.{7})" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="500">
                    <Actions>
                      <Action OrderNumber="1" SystemBeepLengthExpression="200"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="b19c6237-3fe5-4e29-99d2-fb456bcfb762" Name="1. 标记光之水晶" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17827:([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dfd" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${id},&#13;&#10;    &quot;MarkType&quot;: &quot;attack${n: (4 - roundvec(${x} - 100, ${y} - 100, 4)) % 4 + 1}&quot;,&#13;&#10;    &quot;LocalOnly&quot;: true &#13;&#10;}"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="058e5a3f-ee04-4dd9-b67d-b1c77e53568d" Name="2. 标记大水晶" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17829:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dfd" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${id},&#13;&#10;    &quot;MarkType&quot;: &quot;triangle&quot;,&#13;&#10;    &quot;LocalOnly&quot;: true &#13;&#10;}"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="5ad29913-32e1-4e1a-a26b-dd6bcd02fc6b" Name="3. 暗之水晶不可选中" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17828:([^:]*:){6}(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" ExecutionDelayExpression="500" DescTextColor="26f" NamedCallbackName="SetModelStatus" NamedCallbackParam="${_entity[${id}].Address}, 16384"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2不可选暗on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="35025ff6-3a76-4519-8f96-9987c9b93f29" Name="B. 滑冰" Enabled="true" RawEnvironmentVariables="phase = P2滑冰">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="92ca3a57-1132-4d25-a523-5acc74229cfe" Name="+1. 光 → 冰分身（读条分摊） 时间轴" RegularExpression="^.{15}\S+ 107:(?&lt;sid&gt;4.{7}):9D10:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="3.5 击退结束 | 4.5 冰花判定 | 6.1 冰→光分身出现 | 6.1-7.6-9.1-10.6 四连分摊 | 14.2 背对+冰冻" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="cd4:14.2" LogProcess="True" LogProcessACT="True"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="Channeling" NamedCallbackParam="${_me.address}, ${_entity[${sid}].address}, chn_m0834_2c, 15.5">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2背对连线on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="UseTTS" ExecutionDelayExpression="2000" UseTTSTextExpression="分摊，${?d: &#13;&#10;  0 = 准备内圈快跑，180度,&#13;&#10;  1 = 准备内圈快跑，135度,&#13;&#10;  2 = 准备正常前进，90度,&#13;&#10;  3 = ${if: ${pd:U7a_cfg[P2DD冰is双逆]} ? 逆时针反向，准备内圈快跑 : 准备贴边慢走，90度 },&#13;&#10;  4 = 准备内圈快跑，180度,&#13;&#10;  5 = 准备内圈快跑，135度,&#13;&#10;  6 = 准备贴边慢走，90度,&#13;&#10;  7 = ${if: ${pd:U7a_cfg[P2DD冰is双逆]} ? 逆时针反向，准备内圈快跑 : 逆时针反向，准备贴边慢走，90度 }&#13;&#10;  [${v:U7a2_滑冰_rel冰dir8}]&#13;&#10;}" UseTTSExclusive="False"/>
                      <Action OrderNumber="5" ActionType="NamedCallback" DescBgColor="fdd" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;U7a2_滑冰_rel冰dir8 = ${v:U7a2_滑冰_rel冰dir8}"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" Description="标点：希瓦头顶 1234" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;R: 3.5&#13;&#10;Waymarks: 1432"/>
                      <Action OrderNumber="7" ActionType="NamedCallback" Description="冰相对自身：0" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: polar 16, 160°&#13;&#10;B: polar 16, 128°&#13;&#10;C: polar 16, 96°&#13;&#10;D: polar 16, 64°">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="8" ActionType="NamedCallback" Description="冰相对自身：1" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: polar 18, 135°&#13;&#10;B: polar 18, 110°&#13;&#10;C: polar 18, 85°&#13;&#10;D: polar 18, 60°">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="9" ActionType="NamedCallback" Description="冰相对自身：2" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: polar 18, 90°&#13;&#10;B: polar 18, 70°&#13;&#10;C: polar 18, 50°&#13;&#10;D: polar 18, 30°">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="10" ActionType="NamedCallback" Description="冰相对自身：3（双逆）" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: polar 18.75, 45°&#13;&#10;B: polar 18.75, 70°&#13;&#10;C: polar 18.75, 95°&#13;&#10;D: polar 18.75, 120°">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2DD冰is双逆]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="11" ActionType="NamedCallback" Description="冰相对自身：3（单逆）" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: polar 18.75, 56°&#13;&#10;B: polar 18.75, 38°&#13;&#10;C: polar 18.75, 20°&#13;&#10;D: polar 18.75, 2°">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2DD冰is双逆]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="12" ActionType="NamedCallback" Description="冰相对自身：4" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: polar 16, -20°&#13;&#10;B: polar 16, -52°&#13;&#10;C: polar 16, -84°&#13;&#10;D: polar 16, -116°">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="13" ActionType="NamedCallback" Description="冰相对自身：5" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: polar 18, -45°&#13;&#10;B: polar 18, -70°&#13;&#10;C: polar 18, -95°&#13;&#10;D: polar 18, -120°">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="5" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="14" ActionType="NamedCallback" Description="冰相对自身：6" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: polar 18.75, -90°&#13;&#10;B: polar 18.75, -110°&#13;&#10;C: polar 18.75, -130°&#13;&#10;D: polar 18.75, -150°">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="6" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="15" ActionType="NamedCallback" Description="冰相对自身：7（双逆）" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: polar 18.75, -135°&#13;&#10;B: polar 18.75, -110°&#13;&#10;C: polar 18.75, -85°&#13;&#10;D: polar 18.75, -60°">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="7" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2DD冰is双逆]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="16" ActionType="NamedCallback" Description="冰相对自身：7（单逆）" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: polar 18.75, -135°&#13;&#10;B: polar 18.75, -115°&#13;&#10;C: polar 18.75, -95°&#13;&#10;D: polar 18.75, -75°">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="7" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2DD冰is双逆]}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="17" ActionType="UseTTS" ExecutionDelayExpression="2500" UseTTSTextExpression="${?d: &#13;&#10;  0 = 快跑,&#13;&#10;  1 = &quot;&quot;,&#13;&#10;  2 = &quot;&quot;,&#13;&#10;  3 = &quot;&quot;,&#13;&#10;  4 = 快跑,&#13;&#10;  5 = &quot;&quot;,&#13;&#10;  6 = &quot;&quot;,&#13;&#10;  7 = &quot;&quot;&#13;&#10;  [${v:U7a2_滑冰_rel冰dir8}]&#13;&#10;}"/>
                      <Action OrderNumber="18" ActionType="UseTTS" ExecutionDelayExpression="5000" UseTTSTextExpression="${?d: &#13;&#10;  0 = 去 Boss 对面,&#13;&#10;  1 = 去 Boss 对面,&#13;&#10;  2 = 站在原地,&#13;&#10;  3 = ${if: ${pd:U7a_cfg[P2DD冰is双逆]} ? 去 Boss 身后 : 站在原地 },&#13;&#10;  4 = 去 Boss 身后,&#13;&#10;  5 = 去 Boss 身后,&#13;&#10;  6 = 去 Boss 身后,&#13;&#10;  7 = ${if: ${pd:U7a_cfg[P2DD冰is双逆]} ? 去 Boss 对面 : 站在原地 }&#13;&#10;  [0${v:U7a2_滑冰_rel冰dir8}]&#13;&#10;}"/>
                      <Action OrderNumber="19" ActionType="NamedCallback" Description="标点：身后范围" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Arc&#13;&#10;O: 100, 100, -1&#13;&#10;R: 18&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;dθ: 34.94°&#13;&#10;Waymarks: A132B&#13;&#10;---&#13;&#10;Action: Arc&#13;&#10;O: 100, 100, -1.5&#13;&#10;R: 14&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;dθ: 17.06°&#13;&#10;Waymarks: C4D">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="abs(relθ(dir2rad(${v:U7a2_滑冰_冰dir8}, 8), θ(100, 100, ${_me.x, y})))" ExpressionTypeL="Numeric" ExpressionR="π/2" ExpressionTypeR="Numeric" ConditionType="NumericLessEqual"/>
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="20" ActionType="NamedCallback" Description="标点：对侧范围" DescBgColor="dff" DescriptionOverride="True" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: -18.33, 3.87&#13;&#10;B: -13.85, 7.93&#13;&#10;1: -8.75, 11.22&#13;&#10;2: -3.00, 13.09&#13;&#10;3:  3.00, 13.09&#13;&#10;4:  8.75, 11.22&#13;&#10;C:  13.85, 7.93&#13;&#10;D:  18.33, 3.87">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_rel冰dir8}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="abs(relθ(dir2rad(${v:U7a2_滑冰_冰dir8}, 8), θ(100, 100, ${_me.x, y})))" ExpressionTypeL="Numeric" ExpressionR="π/2" ExpressionTypeR="Numeric" ConditionType="NumericGreater"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="21" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="Channeling" NamedCallbackParam="${_me.address}, ${_entity[${v:U7a2_滑冰_光id}].address}, chn_miruna1v, 5">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2背对连线on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="22" ActionType="UseTTS" ExecutionDelayExpression="2000" UseTTSTextExpression="注意背对"/>
                      <Action OrderNumber="23" ActionType="UseTTS" ExecutionDelayExpression="2000" UseTTSTextExpression="停止移动"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="3f244222-bbde-4a04-9559-05448cd41ddf" Name="分摊判定提示音" RegularExpression="^.{15}\S+ 16:4.{7}:[^:]*:9D11:[^:]*:(?&lt;tid&gt;1.{7})" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="500">
                    <Actions>
                      <Action OrderNumber="1"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="adde5d54-80d7-484b-b979-53f7ffabedb3" Name="O1. 滑冰循环计算" RegularExpression="^.{15}\S+ 108:4.{7}:9CF9:|^U7a2_滑冰_Solve" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" Description="标点：希瓦头顶 1234" NamedCallbackName="U7a2_IceSkatingSolver" NamedCallbackParam="Init">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${f:startwith(U7a):${_event}}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="Variable" VariableOp="SetString" VariableName="U7a2_滑冰_loop" VariableExpression="1">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${f:startwith(U7a):${_event}}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="NamedCallback" Description="标点：希瓦头顶 1234" NamedCallbackName="U7a2_IceSkatingSolver" NamedCallbackParam="Solve"/>
                      <Action OrderNumber="4" ActionType="TextAura" TextAuraEffect="Bold" TextAuraFontSize="39.75" TextAuraForeground="${?d: &#13;&#10;  Center = e44, &#13;&#10;  Back = 4ea,&#13;&#10;  Front = 4e9,&#13;&#10;  Side = fc3&#13;&#10;  [${v:U7a2_滑冰_PositionState}]&#13;&#10;}" TextAuraOutline="000" TextAuraName="U7a2_滑冰_State" TextAuraExpression="${?d: &#13;&#10;  Center = &quot;当前位于场中⏎无法滑冰&quot;, &#13;&#10;  Back = 当前位于 Boss 背后,&#13;&#10;  Front = 当前位于 Boss 对面,&#13;&#10;  Side = &quot;当前位于 Boss 侧面⏎需先滑到对侧&quot;&#13;&#10;  [${v:U7a2_滑冰_PositionState}]&#13;&#10;}" TextAuraXIniExpression="${_screenwidth} / 3" TextAuraYIniExpression="${_screenheight} / 2" TextAuraWIniExpression="${_screenwidth} / 3" TextAuraHIniExpression="${_screenheight} / 4" TextAuraOIniExpression="100" TextAuraFontName="微软雅黑"/>
                      <Action OrderNumber="5" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: ${_me.x}, ${_me.y}, 0&#13;&#10;θ: ${v:U7a2_滑冰_Safestθ}&#13;&#10;Start: 0, -2, -2&#13;&#10;End: 0, -32&#13;&#10;Waymarks: AB1234CD">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Front" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, -1&#13;&#10;θ: dir2rad(0${v:U7a2_滑冰_冰dir8}, 8)&#13;&#10;A: -18.33, 3.87&#13;&#10;B: -13.85, 7.93&#13;&#10;1: -8.75, 11.22&#13;&#10;2: -3.00, 13.09&#13;&#10;3:  3.00, 13.09&#13;&#10;4:  8.75, 11.22&#13;&#10;C:  13.85, 7.93&#13;&#10;D:  18.33, 3.87">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Side" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Center" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Back" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="LogMessage" ExecutionDelayExpression="100" LogMessageText="U7a2_滑冰_Solve" LogProcess="True">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_滑冰_loop}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="8" ActionType="TextAura" TextAuraOp="DeactivateAura" TextAuraEffect="Bold" TextAuraFontSize="39.75" TextAuraName="U7a2_滑冰_State" TextAuraFontName="微软雅黑">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${ev:U7a2_滑冰_loop}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="bd572eaf-1045-4d2b-b060-c50f052892e7" Name="O2. 双剑技" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D0(?&lt;type&gt;[12]):">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescBgColor="fdd" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug] PositionState = ${v:U7a2_滑冰_PositionState}"/>
                      <Action OrderNumber="2" ActionType="UseTTS" UseTTSTextExpression="${if: ${type} == 1 ? 留在后面 : 滑到前面 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Back" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="UseTTS" UseTTSTextExpression="${if: ${type} == 1 ? 滑到后面 : 留在前面 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Front" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="UseTTS" UseTTSTextExpression="${if: ${type} == 1 ? 后面 : 前面 }">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Back" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_滑冰_PositionState}" ExpressionTypeL="String" ExpressionR="Front" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="UseTTS" ExecutionDelayExpression="${type} == 1 ? 3000 : 2500" UseTTSTextExpression="穿"/>
                      <Action OrderNumber="6" ActionType="Variable" ExecutionDelayExpression="${type} == 1 ? 2500 : 3000" VariableOp="SetString" VariableName="U7a2_滑冰_loop" VariableExpression="1"/>
                      <Action OrderNumber="7" ActionType="Variable" VariableName="U7a2_滑冰_loop"/>
                      <Action OrderNumber="8" ActionType="NamedCallback" ExecutionDelayExpression="500" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                      <Action OrderNumber="9" ActionType="Variable" VariableName="U7a2_滑冰_loop"/>
                      <Action OrderNumber="10" ActionType="TextAura" TextAuraOp="DeactivateAura" TextAuraEffect="Bold" TextAuraFontSize="39.75" TextAuraName="U7a2_滑冰_State" TextAuraFontName="微软雅黑"/>
                      <Action OrderNumber="11" ActionType="UseTTS" ExecutionDelayExpression="1000" UseTTSTextExpression="分摊激光"/>
                      <Action OrderNumber="12" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="1ece8586-49bb-4c23-9e26-d8e563021892" Name="D. 光之暴走" Enabled="true" RawEnvironmentVariables="phase = P2光暴">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="36058443-2988-40bb-a5a4-f0dd3075add5" Name="光圈/塔判定" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:9D1[A5]:[^:]*:(?&lt;tid&gt;1.{7})" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="500">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="phase" DescriptionOverride="True">
                        <Condition Enabled="true" Grouping="Or"/>
                      </Action>
                      <Action OrderNumber="2" SystemBeepLengthExpression="200"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="8202423a-0cbf-4d13-9940-ff0cca80e86c" Name="O1.2 有连线" RegularExpression="^U7a2_光暴:(?&lt;index&gt;\d{6})">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="${f:pick(${v:U7a2_光暴_myDir6}): 上北, 左上, 左下, 下南, 右下, 右上}踩塔"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="clear&#13;&#10;---&#13;&#10;Action: Linear&#13;&#10;θ: dir2rad(${v:U7a2_光暴_myDir6}, 6)&#13;&#10;O: 100, 100&#13;&#10;Start: 0, 0&#13;&#10;End: 0, -10&#13;&#10;Waymarks: ${f:substring(0, 5):${f:replace(${?d: 0=A, 1=1, 2=4, 3=C, 4=3, 5=2 [${v:U7a2_光暴_myDir6}]}, &quot;&quot;):4321DCBA}}&#13;&#10;---&#13;&#10;θ: dir2rad(${v:U7a2_光暴_myDir6}, 6)&#13;&#10;O: 100, 100&#13;&#10;${?d: 0=A, 1=1, 2=4, 3=C, 4=3, 5=2 [${v:U7a2_光暴_myDir6}]}: 0, -16&#13;&#10;"/>
                      <Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="10300"/>
                      <Action OrderNumber="4" ActionType="UseTTS" UseTTSTextExpression="${if: ${v:U7a2_光暴_myDir6} &lt; 3 ? 左西 : 右东 }集合">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;θ: ${v:U7a2_光暴_myDir6} &gt;= 3 ? π/2 : -π/2&#13;&#10;O: 100, 100&#13;&#10;Start: 0, 0&#13;&#10;End: 0, -18.75&#13;&#10;Waymarks: 4321DCBA&#13;&#10;">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="UseTTS" UseTTSTextExpression="${if: ${v:U7a2_光暴_myDir6} % 5 &lt; 2 ? 右上 : 左下 }集合">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="^翻" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;θ: ${v:U7a2_光暴_myDir6} % 5 &gt;= 2 ? -π/6 : 5 * π/6&#13;&#10;O: 100, 100&#13;&#10;Start: 0, 0&#13;&#10;End: 0, -18.75&#13;&#10;Waymarks: 4321DCBA&#13;&#10;">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="^翻" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="U7a2_光暴_dir6_pIdx" ExpressionTypeL="String" ExpressionR="${v:myIdx}" ExpressionTypeR="String" ConditionType="ListContains"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="3b0b584e-6d48-42a0-8988-52fc9be70a6c" Name="O1.1 无连线" RegularExpression="^U7a2_光暴:(?&lt;index&gt;\d{6})" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="${if: ${l:U7a2_光暴_无_pIdx[1]} = ${v:myIdx} ? 左侧 : 右侧 }放大圈">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;O: 100, 100&#13;&#10;Waymarks: A1D4C3B2&#13;&#10;R: 8&#13;&#10;R2: 100">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="UseTTS" UseTTSTextExpression="${if: ${l:U7a2_光暴_无_pIdx[1]} = ${v:myIdx} ? 下偏左 肆点 : 上偏右 贰点 }放大圈" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;O: 100, 100&#13;&#10;Waymarks: A__D_4C__B_2&#13;&#10;R: 8&#13;&#10;---&#13;&#10;1: fakeclear&#13;&#10;3: fakeclear">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="Placeholder" Description="点名出现到判定约 6.9 s" DescriptionOverride="True"/>
                      <Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="5000"/>
                      <Action OrderNumber="7" ActionType="Loop" DescBgColor="dff" LoopDelayExpression="200" LoopIncrExpression="200">
                        <LoopCondition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_i}" ExpressionTypeL="String" ExpressionR="2500" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                        </LoopCondition>
                        <LoopActions>
                          <Action OrderNumber="1" ActionType="Variable" VariableOp="SetNumeric" VariableName="_tmp_θ" VariableExpression="${_me.x} &lt; 100 ? π : 0">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="2" ActionType="Variable" VariableOp="SetNumeric" VariableName="_tmp_θ" VariableExpression="(${_me.x} - 100) * (-1) + (${_me.y} - 100) * (√3) &gt; 0 ? -120° : 60°">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                            </Condition>
                          </Action>
                          <Action OrderNumber="3" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: ${v:_tmp_θ}&#13;&#10;1: -8, 0&#13;&#10;2:  8, 0, -2&#13;&#10;3: 16.2, -6, -2&#13;&#10;4: 18.4,  0, -2&#13;&#10;---&#13;&#10;Action: Linear&#13;&#10;O: 100, 100&#13;&#10;θ: ${v:_tmp_θ}&#13;&#10;Start: -5, -6&#13;&#10;End:  14, -12&#13;&#10;Waymarks: ABCD"/>
                        </LoopActions>
                      </Action>
                      <Action OrderNumber="8" ActionType="Variable" VariableName="_tmp_θ"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="U7a2_光暴_无_pIdx" ExpressionTypeL="String" ExpressionR="${v:myIdx}" ExpressionTypeR="String" ConditionType="ListContains"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="0b491aa1-be7b-4a3b-a991-0b5a6a4c4d37" Name="O1.3 文字播报" RegularExpression="^U7a2_光暴:(?&lt;index&gt;\d{6})" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Description="转换为最终踩塔 dir6 顺序的六人职位描述（用于输出文本）" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="ListVariable" ListVariableOp="Copy" ListVariableName="U7a2_光暴_环_pIdx" ListVariableTarget="U7a2_光暴_环_role"/>
                      <Action OrderNumber="3" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_环_role" ListVariableExpression="${?d: 1=ＭＴ, 2=ＳＴ, 3=Ｈ１, 4=Ｈ２, 5=Ｄ１, 6=Ｄ２, 7=Ｄ３, 8=Ｄ４ [${_this}]}"/>
                      <Action OrderNumber="4" ActionType="ListVariable" ListVariableOp="Copy" ListVariableName="U7a2_光暴_dir6_pIdx" ListVariableTarget="U7a2_光暴_dir6_role"/>
                      <Action OrderNumber="5" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_dir6_role" ListVariableExpression="${?d: 1=ＭＴ, 2=ＳＴ, 3=Ｈ１, 4=Ｈ２, 5=Ｄ１, 6=Ｄ２, 7=Ｄ３, 8=Ｄ４ [${_this}]}"/>
                      <Action OrderNumber="6" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="U7a2_光暴_点名描述" ListVariableExpression="${?d: 0 = 无, 1 = &quot;&quot;, 2 = &quot;&quot;, 3 = &quot;&quot;, 4 = &quot;&quot;, 5 = &quot;&quot;, 6 = &quot;&quot; [${l:U7a2_光暴_dir6_pIdx.indexof(${_idx})}]}" ListVariableIndex="8"/>
                      <Action OrderNumber="7" ActionType="NamedCallback" DescBgColor="fdd" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug] P2 光暴&#13;&#10;環：&#13;&#10;  prio: ${l:U7a2_光暴_环_prio.join(&quot;&quot;)}&#13;&#10;  pIdx: ${l:U7a2_光暴_环_pIdx.join(&quot;&quot;)}&#13;&#10;dir6：&#13;&#10;  pIdx: ${l:U7a2_光暴_dir6_pIdx.join(&quot;&quot;)}&#13;&#10;  role: ${l:U7a2_光暴_dir6_role.join(&quot;&quot;)}"/>
                      <Action OrderNumber="8" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/${if: ${pd:U7a_cfg[P2光暴标点mode]} &gt;= 1 ? p : ${pd:U7a_cfg[publicChannel]} } &#13;&#10;ＭＴ 》 ${l:U7a2_光暴_点名描述[1]}  ｜ 　　　  　${l:U7a2_光暴_dir6_role[1]}&#13;&#10;ＳＴ 》 ${l:U7a2_光暴_点名描述[2]}  ｜ 　　　　　&#13;&#10;Ｈ１ 》 ${l:U7a2_光暴_点名描述[3]}  ｜ ${l:U7a2_光暴_dir6_role[2]} 　  　　　 ${l:U7a2_光暴_dir6_role[6]}&#13;&#10;Ｈ２ 》 ${l:U7a2_光暴_点名描述[4]}  ｜ &#13;&#10;Ｄ１ 》 ${l:U7a2_光暴_点名描述[5]}  ｜ &#13;&#10;Ｄ２ 》 ${l:U7a2_光暴_点名描述[6]}  ｜ ${l:U7a2_光暴_dir6_role[3]} 　　  　　 ${l:U7a2_光暴_dir6_role[5]}&#13;&#10;Ｄ３ 》 ${l:U7a2_光暴_点名描述[7]}  ｜ 　　　　　&#13;&#10;Ｄ４ 》 ${l:U7a2_光暴_点名描述[8]}  ｜ 　　　  　${l:U7a2_光暴_dir6_role[4]}"/>
                      <Action OrderNumber="9" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[privateChannel]} &lt;se.11&gt;&#13;&#10;当前连线不符合攻略：&#13;&#10;${l:U7a2_光暴_环_role.join(-)}&#13;&#10;应为有人站位错误所致，谁站错了找谁。">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a2_光暴_环_is乱序}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="b78d7b05-d4c8-4a8b-9051-328c461b96b0" Name="O1.4 小队标点" RegularExpression="^U7a2_光暴:(?&lt;index&gt;\d{6})" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_dir6_pIdx[1]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;bind1&quot;,  &#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_dir6_pIdx[2]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;attack1&quot;,&#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_dir6_pIdx[3]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;attack4&quot;,&#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_dir6_pIdx[4]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;bind2&quot;,  &#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="5" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_dir6_pIdx[5]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;attack3&quot;,&#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a2_光暴_dir6_pIdx[6]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;attack2&quot;,&#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="10000"/>
                      <Action OrderNumber="8" ActionType="NamedCallback" NamedCallbackName="queue" NamedCallbackParam="[&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack1 &lt;attack1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack2 &lt;attack2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack3 &lt;attack3&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack4 &lt;attack4&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind1   &lt;bind1&gt;  &quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind2   &lt;bind2&gt;  &quot;},&#13;&#10;]"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴标点mode]}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="2469ffe7-3a7c-4358-b2d9-075857308a2f" Name="O2. 光球 + 后续" RegularExpression="^.{15}\S+ 107:4.{7}:9D1B:(?&lt;x&gt;(99|100)[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="5000">
                    <Actions>
                      <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="cd4:4.7" LogProcess="True"/>
                      <Action OrderNumber="2" ActionType="Placeholder" Description="指路拉线方向" DescriptionOverride="True"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100&#13;&#10;Start: 0, 0&#13;&#10;End: (${_me.x} &gt; 100 ? 18.45 : -18.45), (${y} &gt; 100 ? 3.34 : -3.34)&#13;&#10;Waymarks: 4321DCBA&#13;&#10;">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100&#13;&#10;θ: π/3&#13;&#10;Start: 0, 0&#13;&#10;End: (projectdistance(100, 100, -π/6, ${_me.XY}) &gt; 0 ? 18.45 : -18.45), (${y} &gt; 100 ? 3.34 : -3.34)&#13;&#10;Waymarks: 4321DCBA&#13;&#10;">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="^翻" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="Placeholder" Description="重复一次（以免前一次判定时有踩塔的人没跑到正确半场）" DescriptionOverride="True"/>
                      <Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="2000"/>
                      <Action OrderNumber="7" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100&#13;&#10;Start: 0, 0&#13;&#10;End: (${_me.x} &gt; 100 ? 18.45 : -18.45), (${y} &gt; 100 ? 3.34 : -3.34)&#13;&#10;Waymarks: 4321DCBA&#13;&#10;">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="灰九" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="8" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100&#13;&#10;θ: π/3&#13;&#10;Start: 0, 0&#13;&#10;End: (projectdistance(100, 100, -π/6, ${_me.XY}) &gt; 0 ? 18.45 : -18.45), (${y} &gt; 100 ? 3.34 : -3.34)&#13;&#10;Waymarks: 4321DCBA&#13;&#10;">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴]}" ExpressionTypeL="String" ExpressionR="^翻" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="9" ActionType="UseTTS" ExecutionDelayExpression="700" UseTTSTextExpression="别动"/>
                      <Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="2000"/>
                      <Action OrderNumber="11" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="tmp_is低层数" VariableExpression="${d:U7a2_光暴_初始光[${_me.id}]} + ${l:U7a2_光暴_环_pIdx.contain(${v:myIdx})} &lt;= 1"/>
                      <Action OrderNumber="12" ActionType="UseTTS" UseTTSTextExpression="穿，${if: ${v:tmp_is低层数} ? 回场中踩塔 : 塔外八方站位 }"/>
                      <Action OrderNumber="13" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;Waymarks: A1D4C3B2&#13;&#10;R: ${v:tmp_is低层数} ? 4 : 8&#13;&#10;O: 100, 100"/>
                      <Action OrderNumber="14" ActionType="NamedCallback" ExecutionDelayExpression="6900" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;Waymarks: A1D4C3B2&#13;&#10;R: 8&#13;&#10;O: 100, 100"/>
                      <Action OrderNumber="15" ActionType="Variable" VariableName="tmp_is低层数"/>
                      <Action OrderNumber="16" ActionType="UseTTS" ExecutionDelayExpression="4000" UseTTSTextExpression="八方分散"/>
                      <Action OrderNumber="17" ActionType="UseTTS" ExecutionDelayExpression="18000" UseTTSTextExpression="AoE，靠近场中"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="7687a81c-f753-4724-9c6e-649d25957244" Name="本地/网络取消标点" RegularExpression="^.{15}\S+ 1D:Add:(?&lt;id&gt;\d+):(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;1.{7})">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0xE0000000,&#13;&#10;  &quot;MarkType&quot;: ${n: ${id} + 1},&#13;&#10;  &quot;LocalOnly&quot;: true &#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|-1)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/mk ${f:repeat(2, &quot; &lt;&quot;):${f:tolower:${_entity[${tid}].Marker}}}&gt;">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴标点mode]}" ExpressionTypeL="String" ExpressionR="-2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P2光暴标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|-1|-2)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="77ca7080-7108-40af-aa86-3919766670d9" Name="分散分摊" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D1(?&lt;type&gt;C|D):" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Variable" VariableOp="SetNumeric" VariableName="_tmp_is低层数" VariableExpression="${v:U7a_phase} == P2光暴 &amp;&amp; 0${d:U7a2_光暴_初始光[${_me.id}]} + 0${l:U7a2_光暴_环_pIdx.contain(${v:myIdx})} &lt;= 1"/>
                      <Action OrderNumber="2" ActionType="UseTTS" ExecutionDelayExpression="${v:_tmp_is低层数} ? 1600 : 0" UseTTSTextExpression="${?l:&#13;&#10;  上北, 右东, 左西, 下南, 左下, 右下, 左上, 右上,&#13;&#10;  上北, 右东, 左西, 下南, 左西, 下南, 上北, 右东,&#13;&#10;  [${n: ${v:myIdx} + 8 * (C == C)}]&#13;&#10;}，${if: ${type} == C ? 两人分摊 : 全体分散 }"/>
                      <Action OrderNumber="3" ActionType="Variable" VariableName="_tmp_is低层数"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers/>
          </Folder>
          <Folder Id="9dbb0d3b-68cd-4813-aabe-9612771e4628" Name="P3" Enabled="true">
            <Folders>
              <Folder Id="3e26e81c-03cd-4fb0-a089-6f912d2b5684" Name="B. 二运" Enabled="true" RawEnvironmentVariables="phase = P3二运">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="0074c986-a028-4497-bb75-03d2b521c0f1" Name="O3.2 时间轴（地火回中）" RegularExpression="^U7a3_二运_时间轴:is顺:(?&lt;is顺&gt;[01]):dir8:(?&lt;dir8&gt;.):1组dir8:(?&lt;g1_3&gt;[0-7]):(?&lt;g1_2&gt;[0-7]):2组dir8:(?&lt;g2_3&gt;[0-7]):(?&lt;g2_2&gt;[0-7])" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="15000"/>
                      <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="((roundvec(-100 + ${_me.x, y} - 100, 8) - ${g1_2}) %% 4 = 0 &amp;&amp; d(${_me.x, y}, 100, 100) &lt;= 13) ? 0 : 500"/>
                      <Action OrderNumber="3" ActionType="UseTTS" UseTTSTextExpression="场中分摊" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="^单" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="UseTTS" UseTTSTextExpression="场中分摊，${if: ${v:U7a3_二运_my散isG1} = ${v:U7a3_二运_my摊isG1} ? 留在同侧 : 换到对侧 }" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="^双" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(${g1_3}, 8)&#13;&#10;A: 0, -3.75, ${v:U7a3_二运_my摊isG1} ? 0 : -2&#13;&#10;B: 0,  3.75, ${v:U7a3_二运_my摊isG1} ? -2 : 0&#13;&#10;---&#13;&#10;O: 100, 100, ${v:U7a3_二运_my摊isG1} ? 0 : -2&#13;&#10;θ: dir2rad(${g1_2}, 8)&#13;&#10;C: 0, -3.75&#13;&#10;1: 0, -6.75&#13;&#10;3: 0, -9.75&#13;&#10;---&#13;&#10;O: 100, 100, ${v:U7a3_二运_my摊isG1} ? -2 : 0&#13;&#10;θ: dir2rad(${g1_2}, 8)&#13;&#10;D: 0, 3.75&#13;&#10;2: 0, 6.75&#13;&#10;4: 0, 9.75"/>
                      <Action OrderNumber="6"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="f97e450a-f16d-4ad6-9abf-9e224db0160d" Name="O1.3 初始分组 指挥标点" RegularExpression="^U7a3_二运_分组:" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Description="科技 &amp;&amp; 指挥" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a3_二运_G1idx[1]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;attack1&quot;,  &#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a3_二运_G1idx[2]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;attack2&quot;,  &#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a3_二运_G1idx[3]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;attack3&quot;,  &#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="5" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a3_二运_G1idx[4]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;attack4&quot;,  &#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a3_二运_G2idx[1]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;bind1&quot;,  &#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="7" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a3_二运_G2idx[2]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;bind2&quot;,  &#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="8" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a3_二运_G2idx[3]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;bind3&quot;,  &#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="9" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;    &quot;ActorID&quot;: 0x${l:party[${l:U7a3_二运_G2idx[4]}]},&#13;&#10;    &quot;MarkType&quot;: &quot;square&quot;,  &#13;&#10;    &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="39000"/>
                      <Action OrderNumber="11" ActionType="NamedCallback" NamedCallbackName="queue" NamedCallbackParam="[&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack1 &lt;attack1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack2 &lt;attack2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack3 &lt;attack3&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack4 &lt;attack4&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind1   &lt;bind1&gt;  &quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind2   &lt;bind2&gt;  &quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind3   &lt;bind3&gt;  &quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk square  &lt;square&gt; &quot;},&#13;&#10;]"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运isCmd]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="2d800006-9b8c-45c1-a9e0-bf5eb950fc2a" Name="O1.1 初始分组 TTS" RegularExpression="^U7a3_二运_分组:isG1:(?&lt;isG1&gt;0|1)">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="${if: ${isG1} ? 壹组左侧分摊 : 贰组右侧分摊 }"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="f0a46465-8751-44fc-81c0-6ea82e3feee0" Name="O1.2 初始分组 文本" RegularExpression="^U7a3_二运_分组:" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Description="非科技" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="tmp_roles" ListVariableExpression="${?l:ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４[${l:U7a3_二运_水idx[${_idx}]}]}" ListVariableIndex="8">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[publicChannel]} &#13;&#10; 　　 无　　 短　　中　　長&#13;&#10; 左：${l:tmp_roles.join(&quot;　 &quot;, &quot;1::2&quot;)}&#13;&#10; 右：${l:tmp_roles.join(&quot; 　&quot;, &quot;2::2&quot;)}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="ListVariable" ListVariableName="tmp_roles">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="500"/>
                      <Action OrderNumber="6" ActionType="Placeholder" Description="科技 &amp;&amp; 指挥（加延迟防止标点消息盖过文本）" DescriptionOverride="True"/>
                      <Action OrderNumber="7" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="tmp_roles1" ListVariableExpression="${?l:ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４[${l:U7a3_二运_G1idx[${_idx}]}]}" ListVariableIndex="4">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运isCmd]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="8" ActionType="ListVariable" ListVariableOp="SetAll" ListVariableName="tmp_roles2" ListVariableExpression="${?l:ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４[${l:U7a3_二运_G2idx[${_idx}]}]}" ListVariableIndex="4">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运isCmd]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="9" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/p &#13;&#10; 左：${l:tmp_roles1[1]}　${l:tmp_roles1[2]}　${l:tmp_roles1[3]}　${l:tmp_roles1[4]}&#13;&#10; 右：${l:tmp_roles2[1]}　${l:tmp_roles2[2]}　${l:tmp_roles2[3]}　${l:tmp_roles2[4]}">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运isCmd]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="10" ActionType="ListVariable" ListVariableName="tmp_roles1">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运isCmd]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="11" ActionType="ListVariable" ListVariableName="tmp_roles2">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运]}" ExpressionTypeL="String" ExpressionR="单分科" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运isCmd]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="4ba5fbec-b385-4a00-8b47-dad69a66a9eb" Name="O2.1 初始地火播报" RegularExpression="^U7a3_二运_地火:is顺:(?&lt;is顺&gt;[01]):dir8:(?&lt;dir8&gt;.):1组dir8:(?&lt;g1_3&gt;[0-7]):(?&lt;g1_2&gt;[0-7]):2组dir8:(?&lt;g2_3&gt;[0-7]):(?&lt;g2_2&gt;[0-7])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="稍后第火去${f:pick(${n: ${v:U7a3_二运_my散isG1} ? 0${g1_3} : 0${g2_3} }): 上北, 左上, 左西, 左下, 下南, 右下, 右东, 右上}，${if: ${is顺} ? 顺 : 逆 }时针">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3二运未来观测on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="81dbb156-4523-46a4-b7d2-8bccd88115ad" Name="O4. 击退" RegularExpression="^.{15}\S+ 1[56]:(?&lt;sid&gt;4.{7}):[^:]*:9CF6:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="1000">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Variable" ExecutionDelayExpression="1000" Asynchronous="False" VariableOp="SetString" VariableName="tmp_xy" VariableExpression="${_entity[${sid}].x, y}"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: ${v:tmp_xy}&#13;&#10;θ: θ(100, 100, ${v:tmp_xy})&#13;&#10;1: -6, 8, ${v:U7a3_二运_my摊isG1} ?  0 : -2&#13;&#10;2:  6, 8, ${v:U7a3_二运_my摊isG1} ? -2 :  0&#13;&#10;---&#13;&#10;Action: Linear&#13;&#10;O: ${v:tmp_xy}&#13;&#10;θ: θ(100, 100, ${v:tmp_xy})&#13;&#10;ScaleX: ${v:U7a3_二运_my摊isG1} ? -1 : 1&#13;&#10;Start: polar  3, 5°&#13;&#10;End:   polar 18, 5°&#13;&#10;Waymarks: ABCD34"/>
                      <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" VariableName="tmp_xy"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="0e94bcb6-9d99-4270-9e1b-430b7ab8befe" Name="O3.1 时间轴" RegularExpression="^U7a3_二运_时间轴:is顺:(?&lt;is顺&gt;[01]):dir8:(?&lt;dir8&gt;.):1组dir8:(?&lt;g1_3&gt;[0-7]):(?&lt;g1_2&gt;[0-7]):2组dir8:(?&lt;g2_3&gt;[0-7]):(?&lt;g2_2&gt;[0-7])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Description="3 地火日志 | 10 分摊 | 13 跳 | 23 分散 | 29 分摊 | 32 跳 | 34 击退" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="Beep:2.3" LogProcess="True"/>
                      <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="Beep:4.9" LogProcess="True"/>
                      <Action OrderNumber="4" ActionType="LogMessage" LogMessageText="cd4:21.3" LogProcess="True">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="UseTTS" ExecutionDelayExpression="2100" UseTTSTextExpression="全体分散"/>
                      <Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="2000"/>
                      <Action OrderNumber="7" ActionType="UseTTS" UseTTSTextExpression="${f:pick(${n: ${v:U7a3_二运_my散isG1} ? ${g1_3} : ${g2_3} }): &#13;&#10; 上北，A, &#13;&#10; 左上，壹, &#13;&#10; 左西，D, &#13;&#10; 左下，肆, &#13;&#10; 下南，C, &#13;&#10; 右下，叁, &#13;&#10; 右东，B, &#13;&#10; 右上，贰&#13;&#10;}偏${f:pick(${n: ${v:U7a3_二运_my散isG1} ? ${g1_2} : ${g2_2} }): A, 壹, D, 肆, C, 叁, B, 贰}"/>
                      <Action OrderNumber="8" ActionType="Placeholder" Description="标点：用非安全点的四个点标在外面，安全点对应的四个点仅微调半径指示方向" DescriptionOverride="True"/>
                      <Action OrderNumber="9" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=",A,1,D,4,C,3,B,2" ListVariableTarget="tmp_危险点"/>
                      <Action OrderNumber="10" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="tmp_安全点" VariableExpression="${f:pick(${g1_3}): A, 1, D, 4, C, 3, B, 2}${f:pick(${g1_2}): A, 1, D, 4, C, 3, B, 2}${f:pick(${g2_3}): A, 1, D, 4, C, 3, B, 2}${f:pick(${g2_2}): A, 1, D, 4, C, 3, B, 2}"/>
                      <Action OrderNumber="11" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="tmp_危险点" ListVariableExpression="!${f:contain(${_this}):${v:tmp_安全点}}" ListVariableTarget="tmp_危险点"/>
                      <Action OrderNumber="12" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;O: 100, 100&#13;&#10;R: 10.25&#13;&#10;Waymarks: A1D4C3B2&#13;&#10;---&#13;&#10;O: 100, 100&#13;&#10;θ: dir2rad(0${g1_3}, 8)&#13;&#10;${l:tmp_危险点[1]}:  3.5, -17.5&#13;&#10;${l:tmp_危险点[2]}: -3.5, -17.5&#13;&#10;${l:tmp_危险点[3]}: -3.5,  17.5&#13;&#10;${l:tmp_危险点[4]}:  3.5,  17.5"/>
                      <Action OrderNumber="13" ActionType="Variable" Asynchronous="False" VariableName="tmp_安全点"/>
                      <Action OrderNumber="14" ActionType="ListVariable" Asynchronous="False" ListVariableName="tmp_危险点"/>
                      <Action OrderNumber="15" ActionType="Placeholder" ExecutionDelayExpression="17000"/>
                      <Action OrderNumber="16" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(${v:U7a3_二运_my摊isG1} ? ${g1_2} : ${g2_2}, 8)&#13;&#10;A: 0, -6&#13;&#10;3: 0, -10&#13;&#10;C: 0, -14&#13;&#10;1: 0, -18&#13;&#10;B: 0, 6&#13;&#10;4: 0, 10&#13;&#10;D: 0, 14&#13;&#10;2: 0, 18"/>
                      <Action OrderNumber="17" ActionType="Placeholder" ExecutionDelayExpression="2600"/>
                      <Action OrderNumber="18" ActionType="UseTTS" UseTTSTextExpression="击退，${if: ${v:U7a3_二运_my摊isG1} ? 壹组左 : 贰组右 }侧分摊"/>
                      <Action OrderNumber="19" ActionType="Placeholder" ExecutionDelayExpression="6800"/>
                      <Action OrderNumber="20" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="e9953491-c20e-4806-9472-46185e10cca9" Name="O2.2 地火文本播报" RegularExpression="^U7a3_二运_地火:is顺:(?&lt;is顺&gt;[01]):dir8:(?&lt;dir8&gt;.):1组dir8:(?&lt;g1_3&gt;[0-7]):(?&lt;g1_2&gt;[0-7]):2组dir8:(?&lt;g2_3&gt;[0-7]):(?&lt;g2_2&gt;[0-7])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="${pd:U7a_cfg[P3二运未来观测on]} ? 0 : 9000"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/${if: ${pd:U7a_cfg[P3二运isCmd]} &amp;&amp; ${pd:U7a_cfg[P3二运]} == 单分科 ? p : ${pd:U7a_cfg[publicChannel]} } &#13;&#10;1 ${if: ${_ffxivisglobal} ? 組 : 组 }：${f:pick(${g1_3}): A, 1, D, 4, C, 3, B, 2} 偏 ${f:pick(${g1_2}): A, 1, D, 4, C, 3, B, 2} （${f:pick(${g1_3}): 上, 左上, 左, 左下, 下, 右下, 右, 右上} 偏 ${f:pick(${g1_2}): 上, 左上, 左, 左下, 下, 右下, 右, 右上}）&#13;&#10;2 ${if: ${_ffxivisglobal} ? 組 : 组 }：${f:pick(${g2_3}): A, 1, D, 4, C, 3, B, 2} 偏 ${f:pick(${g2_2}): A, 1, D, 4, C, 3, B, 2} （${f:pick(${g2_3}): 上, 左上, 左, 左下, 下, 右下, 右, 右上} 偏 ${f:pick(${g2_2}): 上, 左上, 左, 左下, 下, 右下, 右, 右上}）"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="4acc250f-b68f-47d3-a7f0-f16330f1135e" Name="A. 一运" Enabled="true" RawEnvironmentVariables="phase = P3一运">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="946e7e38-bff4-462e-819f-e8f9cc1c25fd" Name="+0.  时间压缩" RegularExpression="^.{15}\S+ 14:(?&lt;id&gt;4.{7}):[^:]+:9D4A:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="AoE，时间压缩"/>
                      <Action OrderNumber="2" Enabled="False" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${id}].address}, 0.6"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetObjectScale" NamedCallbackParam="${_entity[${id}].address}, 2"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="413a7439-90fd-40d2-aa92-2ecfc805dda0" Name="O1.1 初始播报" RegularExpression="^U7a3_一运_self:my点名:(?&lt;my点名&gt;[0-9])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="0 = 对侧挂机 1 = 正中心 2 = 中心偏外 3 = 沙漏下 4 = 沙漏引导 5 = 场外" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" ListVariableExpressionType="Numeric" NamedCallbackName="hint" NamedCallbackParam="42&#13;&#10;${f:pick(0${my点名}): &#13;&#10;  &quot;【正下】　场外 》 灯下 》 场中 》 灯外 》 场中 》 对侧⏎　　　　　分散 　 记录 　 分摊 　 引导 　 分摊 　 挂机&quot;,&#13;&#10;  &quot;【正下】　场中 》 灯下 》 场中 》 灯外 》 场中 》 对侧⏎　　　　　分摊 　 记录 　 分摊 　 引导 　 分摊 　 挂机&quot;,&#13;&#10;  &quot;【${if: ${pd:U7a_cfg[P3一运]} == 国 ? 正左 : 正右 }】　场中 》 灯下 》 场外 》 场中 》 场中 》 灯外⏎　　　　　分摊 　 记录 　 分散 　 挂机 　 分摊 　 引导&quot;,&#13;&#10;  &quot;【左下】　场中 》 灯外 》 场中 》 场中 》 场外 》 对侧⏎　　　　　分摊 　 引导 　 分摊 　 记录 　 分散 　 挂机&quot;,&#13;&#10;  &quot;【右下】　场中 》 灯外 》 场中 》 场中 》 场外 》 对侧⏎　　　　　分摊 　 引导 　 分摊 　 记录 　 分散 　 挂机&quot;,&#13;&#10;  &#13;&#10;  &quot;【左上】　场外 》 灯下 》 场中 》 灯外 》 场中 》 对侧⏎　　　　　分散 　 记录 　 分摊 　 引导 　 分摊 　 挂机&quot;,&#13;&#10;  &quot;【右上】　场外 》 灯下 》 场中 》 灯外 》 场中 》 对侧⏎　　　　　分散 　 记录 　 分摊 　 引导 　 分摊 　 挂机&quot;,&#13;&#10;  &quot;【${if: ${pd:U7a_cfg[P3一运]} == 国 ? 正右 : 正左 }】　场中 》 场中 》 场外 》 场中 》 场中 》 灯外⏎　　　　　分摊 　 记录 　 分散 　 挂机 　 分摊 　 引导&quot;,&#13;&#10;  &quot;【正上】　场中 》 灯外 》 场中 》 场中 》 场外 》 对侧⏎　　　　　分摊 　 引导 　 分摊 　 记录 　 分散 　 挂机&quot;,&#13;&#10;  &quot;【正上】　场中 》 灯外 》 场中 》 场中 》 场中 》 对侧⏎　　　　　分摊 　 引导 　 分摊 　 记录 　 分摊 　 挂机&quot;,&#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_ffxivisglobal}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="NamedCallback" ListVariableExpressionType="Numeric" NamedCallbackName="hint" NamedCallbackParam="42&#13;&#10;${f:pick(0${my点名}): &#13;&#10;  &quot;【正下】　場外 》 灯下 》 場中 》 灯外 》 場中 》 對面⏎　　　　　分散 　 記録 　 集合 　 引導 　 集合 　 挂机&quot;,&#13;&#10;  &quot;【正下】　場中 》 灯下 》 場中 》 灯外 》 場中 》 對面⏎　　　　　集合 　 記録 　 集合 　 引導 　 集合 　 挂机&quot;,&#13;&#10;  &quot;【${if: ${pd:U7a_cfg[P3一运]} == 国 ? 正左 : 正右 }】　場中 》 灯下 》 場外 》 場中 》 場中 》 灯外⏎　　　　　集合 　 記録 　 分散 　 挂机 　 集合 　 引導&quot;,&#13;&#10;  &quot;【左下】　場中 》 灯外 》 場中 》 場中 》 場外 》 對面⏎　　　　　集合 　 引導 　 集合 　 記録 　 分散 　 挂机&quot;,&#13;&#10;  &quot;【右下】　場中 》 灯外 》 場中 》 場中 》 場外 》 對面⏎　　　　　集合 　 引導 　 集合 　 記録 　 分散 　 挂机&quot;,&#13;&#10;  &#13;&#10;  &quot;【左上】　場外 》 灯下 》 場中 》 灯外 》 場中 》 對面⏎　　　　　分散 　 記録 　 集合 　 引導 　 集合 　 挂机&quot;,&#13;&#10;  &quot;【右上】　場外 》 灯下 》 場中 》 灯外 》 場中 》 對面⏎　　　　　分散 　 記録 　 集合 　 引導 　 集合 　 挂机&quot;,&#13;&#10;  &quot;【${if: ${pd:U7a_cfg[P3一运]} == 国 ? 正右 : 正左 }】　場中 》 場中 》 場外 》 場中 》 場中 》 灯外⏎　　　　　集合 　 記録 　 分散 　 挂机 　 集合 　 引導&quot;,&#13;&#10;  &quot;【正上】　場中 》 灯外 》 場中 》 場中 》 場外 》 對面⏎　　　　　集合 　 引導 　 集合 　 記録 　 分散 　 挂机&quot;,&#13;&#10;  &quot;【正上】　場中 》 灯外 》 場中 》 場中 》 場中 》 對面⏎　　　　　集合 　 引導 　 集合 　 記録 　 集合 　 挂机&quot;,&#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_ffxivisglobal}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="UseTTS" UseTTSTextExpression="准备去${f:pick(0${my点名}): &#13;&#10;  &quot;正下，场外分散&quot;,&#13;&#10;  &quot;正下，场中分摊&quot;,&#13;&#10;  &quot;${if: ${pd:U7a_cfg[P3一运]} == 国 ? 正左 : 正右 }，场中分摊&quot;,&#13;&#10;  &quot;左下，场中分摊&quot;,&#13;&#10;  &quot;右下，场中分摊&quot;,&#13;&#10;  &#13;&#10;  &quot;左上，场外分散&quot;,&#13;&#10;  &quot;右上，场外分散&quot;,&#13;&#10;  &quot;${if: ${pd:U7a_cfg[P3一运]} == 国 ? 正右 : 正左 }，场中分摊&quot;,&#13;&#10;  &quot;正上，场中分摊&quot;,&#13;&#10;  &quot;正上，场中分摊&quot;,&#13;&#10;}"/>
                      <Action OrderNumber="5" ActionType="UseTTS" ExecutionDelayExpression="6000" UseTTSTextExpression="${f:pick(0${my点名}): &#13;&#10;  &quot;场外分散&quot;,&#13;&#10;  &quot;场中分摊&quot;,&#13;&#10;  &quot;场中分摊&quot;,&#13;&#10;  &quot;场中分摊&quot;,&#13;&#10;  &quot;场中分摊&quot;,&#13;&#10;  &#13;&#10;  &quot;场外分散&quot;,&#13;&#10;  &quot;场外分散&quot;,&#13;&#10;  &quot;场中分摊&quot;,&#13;&#10;  &quot;场中分摊&quot;,&#13;&#10;  &quot;场中分摊&quot;,&#13;&#10;}"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="203833d2-11e7-4ae1-9945-f98f5ff07424" Name="O2.1 时间轴" RegularExpression="^U7a3_一运:dir8:(?&lt;dir8&gt;[0-7]):myDir8:(?&lt;myDir8&gt;[0-7]):my点名:(?&lt;my点名&gt;[0-9]):">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#13;&#10;1: 0, -4.0, -1&#13;&#10;2: 0, -6.0, -1&#13;&#10;3: fakeclear&#13;&#10;4: fakeclear"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#13;&#10;A: 0, -${?d: 散 = 13, 摊 = 1 [${l:U7a3_一运_自身路线[1]}]}&#13;&#10;B: fakeclear&#13;&#10;C: fakeclear&#13;&#10;D: fakeclear"/>
                      <Action OrderNumber="3" ActionType="UseTTS" ExecutionDelayExpression="7500" Asynchronous="False" UseTTSTextExpression="${?d: 记录外 = 沙漏下方记录, 记录内 = 中心偏外记录, 引导 = 引导激光 [${l:U7a3_一运_自身路线[2]}]}"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#13;&#10;A: 0, -${?d: 记录外 = 8.5, 记录内 = 1 [${l:U7a3_一运_自身路线[2]}]}&#13;&#10;B: fakeclear&#13;&#10;C: fakeclear&#13;&#10;D: fakeclear">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_自身路线[2]}" ExpressionTypeL="String" ExpressionR="引导" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" UseTTSTextExpression="${?d: 散 = 场外分散, 摊 = 中心分摊 [${l:U7a3_一运_自身路线[3]}]}"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#13;&#10;A: 0, -${?d: 散 = 13, 摊 = 1 [${l:U7a3_一运_自身路线[3]}]}&#13;&#10;B: fakeclear&#13;&#10;C: fakeclear&#13;&#10;D: fakeclear"/>
                      <Action OrderNumber="7" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" UseTTSTextExpression="${?d: 挂机 = 中心挂机, 记录内 = 中心偏外记录, 引导 = 引导激光 [${l:U7a3_一运_自身路线[4]}]}"/>
                      <Action OrderNumber="8" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#13;&#10;A: 0, -${?d: 挂机 = 1, 记录内 = 1 [${l:U7a3_一运_自身路线[4]}]}&#13;&#10;B: fakeclear&#13;&#10;C: fakeclear&#13;&#10;D: fakeclear">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_自身路线[4]}" ExpressionTypeL="String" ExpressionR="引导" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="9" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" UseTTSTextExpression="${?d: 散 = 场外分散, 摊 = 中心分摊 [${l:U7a3_一运_自身路线[5]}]}"/>
                      <Action OrderNumber="10" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#13;&#10;A: 0, -${?d: 散 = 13, 摊 = 1 [${l:U7a3_一运_自身路线[5]}]}&#13;&#10;B: fakeclear&#13;&#10;C: fakeclear&#13;&#10;D: fakeclear"/>
                      <Action OrderNumber="11" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" UseTTSTextExpression="${?d: 对侧 = 去对侧输出, 引导 = 引导激光 [${l:U7a3_一运_自身路线[6]}]}"/>
                      <Action OrderNumber="12" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: dir2rad(${v:U7a3_一运_myDir8}, 8)&#13;&#10;A: 0, 1&#13;&#10;B: 0, 3&#13;&#10;C: 0, 5&#13;&#10;D: 0, 7">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${l:U7a3_一运_自身路线[6]}" ExpressionTypeL="String" ExpressionR="引导" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="13" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" UseTTSTextExpression="${?d: 对侧 = 注意面向, 引导 = 原地背对 [${l:U7a3_一运_自身路线[6]}]}"/>
                      <Action OrderNumber="14" ActionType="NamedCallback" ExecutionDelayExpression="4000" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                      <Action OrderNumber="15" ActionType="UseTTS" ExecutionDelayExpression="3000" Asynchronous="False" UseTTSTextExpression="中心分摊"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="863aa82d-195a-4410-beaa-640297e02820" Name="O2.3 正北放置镜子" RegularExpression="^U7a3_一运:dir8:(?&lt;dir8&gt;[0-7]):">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="条件：on" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="MapEffect" NamedCallbackParam="02000100:0${n: 8 - (${dir8} - 1) %% 8}"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" ExecutionDelayExpression="45000" DescTextColor="26f" NamedCallbackName="MapEffect" NamedCallbackParam="00080004:0${n: 8 - (${dir8} - 1) %% 8}"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运镜子on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="2a21348a-fa67-47f5-8704-9cef13dc8f44" Name="O3.  沙漏方向标记" RegularExpression="^U7a3_一运_沙漏:(?&lt;id&gt;.{8}):is顺:(?&lt;is顺&gt;[01]):dir8:(?&lt;dir8&gt;[0-7])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100 polar 9.5, dir2rad(${v:U7a3_一运_myDir8}, 8)&#13;&#10;θ: dir2rad(${v:U7a3_一运_myDir8}, 8) + (0${is顺} ? 80° : -80°)&#13;&#10;Waymarks: ABCD&#13;&#10;Start: 0,  0&#13;&#10;End:   0, -6">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${dir8}" ExpressionTypeL="String" ExpressionR="${v:U7a3_一运_myDir8}" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="false" Id="cbf88dcd-5833-446a-96ea-0638280bf592" Name="取消身上延迟咏唱特效 （没用?" RegularExpression="^.{15}\S+ 1A:(?&lt;statusId&gt;99B):[^:]*:[^:]*:.{8}:[^:]*:(?&lt;tid&gt;1.{7}):" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="RemoveStatus" NamedCallbackParam="${_entity[${tid}].address}, 0x${statusId}"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" ExecutionDelayExpression="1000" DescTextColor="26f" NamedCallbackName="Redraw" NamedCallbackParam="${_entity[${tid}].address}"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="10d4cf72-ec2e-4405-8247-4a2b793611b6" Name="初始激光判定" RegularExpression="^.{15}\S+ 1[56]:4.{7}:[^:]*:9D2B:[^:]*:(?&lt;tid&gt;1.{7}):([^:]*:){38}0:" PrevActionsRefire="Deny" PeriodRefire="Deny" RefirePeriodExpression="500">
                    <Actions>
                      <Action OrderNumber="1" SystemBeepLengthExpression="200"/>
                      <Action OrderNumber="2" ActionType="UseTTS" UseTTSTextExpression="躲开"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                      <ConditionSingle Enabled="true" ExpressionL="d(${_me.x}, ${_me.y}, 100, 100)" ExpressionTypeL="Numeric" ExpressionR="6" ExpressionTypeR="String" ConditionType="NumericGreaterEqual"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="e9a88b3e-2e02-4f55-aa88-45b639bb516f" Name="O2.2 文字播报" RegularExpression="^U7a3_一运:dir8:(?&lt;dir8&gt;[0-7]):myDir8:(?&lt;myDir8&gt;[0-7]):my点名:(?&lt;my点名&gt;[0-9]):冰isD:(?&lt;冰isD&gt;[01]):点名:(?&lt;p1&gt;\d)(?&lt;p2&gt;\d)(?&lt;p3&gt;\d)(?&lt;p4&gt;\d)(?&lt;p5&gt;\d)(?&lt;p6&gt;\d)(?&lt;p7&gt;\d)(?&lt;p8&gt;\d)">
                    <Actions>
                      <Action OrderNumber="1" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="tmp_正北逆标点" ListVariableExpression="${f:slice(${n: (${_idx} - 1 + ${dir8}) % 8 }):${f:toxivchar:A1D4C3B2}}" ListVariableIndex="8"/>
                      <Action OrderNumber="2" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="tmp_各人的方向" ListVariableExpression="${?d: 0 = 4, 1 = 4, 2 = 2, 3 = 3, 4 = 5, 5 = 1, 6 = 7, 7 = 6, 8 = 0, 9 = 0 [${p${_idx}}]}" ListVariableIndex="8">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="国" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="国HTDH" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="tmp_各人的方向" ListVariableExpression="${?d: 0 = 4, 1 = 4, 2 = 6, 3 = 3, 4 = 5, 5 = 1, 6 = 7, 7 = 2, 8 = 0, 9 = 0 [${p${_idx}}]}" ListVariableIndex="8">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运]}" ExpressionTypeL="String" ExpressionR="美" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="DictVariable" Asynchronous="False" DictVariableOp="SetAll" DictVariableKeyType="Numeric" DictVariableName="tmp_各方向的人" DictVariableLength="8" DictVariableKey="${l:tmp_各人的方向[${_idx}]}" DictVariableValue="${?l: ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４ [${_idx}]}"/>
                      <Action OrderNumber="5" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="tmp_每人点名描述" ListVariableExpression="${?d: &#13;&#10;  0 = 短火 正下, &#13;&#10;  1 = 冰　 正下, &#13;&#10;  2 = 中火 ${if: ${pd:U7a_cfg[P3一运]} == 美 ? 正右 : 正左 }, &#13;&#10;  3 = 长高 左下,&#13;&#10;  4 = 长低 右下, &#13;&#10;  5 = 短高 左上,&#13;&#10;  6 = 短低 右上,&#13;&#10;  7 = 中火 ${if: ${pd:U7a_cfg[P3一运]} == 美 ? 正左 : 正右 },&#13;&#10;  8 = 长火 正上,&#13;&#10;  9 = 冰　 正上&#13;&#10;[${p${_idx}}]} ${l:tmp_正北逆标点[${n: ${l:tmp_各人的方向[${_idx}]} + 1}]}" ListVariableIndex="8">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${f:contain(&quot; &quot;):${_me}}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="ListVariable" Asynchronous="False" ListVariableOp="SetAll" ListVariableName="tmp_每人点名描述" ListVariableExpression="${?d: &#13;&#10;  0 = 短火 正下, &#13;&#10;  1 = 冰　 正下, &#13;&#10;  2 = 中火 ${if: ${pd:U7a_cfg[P3一运]} == 美 ? 正右 : 正左 }, &#13;&#10;  3 = 長高 左下,&#13;&#10;  4 = 長低 右下, &#13;&#10;  5 = 短高 左上,&#13;&#10;  6 = 短低 右上,&#13;&#10;  7 = 中火 ${if: ${pd:U7a_cfg[P3一运]} == 美 ? 正左 : 正右 },&#13;&#10;  8 = 長火 正上,&#13;&#10;  9 = 冰　 正上&#13;&#10;[${p${_idx}}]} ${l:tmp_正北逆标点[${n: ${l:tmp_各人的方向[${_idx}]} + 1}]}" ListVariableIndex="8">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${f:contain(&quot; &quot;):${_me}}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[publicChannel]} &#13;&#10;　　　 　　 　　 　 ｜　　　  　  ${d:tmp_各方向的人[0]}&#13;&#10;ＭＴ 》 ${l:tmp_每人点名描述[1]} ｜　　　　　  ${l:tmp_正北逆标点[1]}&#13;&#10;ＳＴ 》 ${l:tmp_每人点名描述[2]} ｜　 ${d:tmp_各方向的人[1]} ${l:tmp_正北逆标点[2]}　 ┃ 　${l:tmp_正北逆标点[8]} ${d:tmp_各方向的人[7]}&#13;&#10;Ｈ１ 》 ${l:tmp_每人点名描述[3]} ｜　　　　　  ┃&#13;&#10;Ｈ２ 》 ${l:tmp_每人点名描述[4]} ｜${d:tmp_各方向的人[2]} ${l:tmp_正北逆标点[3]} ━━ ○ ━━ ${l:tmp_正北逆标点[7]} ${d:tmp_各方向的人[6]}&#13;&#10;Ｄ１ 》 ${l:tmp_每人点名描述[5]} ｜　　　　 ／　  ＼&#13;&#10;Ｄ２ 》 ${l:tmp_每人点名描述[6]} ｜　 ${d:tmp_各方向的人[3]} ${l:tmp_正北逆标点[4]}　 　 　${l:tmp_正北逆标点[6]} ${d:tmp_各方向的人[5]}&#13;&#10;Ｄ３ 》 ${l:tmp_每人点名描述[7]} ｜　　　　　  ${l:tmp_正北逆标点[5]}&#13;&#10;Ｄ４ 》 ${l:tmp_每人点名描述[8]} ｜　　　  　  ${d:tmp_各方向的人[4]}"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="8d747219-d385-4f13-83ab-706ac235bdeb" Name="火倒计时" RegularExpression="^.{15}\S+ 1A:997:([^:]|: )+:(?&lt;t&gt;[^:]+):.{8}:[^:]*:(?&lt;tid&gt;1.{7}):">
                    <Actions>
                      <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="cd5:${t}" LogProcess="True"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="edb59054-73b2-407c-9be6-890295c91055" Name="O1.2 自动摇号（自己 日服专用）" RegularExpression="^U7a3_一运_self:my点名:(?&lt;my点名&gt;[0-9])" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Asynchronous="False" Description="TH   0 短　   1 冰　   2 中　   3 长高   4 长低" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="Placeholder" Asynchronous="False" Description="D    5 短高   6 短低   7 中　   8 长　   9 冰　" DescriptionOverride="True"/>
                      <Action OrderNumber="3" ActionType="Variable" Asynchronous="False" ListVariableExpressionType="Numeric" VariableOp="SetString" VariableName="U7a3_一运_my摇号" VariableExpression="${f:pick(0${my点名}): &#13;&#10;  attack3, attack3, stop1, bind1, bind2,&#13;&#10;  attack1, attack2, stop2, bind3, bind3&#13;&#10;}"/>
                      <Action OrderNumber="4" ActionType="Loop" LoopDelayExpression="1000" LoopIncrExpression="1000">
                        <LoopCondition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_i}" ExpressionTypeL="String" ExpressionR="15000" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                        </LoopCondition>
                        <LoopActions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/mk ${v:U7a3_一运_my摇号} &lt;me&gt;">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${_me.Marker}" ExpressionTypeL="String" ExpressionR="${v:U7a3_一运_my摇号}" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                            </Condition>
                          </Action>
                        </LoopActions>
                      </Action>
                      <Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="33000"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" NamedCallbackName="queue" NamedCallbackParam="[&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack1 &lt;attack1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack2 &lt;attack2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack3 &lt;attack3&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk stop1 &lt;stop1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk stop2 &lt;stop2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind1 &lt;bind1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind2 &lt;bind2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind3 &lt;bind3&gt;&quot;}&#13;&#10;]"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运自动摇号on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="c854b1d0-a588-447a-8922-faeb261a135e" Name="本地/网络取消标点" RegularExpression="^.{15}\S+ 1D:Add:(?&lt;id&gt;\d+):(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;1.{7})">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0xE0000000,&#13;&#10;  &quot;MarkType&quot;: ${n: ${id} + 1},&#13;&#10;  &quot;LocalOnly&quot;: true &#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|-1)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/mk ${f:repeat(2, &quot; &lt;&quot;):${f:tolower:${_entity[${tid}].Marker}}}&gt;">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运标点mode]}" ExpressionTypeL="String" ExpressionR="-2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P3一运标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|-1|-2)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers/>
          </Folder>
          <Folder Id="5c7f2e78-d40f-4360-a023-2811c5a3fac3" Name="P4" Enabled="true">
            <Folders>
              <Folder Id="14c6973b-e6f6-4913-935a-8c95f7b2b10a" Name="A. 开场" Enabled="true" RawEnvironmentVariables="phase = P4开场">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="e1d90327-9cce-4d35-a81f-4b3f7aa5c5e5" Name="+0. 初始化 生成琳" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}17833:([^:]*:){7}(?&lt;y&gt;[^:]+):">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="去${if: ${y} &gt; 100 ? C : A }点方向"/>
                      <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="cd5:4.68" LogProcess="True" LogProcessACT="True"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="99921518-d554-4c18-a5c2-8ba9f9475516" Name="天光轮回" RegularExpression="^.{15}\S+ 1A:8E1:[^:]+:[^:]+:.{8}:[^:]*:(?&lt;tid&gt;4.{7}):[^:]*:223:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="集合站位，天光轮回"/>
                      <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="cd5:5" LogProcess="True" LogProcessACT="True"/>
                      <Action OrderNumber="3" ActionType="UseTTS" ExecutionDelayExpression="4800" UseTTSTextExpression="躲开"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="46ce01da-6e66-4596-b35e-dfd2a958caa2" Name="缩小实体" RegularExpression="^.{15}\S+ 03:(?&lt;id&gt;4.{7}):([^:]*:){7}1783[35]:" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" Enabled="False" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${id}].address}, 2"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetObjectScale" NamedCallbackParam="${_entity[${id}].address}, 3"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="c8edbf47-ae3d-462c-905d-59a0100f42de" Name="B. 一运" Enabled="true" RawEnvironmentVariables="phase = P4一运">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="e342655e-ad56-480f-b4e8-aa335f0a3fc8" Name="+0. 初始" RegularExpression="^.{15}\S+ 15:4.{7}:[^:]*:9CFA:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" ExecutionDelayExpression="6600" UseTTSTextExpression="AoE，壹运，${f:ifstartwith(翻绳, 双横排站位, 双竖排站位):${pd:U7a_cfg[P4一运]}}"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="dd88a068-f847-4ca1-b228-4111d543848b" Name="O3. 神圣之翼 " RegularExpression="^U7a4_一运_半场:isRSafe:(?&lt;isRSafe&gt;[01])" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="300"/>
                      <Action OrderNumber="2" ActionType="UseTTS" UseTTSTextExpression="${if: (${_me.x} &gt; 100) = ${isRSafe} ? 留在 : 穿到 }${if: ${isRSafe} ? 右 : 左 }侧分摊"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load&#13;&#10;---&#13;&#10;O: 100 + (${isRSafe} ? 1.1 : -1.1), 100, 0&#13;&#10;${if: ${isRSafe} ? 1 : 2 }: 0, -5√2&#13;&#10;${if: ${isRSafe} ? 4 : 3 }: 0,  5√2"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="c57d8ac7-735a-4684-9859-dc370b1e13b8" Name="O2.1a 时间轴前半（翻绳）" RegularExpression="^U7a4_一运:(?&lt;连线形状&gt;蝴蝶|沙漏|方形):myPrio:(?&lt;myPrio&gt;[1-8]):有线:(?&lt;有线&gt;[01]):my位置:(?&lt;my位置&gt;[1-4]):换:(?&lt;换&gt;[01])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Description="连线组" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="${连线形状}，${if: ${换} ? &quot;换到&quot; : &quot;&quot; }${if: ${my位置} &lt;= 2 ? 上北 : 下南 }踩塔">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${有线}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="无连线组" DescriptionOverride="True"/>
                      <Action OrderNumber="4" Enabled="False" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="无连线，${if: ${换} ? &quot;换到&quot; : &quot;去&quot; }${if: ${my位置} &lt;= 2 ? 上北 : 下南 }，引导光波">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${有线}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${myPrio}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" Enabled="False" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="无连线，${if: ${换} ? &quot;换到&quot; : &quot;去&quot; }${?l: 左上, 右上, 左下, 右下 [${my位置}]}，引导光波">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${有线}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${myPrio}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="无连线，${?l: 左上, 右上, 左下, 右下 [${my位置}]}引导光波" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${有线}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#13;&#10;1: polar 5, -115°&#13;&#10;4: polar 5,  -65°&#13;&#10;3: polar 5,   65°&#13;&#10;2: polar 5,  115°">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${有线}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^翻绳" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="3f185b29-4958-434f-a149-ade8f0135026" Name="O2.3 文本播报 （simp）" RegularExpression="^U7a4_一运:" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Variable" VariableOp="SetString" VariableName="tmp_连线desc" VariableExpression="⏎· 連線：不換位">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_环_type}" ExpressionTypeL="String" ExpressionR="蝴蝶" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^翻绳" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="Variable" VariableOp="SetString" VariableName="tmp_连线desc" VariableExpression="⏎· 連線：${v:U7a4_一运_环_type}換位（${?l:ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４[${l:U7a4_一运_连线换位_pIdx[1]}]}↓ / ${?l:ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４[${l:U7a4_一运_连线换位_pIdx[2]}]}↑）">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_一运_环_type}" ExpressionTypeL="String" ExpressionR="蝴蝶" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^翻绳" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="Variable" VariableOp="SetString" VariableName="tmp_光波desc" VariableExpression="⏎· 光波：不換位">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="0${l:U7a4_一运_无线换位_pIdx[1]}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^翻绳" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="Variable" VariableOp="SetString" VariableName="tmp_光波desc" VariableExpression="⏎· 光波：${v:U7a4_一运_无线换位侧}側換位（${?l:ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４[${l:U7a4_一运_无线换位_pIdx[1]}]}↓ / ${?l:ＭＴ,ＳＴ,Ｈ１,Ｈ２,Ｄ１,Ｄ２,Ｄ３,Ｄ４[${l:U7a4_一运_无线换位_pIdx[2]}]}↑）">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="0${l:U7a4_一运_无线换位_pIdx[1]}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^翻绳" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/${if: ${pd:U7a_cfg[P4一运标点mode]} &gt;= 1 ? p : ${pd:U7a_cfg[publicChannel]} } &#13;&#10;&#10;　  ${l:U7a4_一运_蝴蝶_role[1]}  ${l:U7a4_一运_蝴蝶_role[2]} &#13;&#10;${l:U7a4_一运_光波_role[1]}  |\   /|  ${l:U7a4_一运_光波_role[2]} &#13;&#10;　　 |  X  |&#13;&#10;${l:U7a4_一运_光波_role[3]}  |/   \|  ${l:U7a4_一运_光波_role[4]} &#13;&#10;　  ${l:U7a4_一运_蝴蝶_role[3]}  ${l:U7a4_一运_蝴蝶_role[4]} ${v:tmp_连线desc}${v:tmp_光波desc}"/>
                      <Action OrderNumber="6" ActionType="Variable" VariableName="tmp_连线desc"/>
                      <Action OrderNumber="7" ActionType="Variable" VariableName="tmp_光波desc"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="d4101016-d626-42ae-9c7d-16a4aaaed2b8" Name="O2.2 时间轴后半" RegularExpression="^U7a4_一运:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Description="光波判定" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="10500"/>
                      <Action OrderNumber="3" ActionType="UseTTS" UseTTSTextExpression="${if: roundvec(${_me.x}-100, ${_me.y}-100, 4) = 0 ? &quot;分散，注意水晶&quot; : &quot;后退分散&quot; }"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" ExecutionDelayExpression="200" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#13;&#10;A: -3.4, -7.1&#13;&#10;B:  3.4, -7.1&#13;&#10;C:  3.4,  8.2&#13;&#10;D: -3.4,  8.2&#13;&#10;1: -8.2, -3.4&#13;&#10;2:  8.2, -3.4&#13;&#10;3:  8.2,  3.4&#13;&#10;4: -8.2,  3.4"/>
                      <Action OrderNumber="5" SystemBeepLengthExpression="200"/>
                      <Action OrderNumber="6" ActionType="Placeholder" Description="跳跃判定（翅膀触发器处理标点和TTS）" DescriptionOverride="True"/>
                      <Action OrderNumber="7" ActionType="Placeholder" ExecutionDelayExpression="2900"/>
                      <Action OrderNumber="8" SystemBeepLengthExpression="200"/>
                      <Action OrderNumber="9" ActionType="Placeholder" Description="分摊判定" DescriptionOverride="True"/>
                      <Action OrderNumber="10" ActionType="Placeholder" ExecutionDelayExpression="3300"/>
                      <Action OrderNumber="11" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="ac66f8f0-a6c5-48b2-a8c1-764068e67d2f" Name="O2.1b 时间轴前半（分摊基准）" RegularExpression="^U7a4_一运:分摊基准:有线:(?&lt;有线&gt;[01]):my位置:(?&lt;my位置&gt;[1-4])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Description="连线组" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="连线，${if: ${my位置} &lt;= 2 ? 上北 : 下南 }踩塔">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${有线}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="Placeholder" Asynchronous="False" Description="无连线组" DescriptionOverride="True"/>
                      <Action OrderNumber="4" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="无连线，${?l: 左上, 右上, 左下, 右下 [${my位置}]}引导光波">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${有线}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100, 0&#13;&#10;1: polar 5, -115°&#13;&#10;4: polar 5,  -65°&#13;&#10;3: polar 5,   65°&#13;&#10;2: polar 5,  115°">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${有线}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^分摊" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="2a02ad96-0c04-4557-9734-526c7ae798e5" Name="O1. 初始点名（分摊基准）" RegularExpression="^U7a4_一运_摊">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="${?d: 1 = 去上北, 2 = 去下南 [${l:U7a4_一运_摊_pIdx.indexof(${v:myIdx})}]}"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运]}" ExpressionTypeL="String" ExpressionR="^分摊" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="2260e726-10a3-4fda-8bf4-07e23007391c" Name="本地/网络取消标点" RegularExpression="^.{15}\S+ 1D:Add:(?&lt;id&gt;\d+):(?&lt;sid&gt;1.{7}):[^:]*:(?&lt;tid&gt;1.{7})">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0xE0000000,&#13;&#10;  &quot;MarkType&quot;: ${n: ${id} + 1},&#13;&#10;  &quot;LocalOnly&quot;: true &#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|-1)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/mk ${f:repeat(2, &quot; &lt;&quot;):${f:tolower:${_entity[${tid}].Marker}}}&gt;">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运标点mode]}" ExpressionTypeL="String" ExpressionR="-2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|-1|-2)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a_phase}" ExpressionTypeL="String" ExpressionR="${env:phase}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="e422457e-b79c-44f9-a948-b29297ef6a66" Name="O2.4 标点（指挥）" RegularExpression="^U7a4_一运:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a4_一运_蝴蝶_pIdx[1]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;stop1  &quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a4_一运_蝴蝶_pIdx[2]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;stop2  &quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a4_一运_蝴蝶_pIdx[4]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;bind2  &quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a4_一运_蝴蝶_pIdx[3]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;bind1  &quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="5" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a4_一运_光波_pIdx[1]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;attack1&quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a4_一运_光波_pIdx[2]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;attack2&quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="7" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a4_一运_光波_pIdx[4]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;attack3&quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="8" ActionType="NamedCallback" NamedCallbackName="mark" NamedCallbackParam="{&#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${l:U7a4_一运_光波_pIdx[3]}]},&#13;&#10;  &quot;MarkType&quot;: &quot;attack4&quot;,&#13;&#10;  &quot;LocalOnly&quot;: false &#13;&#10;}"/>
                      <Action OrderNumber="9" ActionType="NamedCallback" ExecutionDelayExpression="20000" NamedCallbackName="queue" NamedCallbackParam="[&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack1 &lt;attack1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack2 &lt;attack2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack3 &lt;attack3&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack4 &lt;attack4&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk stop1   &lt;stop1&gt;  &quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk stop2   &lt;stop2&gt;  &quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind1   &lt;bind1&gt;  &quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk bind2   &lt;bind2&gt;  &quot;},&#13;&#10;]"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4一运标点mode]}" ExpressionTypeL="String" ExpressionR="^(1|2)$" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                    </Condition>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="8b1f3a16-0eac-4f71-9db3-0258f13fdfdf" Name="C. 二运" Enabled="true" RawEnvironmentVariables="phase = P4二运">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="6695bbe8-c969-4861-a5a9-2490734a5128" Name="+0. 初始" RegularExpression="^.{15}\S+ 14:(?&lt;id&gt;4.{7}):[^:]+:9D30:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="AoE，二运"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" NamedCallbackName="queue" NamedCallbackParam="[&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack1 &lt;attack1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack2 &lt;attack2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack3 &lt;attack3&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack4 &lt;attack4&gt;&quot;}&#13;&#10;]">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运自动摇号]}" ExpressionTypeL="String" ExpressionR="^全队" ExpressionTypeR="String" ConditionType="RegexMatch"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" ExecutionDelayExpression="43000" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="e996c08a-a1ed-4faf-9793-21541fe655c1" Name="O2.1 初始播报（蓝）" RegularExpression="^U7a4_二运_蓝:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="${?d:&#13;&#10;  暗 = 暗分散，去上半场紫线, &#13;&#10;  水 = 人群，去下半场紫线,&#13;&#10;  冰 = 人群，去下半场紫线,&#13;&#10;  圣 = 人群，去下半场紫线&#13;&#10;[${v:U7a4_二运_my蓝}]}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="ad449ed3-d8b0-4f4a-96e4-078594adacd6" Name="O3.1 红冰" RegularExpression="^U7a4_二运:isTL慢:(?&lt;isTL慢&gt;[01]):is红:1:type:(?&lt;type&gt;[12])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="稍后${if: ${v:U7a4_二运_is人群侧红} ? 上去分摊 : ${if: 0${type} = 1 ? 左下 : 右下}贴边躲避 }" UseTTSExclusive="False"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100, 0&#13;&#10;ScaleX: ${type} = 1 ? -1 : 1&#13;&#10;Start: 12.5, 0, -1.5&#13;&#10;End: polar 20, 81.76°&#13;&#10;Waymarks: ${if: ${type} = 1 ? _12B : _12D }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100, 0&#13;&#10;ScaleX: ${type} = 1 ? -1 : 1&#13;&#10;Start: 12.5, 0, -1.5&#13;&#10;End: polar 18.5, 135°&#13;&#10;Waymarks: ${if: ${type} = 1 ? _123B : _123D }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" ActionType="Placeholder" ExecutionDelayExpression="13800"/>
                      <Action OrderNumber="5" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                      <Action OrderNumber="6" ActionType="UseTTS" UseTTSTextExpression="回正北" UseTTSExclusive="False"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="fe7782eb-0422-4e35-b9c8-fbcc6d2cfa03" Name="O1.1 初始播报（红）" RegularExpression="^U7a4_二运_红:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="${?d:&#13;&#10;  0 = 蓝, &#13;&#10;  1 = 红冰，高，正左D点撞龙头,&#13;&#10;  2 = 红冰，低，正右B点撞龙头,&#13;&#10;  3 = 红风，高，左下贴边,&#13;&#10;  4 = 红风，低，右下贴边,&#13;&#10;[${v:U7a4_二运_my红idx}]}"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;Waymarks: ADCB&#13;&#10;O: 100, 100&#13;&#10;R: 12.5&#13;&#10;---&#13;&#10;Action: Linear&#13;&#10;Center: 100, 100&#13;&#10;θ: 0${v:U7a4_二运_my红idx} = 1 ? -π/2 : π/2&#13;&#10;Start: 0,  0, -1.5&#13;&#10;End:   0, -7, -0.5&#13;&#10;Waymarks: 1234">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_my红idx}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_my红idx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;Waymarks: ADCB&#13;&#10;O: 100, 100&#13;&#10;R: 12.5&#13;&#10;---&#13;&#10;Action: Linear&#13;&#10;O: 100, 100&#13;&#10;θ: 0${v:U7a4_二运_my红idx} = 3 ? -38.24° : 38.24°&#13;&#10;Start: 0, -3, -1&#13;&#10;End:   0, -20, -0&#13;&#10;Waymarks: 1234___${if: 0${v:U7a4_二运_my红idx} = 3 ? B : D }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_my红idx}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_my红idx}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="f42dfc83-255f-46b2-9e20-685af331ee3a" Name="O3.3 蓝暗/无" RegularExpression="^U7a4_二运:isTL慢:(?&lt;isTL慢&gt;[01]):is红:0:type:(?&lt;type&gt;[暗])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100&#13;&#10;θ: 0${isTL慢} ? -141.76° : 141.76°&#13;&#10;Start: 0, -3, -1&#13;&#10;End:   0, -20, -0&#13;&#10;Waymarks: 1234___${if: 0${isTL慢} ? B : D }"/>
                      <Action OrderNumber="2" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="${if: ${isTL慢} ? 去左上角落 : 去右上角落 }"/>
                      <Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="10800" Asynchronous="False"/>
                      <Action OrderNumber="4"/>
                      <Action OrderNumber="5" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="参与分摊"/>
                      <Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="3000" Asynchronous="False"/>
                      <Action OrderNumber="7"/>
                      <Action OrderNumber="8" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="去正北"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="47b4cbc6-761b-4876-a4a8-d1a4b3563446" Name="O3.2 红风" RegularExpression="^U7a4_二运:isTL慢:(?&lt;isTL慢&gt;[01]):is红:1:type:(?&lt;type&gt;[34])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="8000"/>
                      <Action OrderNumber="2"/>
                      <Action OrderNumber="3" ActionType="UseTTS" UseTTSTextExpression="穿到交界处贴边" UseTTSExclusive="False"/>
                      <Action OrderNumber="4" ActionType="Placeholder" Description="  人群侧" DescriptionOverride="True"/>
                      <Action OrderNumber="5" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load&#13;&#10;---&#13;&#10;O: 100, 100&#13;&#10;ScaleX: 0${type} = 3 ? -1 : 1&#13;&#10;${if: 0${type} = 3 ? B : D }: polar 20, 30°&#13;&#10;---&#13;&#10;Action: Linear&#13;&#10;O: 100, 100&#13;&#10;ScaleX: 0${type} = 3 ? -1 : 1&#13;&#10;Start: polar 20, 30°, -2&#13;&#10;End:   7.07, 10.3, -2&#13;&#10;Waymarks: ${if: 0${type} = 3 ? _124 : _123 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="6" ActionType="Placeholder" Description="  非人群侧" DescriptionOverride="True"/>
                      <Action OrderNumber="7" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load&#13;&#10;---&#13;&#10;O: 100, 100&#13;&#10;ScaleX: 0${type} = 3 ? -1 : 1&#13;&#10;${if: 0${type} = 3 ? B : D }: polar 20, 30°&#13;&#10;---&#13;&#10;Action: Linear&#13;&#10;O: 100, 100&#13;&#10;ScaleX: 0${type} = 3 ? -1 : 1&#13;&#10;Start: 3.49, 17.3, -2&#13;&#10;End:   7.07, 10.3, -2&#13;&#10;Waymarks: 1234">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="3600"/>
                      <Action OrderNumber="9"/>
                      <Action OrderNumber="10" ActionType="Placeholder" Description="  人群侧" DescriptionOverride="True"/>
                      <Action OrderNumber="11" ActionType="UseTTS" UseTTSTextExpression="撞龙头" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="12" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100&#13;&#10;ScaleX: 0${type} = 3 ? -1 : 1&#13;&#10;Start: polar 20, 30°, -2&#13;&#10;End:   7.07, 10.3&#13;&#10;Waymarks: ${if: 0${type} = 3 ? B124 : D123 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="13" ActionType="Placeholder" Description="  非人群侧" DescriptionOverride="True"/>
                      <Action OrderNumber="14" ActionType="UseTTS" UseTTSTextExpression="穿" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="15" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;ScaleX: 0${type} = 3 ? -1 : 1&#13;&#10;${if: 0${type} = 3 ? B : D }: -10, 0">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="16" ActionType="Placeholder" ExecutionDelayExpression="1800"/>
                      <Action OrderNumber="17" ActionType="Placeholder" Description="  非人群侧" DescriptionOverride="True"/>
                      <Action OrderNumber="18">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="19" ActionType="UseTTS" UseTTSTextExpression="撞龙头" UseTTSExclusive="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="20" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100&#13;&#10;ScaleX: 0${type} = 3 ? -1 : 1&#13;&#10;Start: 3.49, 17.3, -2&#13;&#10;End:   7.07, 10.3&#13;&#10;Waymarks: 1234">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is人群侧红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="21" ActionType="Placeholder" ExecutionDelayExpression="3000"/>
                      <Action OrderNumber="22" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="bd8f288b-cf7b-480c-bcec-db583f52b1d9" Name="O3.5 蓝 后续吃圈" RegularExpression="^U7a4_二运:isTL慢:(?&lt;isTL慢&gt;[01]):is红:0:type:(?&lt;type&gt;.)">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" ExecutionDelayExpression="14500"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                      <Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="2500"/>
                      <Action OrderNumber="4" ActionType="Placeholder" Asynchronous="False" Description="判断自己吃哪个圈" DescriptionOverride="True"/>
                      <Action OrderNumber="5" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a4_二运_my圈idx" VariableExpression="0"/>
                      <Action OrderNumber="6" ActionType="Placeholder" Asynchronous="False" Description="  点名：按 buff" DescriptionOverride="True"/>
                      <Action OrderNumber="7" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a4_二运_my圈idx" VariableExpression="${?l: &#13;&#10;  ${pd:U7a_cfg[P4二运点名1]},&#13;&#10;  ${pd:U7a_cfg[P4二运点名2]},&#13;&#10;  ${pd:U7a_cfg[P4二运点名3]},&#13;&#10;  ${pd:U7a_cfg[P4二运点名4]}&#13;&#10;.indexof(${type})}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运吃圈]}" ExpressionTypeL="String" ExpressionR="点名" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="8" ActionType="Placeholder" Asynchronous="False" Description="  摇号：读取头标" DescriptionOverride="True"/>
                      <Action OrderNumber="9" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a4_二运_my圈idx" VariableExpression="${_me.MarkerID}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运吃圈]}" ExpressionTypeL="String" ExpressionR="摇号" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="10" ActionType="Variable" Asynchronous="False" VariableOp="SetNumeric" VariableName="U7a4_二运_my圈idx" VariableExpression="(${v:U7a4_二运_my圈idx} &gt;= 0 &amp;&amp; ${v:U7a4_二运_my圈idx} &lt;= 3) ? (${v:U7a4_二运_my圈idx} + 1) : 0">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运吃圈]}" ExpressionTypeL="String" ExpressionR="摇号" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="11" ActionType="Placeholder" Asynchronous="False" Description="  优先级" DescriptionOverride="True"/>
                      <Action OrderNumber="12" ActionType="Variable" Asynchronous="False" VariableOp="SetString" VariableName="U7a4_二运_my圈idx" VariableExpression="${l:U7a4_二运_蓝_idx.indexof(${v:myIdx})}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运吃圈]}" ExpressionTypeL="String" ExpressionR="优先" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="13" ActionType="Placeholder" Asynchronous="False" Description="判断自己吃哪个圈" DescriptionOverride="True"/>
                      <Action OrderNumber="14" ActionType="UseTTS" Asynchronous="False" UseTTSTextExpression="${?d: 0 = 去吃圈, 1 = 面向下南，正左吃圈, 2 = 面向下南，左前吃圈, 3 = 面向下南，右前吃圈, 4 = 面向下南，正右吃圈 [${v:U7a4_二运_my圈idx}]}"/>
                      <Action OrderNumber="15" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[privateChannel]} 错误：无法判断吃圈次序">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_my圈idx}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="060a332c-3e9b-4ab9-8f6d-dbd92f63e3b4" Name="O3.4 蓝冰/水/圣" RegularExpression="^U7a4_二运:isTL慢:(?&lt;isTL慢&gt;[01]):is红:0:type:(?&lt;type&gt;[水冰圣])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100&#13;&#10;θ: 0${isTL慢} ? 38.24° : -38.24°&#13;&#10;Start: 0, -3, -1&#13;&#10;End:   0, -20, -0&#13;&#10;Waymarks: 1234__${if: 0${isTL慢} ? D : B }"/>
                      <Action OrderNumber="2" ActionType="UseTTS" UseTTSTextExpression="${if: ${isTL慢} ? 去右下角落 : 去左下角落 }"/>
                      <Action OrderNumber="3" ActionType="Placeholder" ExecutionDelayExpression="7800"/>
                      <Action OrderNumber="4" ActionType="UseTTS" UseTTSTextExpression="穿，击退到对面"/>
                      <Action OrderNumber="5" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Linear&#13;&#10;O: 100, 100&#13;&#10;ScaleX: 0${isTL慢} ? 1 : -1&#13;&#10;Start: polar 18, -135°&#13;&#10;End:   polar 20, 30°&#13;&#10;Waymarks: 4321______DCBA"/>
                      <Action OrderNumber="6"/>
                      <Action OrderNumber="7" ActionType="Placeholder" Asynchronous="False" Description="　　提取出 应和人群同组的红风 和 不应和人群同组的红风，并通过距离筛选确认实际与人群同组的红风 id" DescriptionOverride="True"/>
                      <Action OrderNumber="8" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Build" ListVariableExpression=":${l:U7a4_二运_红_idx.join(:, &quot;${if: ${isTL慢} ? 4,3 : 3,4 }&quot;)}" ListVariableTarget="tmp_红风"/>
                      <Action OrderNumber="9" ActionType="ListVariable" Asynchronous="False" ListVariableOp="Filter" ListVariableExpressionType="Numeric" ListVariableName="tmp_红风" ListVariableExpression="distance(${_entity[${l:party[${_this}]}].XY}, ${_me.XY}) &lt; 10" ListVariableTarget="tmp_红风"/>
                      <Action OrderNumber="10" ActionType="LogMessage" Asynchronous="False" LogMessageText="U7a4_二运_击退:红风:${l:tmp_红风[1]}:${l:party[${l:tmp_红风[1]}]}" LogProcess="True" LogProcessACT="True">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${l:tmp_红风.size}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericGreaterEqual"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="11" ActionType="ListVariable" Asynchronous="False" ListVariableExpressionType="Numeric" ListVariableName="tmp_红风"/>
                      <Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="4000"/>
                      <Action OrderNumber="13" ActionType="UseTTS" UseTTSTextExpression="斜点分摊"/>
                      <Action OrderNumber="14" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle&#13;&#10;Waymarks: ADCB&#13;&#10;R: 10&#13;&#10;O: 100, 100&#13;&#10;---&#13;&#10;Action: Linear&#13;&#10;O: 100, 100&#13;&#10;θ: 0${isTL慢} ? -130° : 130°&#13;&#10;Start: 0, -9, -1&#13;&#10;End:   0, -18.5, -0&#13;&#10;Waymarks: 1234"/>
                      <Action OrderNumber="15" ActionType="Placeholder" ExecutionDelayExpression="2000"/>
                      <Action OrderNumber="16"/>
                      <Action OrderNumber="17" ActionType="UseTTS" UseTTSTextExpression="去正北"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="c46cb95b-21a4-4abc-841d-4e2f682d0212" Name="O4. 红 撞头" RegularExpression="^U7a4_二运_撞头:(?&lt;tid&gt;1.{7})">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="${?d:&#13;&#10;  00 = 躲开,&#13;&#10;  01 = 去分摊,&#13;&#10;  10 = 回到下南,&#13;&#10;  11 = 回到下南&#13;&#10;  [${n: ${v:U7a4_二运_my红idx} &gt; 2}${v:U7a4_二运_is人群侧红}]&#13;&#10;}"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${tid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is红}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="be08ab08-570d-46ba-8c3a-5ff49bdfabd2" Name="O5.2 光波2" RegularExpression="^U7a4_二运_光波2:dir-4:(?&lt;dirN4&gt;[0-3])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Connect&#13;&#10;O: 100, 100&#13;&#10;θ: dir2rad(0${dirN4}, -4)&#13;&#10;Start: 0, 0, -1&#13;&#10;End: 0, -10&#13;&#10;Waymarks: ${?d: 0 = 234_1, 1 = 123_4, 2 = 412_3, 3 = 341_2 [${dirN4}]}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运指路on]}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="UseTTS" UseTTSTextExpression="最后去${f:pick(0${dirN4}): 壹点, 肆点, 叁点, 贰点}"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="36472c14-b39c-46eb-bbee-cacca428d9d6" Name="O1.2 自动摇号（自己）" RegularExpression="^U7a4_二运_红:" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Loop" ExecutionDelayExpression="random(1000, 2000)" LoopDelayExpression="1800" LoopIncrExpression="1800">
                        <LoopCondition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_i}" ExpressionTypeL="String" ExpressionR="18000" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                        </LoopCondition>
                        <LoopActions>
                          <Action OrderNumber="1" ActionType="NamedCallback" NamedCallbackName="command" NamedCallbackParam="/mk attack &lt;me&gt;">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${_me.MarkerID}" ExpressionTypeL="String" ExpressionR="^[0123]$" ExpressionTypeR="String" ConditionType="RegexNotMatch"/>
                            </Condition>
                          </Action>
                        </LoopActions>
                      </Action>
                      <Action OrderNumber="2" ActionType="Placeholder" ExecutionDelayExpression="33000"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" NamedCallbackName="queue" NamedCallbackParam="[&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack1 &lt;attack1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack2 &lt;attack2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack3 &lt;attack3&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack4 &lt;attack4&gt;&quot;}&#13;&#10;]"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运自动摇号]}" ExpressionTypeL="String" ExpressionR="自身" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                      <ConditionSingle Enabled="true" ExpressionL="${v:U7a4_二运_is红}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运吃圈]}" ExpressionTypeL="String" ExpressionR="摇号" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="83838f5c-c337-4e06-bd19-1c27e47818f4" Name="O2.2b 自动摇号（全队点名）" RegularExpression="^U7a4_二运_蓝:" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="mark" NamedCallbackParam="{ &#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${d:U7a4_二运_debuff2Idx[冰]}]}, &#13;&#10;  &quot;MarkType&quot;: &quot;attack${f:slice(-1):${pd:U7a_cfg.keyof(冰)}}&quot;, &#13;&#10;  &quot;LocalOnly&quot;: false&#13;&#10;}"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="mark" NamedCallbackParam="{ &#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${d:U7a4_二运_debuff2Idx[水]}]}, &#13;&#10;  &quot;MarkType&quot;: &quot;attack${f:slice(-1):${pd:U7a_cfg.keyof(水)}}&quot;, &#13;&#10;  &quot;LocalOnly&quot;: false&#13;&#10;}"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="mark" NamedCallbackParam="{ &#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${d:U7a4_二运_debuff2Idx[圣]}]}, &#13;&#10;  &quot;MarkType&quot;: &quot;attack${f:slice(-1):${pd:U7a_cfg.keyof(圣)}}&quot;, &#13;&#10;  &quot;LocalOnly&quot;: false&#13;&#10;}"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="mark" NamedCallbackParam="{ &#13;&#10;  &quot;ActorID&quot;: 0x${l:party[${d:U7a4_二运_debuff2Idx[暗]}]}, &#13;&#10;  &quot;MarkType&quot;: &quot;attack${f:slice(-1):${pd:U7a_cfg.keyof(暗)}}&quot;, &#13;&#10;  &quot;LocalOnly&quot;: false&#13;&#10;}"/>
                      <Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="33000"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" NamedCallbackName="queue" NamedCallbackParam="[&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack1 &lt;attack1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack2 &lt;attack2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack3 &lt;attack3&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack4 &lt;attack4&gt;&quot;}&#13;&#10;]"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运自动摇号]}" ExpressionTypeL="String" ExpressionR="全队点名" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运吃圈]}" ExpressionTypeL="String" ExpressionR="摇号" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Id="9bec3163-ff7f-462c-a7a5-02cb53f57b4a" Name="O2.2a 自动摇号（全队优先）" RegularExpression="^U7a4_二运_蓝:" Sequential="True">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="mark" NamedCallbackParam="{ &quot;ActorID&quot;: 0x${l:party[${l:U7a4_二运_蓝_idx[1]}]}, &quot;MarkType&quot;: &quot;attack1&quot;, &quot;LocalOnly&quot;: false }"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="mark" NamedCallbackParam="{ &quot;ActorID&quot;: 0x${l:party[${l:U7a4_二运_蓝_idx[2]}]}, &quot;MarkType&quot;: &quot;attack2&quot;, &quot;LocalOnly&quot;: false }"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="mark" NamedCallbackParam="{ &quot;ActorID&quot;: 0x${l:party[${l:U7a4_二运_蓝_idx[3]}]}, &quot;MarkType&quot;: &quot;attack3&quot;, &quot;LocalOnly&quot;: false }"/>
                      <Action OrderNumber="4" ActionType="NamedCallback" Asynchronous="False" NamedCallbackName="mark" NamedCallbackParam="{ &quot;ActorID&quot;: 0x${l:party[${l:U7a4_二运_蓝_idx[4]}]}, &quot;MarkType&quot;: &quot;attack4&quot;, &quot;LocalOnly&quot;: false }"/>
                      <Action OrderNumber="5" ActionType="Placeholder" ExecutionDelayExpression="33000"/>
                      <Action OrderNumber="6" ActionType="NamedCallback" NamedCallbackName="queue" NamedCallbackParam="[&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack1 &lt;attack1&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack2 &lt;attack2&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack3 &lt;attack3&gt;&quot;},&#13;&#10;  { &quot;c&quot;: &quot;command&quot;, &quot;p&quot;: &quot;/mk attack4 &lt;attack4&gt;&quot;}&#13;&#10;]"/>
                    </Actions>
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运自动摇号]}" ExpressionTypeL="String" ExpressionR="全队优先" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                      <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P4二运吃圈]}" ExpressionTypeL="String" ExpressionR="摇号" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="false" Id="3b1736f1-d6fa-41ce-828d-eebd1aa8424a" Name="to-do: 击退标点；吃圈路径；标记圈">
                    <Actions/>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers/>
          </Folder>
          <Folder Id="e9346392-6fb2-464c-b3c4-aad2d78337fa" Name="P5" Enabled="true">
            <Folders>
              <Folder Id="479a2a30-9a01-4e06-ab66-09c1f1649f58" Name="B. 踩塔" Enabled="true" RawEnvironmentVariables="phase = P5踩塔">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="625aab2a-e84e-491a-9eac-70780eea2020" Name="+0. 初始" RegularExpression="^.{15}\S+ 14:4.{7}:[^:]+:9D7F:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="Action: Circle &#13;&#10;O: 100, 100&#13;&#10;Waymarks: A14C32&#13;&#10;R: 8"/>
                      <Action OrderNumber="2" ActionType="UseTTS" UseTTSTextExpression="准备踩塔"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" ExecutionDelayExpression="21700" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                      <Action OrderNumber="4" ActionType="UseTTS" UseTTSTextExpression="挡枪站位，去${if: ${v:myIdx} % 2 = 1 ? 左后 : 右后 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="6ee51f15-5d8f-4283-b970-68deac34284c" Name="O1. 初始播报" RegularExpression="^U7a5_塔1:dir-3:(?&lt;dirN3_1&gt;[012]):is先暗:(?&lt;is先暗&gt;[01]):is一仇:(?&lt;is一仇&gt;[01])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="Placeholder" Description="自己不是 T" DescriptionOverride="True"/>
                      <Action OrderNumber="2" ActionType="UseTTS" UseTTSTextExpression="${if: ${is先暗} ? 暗，去左 : 光，去右 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="Placeholder" Description="自己不是当前 T" DescriptionOverride="True"/>
                      <Action OrderNumber="4" ActionType="UseTTS" UseTTSTextExpression="${if: ${is先暗} ? 暗，左后方脚下 : 光，右后方远离 }，挑衅">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                          <ConditionSingle Enabled="true" ExpressionL="${is一仇}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="5" ActionType="Placeholder" Description="自己是当前 T" DescriptionOverride="True"/>
                      <Action OrderNumber="6" ActionType="UseTTS" UseTTSTextExpression="${if: ${is先暗} ? 暗 : 光 }，去壹塔对面">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                          <ConditionSingle Enabled="true" ExpressionL="${is一仇}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="7" ActionType="UseTTS" ExecutionDelayExpression="5000" UseTTSTextExpression="退避">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                          <ConditionSingle Enabled="true" ExpressionL="${is一仇}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="8" ActionType="Placeholder" ExecutionDelayExpression="3000"/>
                      <Action OrderNumber="9" ActionType="Placeholder" Description="自己不是 T" DescriptionOverride="True"/>
                      <Action OrderNumber="10" ActionType="UseTTS" UseTTSTextExpression="对穿">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericGreater"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="11" ActionType="Placeholder" Description="自己不是初始的当前 T" DescriptionOverride="True"/>
                      <Action OrderNumber="12" ActionType="UseTTS" UseTTSTextExpression="回目标圈">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                          <ConditionSingle Enabled="true" ExpressionL="${is一仇}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="13" ActionType="Placeholder" Description="自己是初始的当前 T" DescriptionOverride="True"/>
                      <Action OrderNumber="14" ActionType="UseTTS" UseTTSTextExpression="${if: ${is先暗} ? 光，远离引导 : 暗，脚下引导 }">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                          <ConditionSingle Enabled="true" ExpressionL="${is一仇}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="15" ActionType="Placeholder" ExecutionDelayExpression="3000"/>
                      <Action OrderNumber="16" ActionType="Placeholder" Description="自己不是初始的当前 T" DescriptionOverride="True"/>
                      <Action OrderNumber="17" ActionType="UseTTS" UseTTSTextExpression="拉到正点方向">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                          <ConditionSingle Enabled="true" ExpressionL="${is一仇}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="11908301-e5af-48f5-88ac-14e45962f1ca" Name="C. 挡枪" Enabled="true" RawEnvironmentVariables="phase = P5挡枪">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="16af74c8-2850-4f4b-a6e1-7402309757d8" Name="+0. 初始" RegularExpression="^.{15}\S+ 107:4.{7}:9D7C:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):(?&lt;z&gt;[^:]+):(?&lt;h&gt;[^:]+)">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="${if: ${v:myIdx} = 1 ? 左后挡枪站位 : 右后挡枪站位 }">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:myIdx}" ExpressionTypeL="String" ExpressionR="2" ExpressionTypeR="String" ConditionType="NumericLessEqual"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100&#13;&#10;θ: 0${h}&#13;&#10;&#13;&#10;A: -5, 5&#13;&#10;1: -7, 7&#13;&#10;3: -9, 9&#13;&#10;&#13;&#10;B:  5, 5&#13;&#10;2:  7, 7&#13;&#10;4:  9, 9&#13;&#10;&#13;&#10;C:  0, 8&#13;&#10;D:  0, 10.5"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" ExecutionDelayExpression="23400" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="ffa5a804-989b-4881-a62d-a533ac53863e" Name="O2. 二段判定" RegularExpression="^U7a5_挡枪二段:(?&lt;n2&gt;[1234])">
                    <Actions>
                      <Action OrderNumber="1" SystemBeepLengthExpression="200">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${n2}" ExpressionTypeL="String" ExpressionR="4" ExpressionTypeR="String" ConditionType="NumericLess"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" ActionType="UseTTS" UseTTSTextExpression="${?d: &#13;&#10;  10 = 左后, 11 = 左前挡枪, 12 = 右后,&#13;&#10;  00 = 右后, 01 = 右前挡枪, 02 = 左后,&#13;&#10;  [${v:myIdx_isG1}${n: sign(${n2} - ${v:U7a5_挡枪_my换位轮次} + 1) + 1}]&#13;&#10;}">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${n2}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericLess"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P5挡枪]}" ExpressionTypeL="String" ExpressionR="TMRT" ExpressionTypeR="String" ConditionType="StringNotEqualNocase"/>
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" ActionType="UseTTS" UseTTSTextExpression="${?d: &#13;&#10;  11 = 右前挡枪, 10 = 左后,&#13;&#10;  01 = 左前挡枪, 00 = 右后&#13;&#10;  [${v:myIdx_isG1}${n: ${v:U7a5_挡枪_my换位轮次} &lt; 4 }]&#13;&#10;}">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${n2}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericEqual"/>
                          <ConditionSingle Enabled="true" ExpressionL="${pd:U7a_cfg[P5挡枪]}" ExpressionTypeL="String" ExpressionR="TMRT" ExpressionTypeR="String" ConditionType="StringEqualNocase"/>
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="61e0ef42-89b0-4f40-826f-cb8c695f3248" Name="O1. 一段判定" RegularExpression="^U7a5_挡枪一段:(?&lt;n1&gt;[1-4])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="${if: ${n1} = ${v:U7a5_挡枪_my换位轮次} &amp;&amp; ${n1} != 4 ? 去中间，换位 : 去中间 }"/>
                      <Action OrderNumber="2" SystemBeepLengthExpression="200"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="5d52ead7-ff8a-4e13-8e1f-37c031767321" Name="A. 地火" Enabled="true" RawEnvironmentVariables="phase = P5地火">
                <Folders/>
                <Triggers>
                  <Trigger Enabled="true" Id="a8dbe1b6-d084-4123-9ba3-a6f92cd8aea4" Name="+0. 初始化" RegularExpression="^.{15}\S+ 14:(?&lt;id&gt;4.{7}):[^:]+:9D72:">
                    <Actions>
                      <Action OrderNumber="1" ActionType="UseTTS" UseTTSTextExpression="AoE，地火"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" DescTextColor="26f" NamedCallbackName="SetObjectScale" NamedCallbackParam="${_entity[${id}].address}, 2.5"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="e305fb08-704f-4bb8-9348-020fb90e51a4" Name="O1. 播报" RegularExpression="^U7a5_地火:中心dir4:(?&lt;dir4_0&gt;[0-3]):is逆:(?&lt;is逆&gt;[01]):初始dir-8:(?&lt;dir_8_1&gt;[0-7])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="NamedCallback" Asynchronous="False" DescBgColor="fdd" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[debugChannel]} [Debug]&#13;&#10;${_event}"/>
                      <Action OrderNumber="2" ActionType="NamedCallback" Asynchronous="False" DescBgColor="fdd" NamedCallbackName="command" NamedCallbackParam="/${pd:U7a_cfg[publicChannel]} &#13;&#10;地火：${f:pick(${dir4_0}): 上北 A, 左西 D, 下南 C, 右东 D}　${if: ${is逆} ? 逆 : ${if: ${_ffxivisglobal} ? 順 : 顺 } }"/>
                      <Action OrderNumber="3" ActionType="NamedCallback" Asynchronous="False" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="O: 100, 100 polar 5√2, dir2rad(${dir4_0}, 4)&#13;&#10;A: polar 1.25 / sin(67.5°), dir2rad(${dir_8_1} , -8) + π&#13;&#10;B: polar 1.25 / sin(22.5°), dir2rad(${dir_8_1} + (${is逆} ? 7 : 1) , -8)&#13;&#10;C: polar 1.25 / sin(22.5°), dir2rad(${dir_8_1} + (${is逆} ? 1 : 7) , -8)&#13;&#10;D: fakeclear&#13;&#10;1: fakeclear&#13;&#10;2: polar 1.1√2, ${n: dir2rad((${dir_8_1} + (${is逆} ? 7 : 1)) // 2 , -4)}&#13;&#10;3: polar 1.1√2, ${n: dir2rad((${dir_8_1} + (${is逆} ? 1 : 7)) // 2 , -4)}&#13;&#10;4: fakeclear&#13;&#10;"/>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Id="977305c5-6a3c-4e0e-acdb-ce2cbe7d9d27" Name="O2. 播报" RegularExpression="^U7a5_地火_时间轴:中心dir4:(?&lt;dir4_0&gt;[0-3]):is逆:(?&lt;is逆&gt;[01]):初始dir-8:(?&lt;dir_8_1&gt;[0-7])">
                    <Actions>
                      <Action OrderNumber="1" ActionType="LogMessage" LogMessageText="cd4:14.2" LogProcess="True" LogProcessACT="True"/>
                      <Action OrderNumber="2" ActionType="LogMessage" LogMessageText="cd4:18.2" LogProcess="True" LogProcessACT="True"/>
                      <Action OrderNumber="3" ActionType="LogMessage" LogMessageText="cd4:22.2" LogProcess="True" LogProcessACT="True"/>
                      <Action OrderNumber="4" ActionType="UseTTS" ExecutionDelayExpression="3300" UseTTSTextExpression="去${f:pick(${dir4_0}): 上北, 左西, 下南, 右东}，站在A点"/>
                      <Action OrderNumber="5" ActionType="UseTTS" ExecutionDelayExpression="5000" UseTTSTextExpression="准备${if: ${is逆} ? 逆时针 : 顺时针 }去B点"/>
                      <Action OrderNumber="6" ActionType="Placeholder" ExecutionDelayExpression="5700"/>
                      <Action OrderNumber="7" ActionType="Placeholder" Description="第一组第二次判定" DescriptionOverride="True"/>
                      <Action OrderNumber="8" ActionType="UseTTS" UseTTSTextExpression="去B点"/>
                      <Action OrderNumber="9" ActionType="Placeholder" ExecutionDelayExpression="4000"/>
                      <Action OrderNumber="10" ActionType="Placeholder" Description="第二组第二次判定" DescriptionOverride="True"/>
                      <Action OrderNumber="11" ActionType="UseTTS" UseTTSTextExpression="去C点"/>
                      <Action OrderNumber="12" ActionType="Placeholder" ExecutionDelayExpression="4000"/>
                      <Action OrderNumber="13" ActionType="Placeholder" Description="第三组第二次判定" DescriptionOverride="True"/>
                      <Action OrderNumber="14" ActionType="UseTTS" UseTTSTextExpression="回A点"/>
                      <Action OrderNumber="15" ActionType="NamedCallback" ExecutionDelayExpression="2000" DescBgColor="dff" NamedCallbackName="AdvWm" NamedCallbackParam="load"/>
                      <Action OrderNumber="16" ActionType="UseTTS" UseTTSTextExpression="左右分摊"/>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers/>
          </Folder>
        </Folders>
        <Triggers>
          <Trigger Enabled="false" Id="3badd8fd-a0be-49d0-a2c5-c224afe4bd5f" Name="配置正确的情况下此分组不需要手动修改。手动修改意味着你清楚你在干什么，产生任何不符合预期的输出由你自行解决。">
            <Actions/>
          </Trigger>
        </Triggers>
      </Folder>
    </Folders>
    <Triggers>
      <Trigger Enabled="false" Id="a73a88b2-6488-436d-aec0-d7b7aace612c" Name="【使用说明】 点开看" Source="None">
        <Actions>
          <Action OrderNumber="1" ActionType="Placeholder" Description="·前置&#13;&#10;" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True"/>
          <Action OrderNumber="2" ActionType="Placeholder" Description="　触发器 v1.2.0.718+（会自动更新） 鲶鱼精邮差  远程触发器中的运行支持库（触发器自带）  不需要cactbotself" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="3" ActionType="Placeholder" Description="　如果你有 cactbot，使用前去 OverlayPlugin 悬浮窗插件选项卡中关掉绝伊甸的 TTS" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True"/>
          <Action OrderNumber="4" ActionType="Placeholder" Description="·用户配置" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True"/>
          <Action OrderNumber="5" ActionType="Placeholder" Description="　你只需要按说明操作即可完成配置，不需要手动开关任何触发器。" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True"/>
          <Action OrderNumber="6" ActionType="Placeholder" Description="　进本自动弹出配置界面（含小队列表），没看见的话检查触发器报错和后台窗口" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="7" ActionType="Placeholder" Description="　如需手动开启，游戏内输入指令（大小写不敏感）：" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="8" ActionType="Placeholder" Description="　  绝伊甸副本内：/e cfg" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="9" ActionType="Placeholder" Description="　  绝伊甸副本外：/e cfg FRU/Eden/伊甸/yidian/U7a （后面任选其一，喜欢哪个用哪个）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="10" ActionType="LogMessage" Description="　  也可右键此行 - 测试动作" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" LogMessageText="[00:00:00.000] ChatLog 00:0038::cfg eden" LogProcess="True"/>
          <Action OrderNumber="11" ActionType="LaunchProcess" Description="　使用图文说明见 b 站（右键此行-测试动作 打开）" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" LaunchProcessPathExpression="https://space.bilibili.com/83429972/article"/>
          <Action OrderNumber="12" ActionType="Placeholder" Description="· 说明（仅列出图文说明中没有写明的部分内容）&#13;&#10;" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True"/>
          <Action OrderNumber="13" ActionType="Placeholder" Description="· P2" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="14" ActionType="Placeholder" Description="滑冰" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="15" ActionType="Placeholder" Description="　滑冰前：如果自己在希瓦半场则标出希瓦背后的区域，否则用弧形标点标出一次可滑到 Boss 身后的范围，最好在结冰前进入二者之一" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="16" ActionType="Placeholder" Description="　冰地板判定后，如果自己：" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="17" ActionType="Placeholder" Description="　位于身后：无提示（文字提醒此处必须预先滑一次）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="18" ActionType="Placeholder" Description="　位于侧面（未成功进入上述两区域）：用弧形标点标出一次可滑到 Boss 身后的范围，你需要先滑进这个区域再处理" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="19" ActionType="Placeholder" Description="　位于前方（可一次滑进身后）：用一排标点标出最安全的滑动角度 （标点末端为滑冰终点）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="20" ActionType="Placeholder" Description="　计算无法考虑有人把光圈塞到 Boss 背后的情况（正常不会出现），如果指路指向了光圈则自己回避一下。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="21" ActionType="Placeholder" Description="光暴（放圈）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="22" ActionType="Placeholder" Description="　· 从点名出现到第一个圈判定有 7 秒时间。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="23" ActionType="Placeholder" Description="　· 最开始 TTS 会就近分配起始位置（灰九式斜六角星：左/右，正六角星：下偏左/上偏右）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="24" ActionType="Placeholder" Description="　  与此同时会放置场地标点（四个正点 ABCD；灰九从 DB 开始，正六角星会在初始起跑点额外放置 2/4）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="25" ActionType="Placeholder" Description="　· 由于可能灵性站位，导致自己去的点位和分配的不同，在五秒后会持续检测你去了哪个初始点，" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="26" ActionType="Placeholder" Description="　  并从这个初始点开始标记最优放圈路线（经计算确认的，比现行攻略更优）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="27" ActionType="Placeholder" Description="　· 跟着标点跑就好了，每个标点放一个圈" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="28" ActionType="Placeholder" Description="· P5" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="29" ActionType="Placeholder" Description="地火" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="30" ActionType="Placeholder" Description="　地火读条时，场地出现五个标点 ABC23" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="31" ActionType="Placeholder" Description="　ABC 约为正三角形，初始站在 A" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="32" ActionType="Placeholder" Description="　听提示音（每四声的最后一声时移动）依次穿到 B、C，最后回到 A，每次相应的圆形标点内均为安全范围" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="33" ActionType="Placeholder" Description="　2 和 3 位于 B 和 C 内侧，如果想移动更短的距离，可以参考这两个点（正方形标点只有对角线的一侧安全）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="34" ActionType="Placeholder" Description="塔" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="35" ActionType="Placeholder" Description="　当前 MT 一塔对侧，ST 一塔偏安全侧" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="36" ActionType="Placeholder" Description="·已知问题" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True"/>
          <Action OrderNumber="37" ActionType="Placeholder" Description="　实体缩放功能现为测试版，偶尔会还原回原始大小，且暂不支持自定义缩放倍率" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="38" ActionType="Placeholder" Description="·关于" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True"/>
          <Action OrderNumber="39" ActionType="Placeholder" Description="　　by 阿洛 MnFeN   群号 556836295 / 133514183" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="40" ActionType="LaunchProcess" Description="　　你可以关注这个 b 站账号，不定期更新视频介绍（右键这一行 - 测试动作）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True" LaunchProcessPathExpression="https://space.bilibili.com/83429972"/>
        </Actions>
      </Trigger>
      <Trigger Enabled="false" Id="a1cf1ad5-116b-4fd0-90df-7a5914b525e9" Name="【测试说明】 点开看 不要在外面执行！" Source="None">
        <Actions>
          <Action OrderNumber="1" ActionType="Placeholder" Description="- 使用说明" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True"/>
          <Action OrderNumber="2" ActionType="Placeholder" Description="  触发器内置了一些测试功能，可以调试某些机制播报是否正确。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="3" ActionType="Placeholder" Description="  你也可以用作模拟器，模拟自己的全部点名情况，熟悉会怎么播报。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="4" ActionType="Placeholder" Description="  远程触发器中的 “运行支持库” 必须完整开启。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="5" ActionType="MessageBox" Description="【文本为红色的行可以 右键 - 测试动作 执行其标注的指令】" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" MessageBoxIconType="Information" MessageBoxText="但这行除外。"/>
          <Action OrderNumber="6" ActionType="Placeholder" Description="  这些指令仅用于单人模拟，不能用于实际打本。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="7" ActionType="Placeholder" Description="  （如果你在绝伊甸且小队满员，使用配置界面设置过小队，也可用来测试，但不要用下面的 setparty）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="8" ActionType="Placeholder" Description="- 如果自己不在绝伊甸中：" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="9" ActionType="Placeholder" Description="  - 解限进入与绝伊甸地图尺寸坐标均相同的副本（如伊甸 8 层）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="10" ActionType="NamedCallback" Description="  - 输入 /e zone 1238 使触发器模拟进入绝伊甸地图" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" NamedCallbackName="command" NamedCallbackParam="/e zone 1238"/>
          <Action OrderNumber="11" ActionType="NamedCallback" Description="  - 输入 /e mk 10 应用初始场地标点" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" NamedCallbackName="command" NamedCallbackParam="/e mk 10"/>
          <Action OrderNumber="12" ActionType="Placeholder" Description="- 如果自己未设置过小队，或希望修改自己的职能位置：" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="13" ActionType="Placeholder" Description="  - 输入 /e setparty X 8, 其中 X 为你的小队顺次（MT - D4 为 1 - 8，下文的小队顺次简称为 idx）" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="14" ActionType="Placeholder" Description="- 其他说明：" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="15" ActionType="Placeholder" Description="  - 调试时可能因实体不存在而产生错误日志或播报不完整（如职业）。如果机制播报无误则可以无视。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="16" ActionType="Trigger" Description="  - 如果要打断测试，在触发器右上角 选项 中点击 “清除动作序列”。" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" TriggerOp="CancelAllTrigger"/>
          <Action OrderNumber="17" ActionType="Placeholder" Description="- 模拟机制：" DescBgColor="346" DescTextColor="fff" DescriptionOverride="True"/>
          <Action OrderNumber="18" ActionType="Placeholder" Description="  - 每次模拟前应该有一条带 &lt;se.10&gt; 提示音的默语消息，TTS 等播报可能会晚几秒。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="19" ActionType="Placeholder" Description="  - P1 雷火线" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="20" ActionType="Placeholder" Description="    - 指令：/e u7a p1 [idx1][is雷1] [idx2][is雷2] [idx3][is雷3] [idx4][is雷4]" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="21" ActionType="Placeholder" Description="    - 参数：idx 为每根线点名者的小队顺次 [1-8]，is雷 为这个线是否为雷线 [0-1]" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="22" ActionType="NamedCallback" Description="    - 例：/e u7a p1 10 51 30 21 代表四根线分别为 MT 雷，D1 火，H1 雷，ST 火" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" NamedCallbackName="command" NamedCallbackParam="/e u7a p1 10 51 30 21"/>
          <Action OrderNumber="23" ActionType="Placeholder" Description="  - P1 六人塔" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="24" ActionType="Placeholder" Description="    - 指令：/e u7a p1 [北塔人数][中塔人数][南塔人数]" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="25" ActionType="Placeholder" Description="    - 例：/e u7a p1 312" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True"/>
          <Action OrderNumber="26" ActionType="Placeholder" Description="  - P2 光暴（不含后续躲避光球）" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="27" ActionType="Placeholder" Description="    - 指令：/e u7a p2 [idx*6]" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="28" ActionType="Placeholder" Description="    - 参数：按照连线顺序（起始位置随意），连线六人的小队顺次。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="29" ActionType="NamedCallback" Description="    - 例：/e u7a p2 182453 （连线：MT - D4 - ST - H2 - D1 - H1）" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" NamedCallbackName="command" NamedCallbackParam="/e u7a p2 182453"/>
          <Action OrderNumber="30" ActionType="Placeholder" Description="    - 注：输入的六人中不包含自己即为模拟自己放圈。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="31" ActionType="Placeholder" Description="  - P3 一运（模拟时相对北的紫线固定在东北）" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="32" ActionType="Placeholder" Description="    - 指令：/e u7a p31 [点名*8]" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="33" ActionType="Placeholder" Description="    - 参数：点名 冰 = 0，短 = 1，中 = 2，长 = 3，按小队顺次依次写出八人的点名。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="34" ActionType="Placeholder" Description="    - 注：前四位必须为 [01]233 的组合，后四位必须为 112[03] 的组合。两个括号必须有一个选择 0，另一个选择非 0。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="35" ActionType="Placeholder" Description="      　　相对北（紫线）固定在东北，不支持调整。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="36" ActionType="NamedCallback" Description="    - 例：/e u7a p31 02332113 （MT 冰，ST 中，H1 长，H2 长，...）" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" NamedCallbackName="command" NamedCallbackParam="/e u7a p31 02332113"/>
          <Action OrderNumber="37" ActionType="Placeholder" Description="  - P3 二运" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="38" ActionType="Placeholder" Description="    - 指令：/e u7a p32 [短idx*2][中idx*2][长idx*2] [方向] [is顺]" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="39" ActionType="Placeholder" Description="    - 参数：idx 为点名者小队顺次 [0-8]，初始地火方向 [0-3] 0｜ 1＼ 2－ 3／，is顺 [01]" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="40" ActionType="NamedCallback" Description="    - 例：/e u7a p32 172458 2 1（MT D3 短，ST H2 中，D1 D4 长，地火横向出发，顺时针）" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" NamedCallbackName="command" NamedCallbackParam="/e u7a p32 172458 2 1"/>
          <Action OrderNumber="41" ActionType="Placeholder" Description="    - 注：[可选] 你可以在某处提前放置任意召唤物，其位置代表盖娅跳跃之后的位置。" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="42" ActionType="Placeholder" Description="  - P4 一运" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="43" ActionType="Placeholder" Description="    - 指令：/e u7a p41 [分摊idx*2] [连线idx*4]" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="44" ActionType="NamedCallback" Description="    - 例：/e u7a p41 38 1365（H1 D4 分摊，MT-H1-D2-D1 连线）" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" NamedCallbackName="command" NamedCallbackParam="/e u7a p41 38 1365"/>
          <Action OrderNumber="45" ActionType="Placeholder" Description="  - P4 二运" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="46" ActionType="Placeholder" Description="    - 指令：/e u7a p42 [红冰idx*2][红风idx*2][蓝idx*4]" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="47" ActionType="Placeholder" Description="    - 参数：四个蓝点名顺序为冰水圣暗" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="48" ActionType="NamedCallback" Description="    - 例：/e u7a p42 13572468（MT H1 红冰，ST H2 红风，D1-4 蓝冰水圣暗）" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" NamedCallbackName="command" NamedCallbackParam="/e u7a p42 13572468"/>
          <Action OrderNumber="49" ActionType="Placeholder" Description="    - 注：紫线＼，光波右、上，暂不支持调整" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="50" ActionType="Placeholder" Description="  - P5 地火" DescBgColor="bce" DescTextColor="234" DescriptionOverride="True"/>
          <Action OrderNumber="51" ActionType="NamedCallback" Description="    - 指令：/e u7a p5" DescBgColor="f4faff" DescTextColor="800" DescriptionOverride="True" NamedCallbackName="command" NamedCallbackParam="/e u7a p5"/>
          <Action OrderNumber="52" ActionType="Placeholder" Description="    - 注：正右，顺时针，暂不支持调整" DescBgColor="f4faff" DescTextColor="234" DescriptionOverride="True"/>
        </Actions>
      </Trigger>
    </Triggers>
  </ExportedFolder>
</TriggernometryExport>
